import{s as rt,f as u,a as C,l as Ne,g as d,h as y,N as P,c as I,m as Pe,d as f,j as n,i as R,r as o,u as J,O as Lt,n as Ye,C as Ve,v as je,P as ne,Q as Rt,w as Ke,o as ut,p as vt,z as Fe,A as We,e as st,R as pt,S as tt,K as it,k as Ge,T as bt,U as Bt,V as Dt,W as It,E as Ks,F as Ys,G as Xs,H as Qs,t as gl}from"../chunks/scheduler.db7150c1.js";import{S as nt,i as at,b as Xe,d as Qe,m as $e,a as Ue,t as Ze,e as et,g as al,c as ol,f as Mt,h as $s}from"../chunks/index.b1cd4f75.js";import{a as He}from"../chunks/Toaster.svelte_svelte_type_style_lang.447a0fc4.js";import{f as Os}from"../chunks/FileSaver.min.898eb36f.js";import{g as Et}from"../chunks/navigation.9b0464c0.js";import{g as il,p as er,a as Ns,c as tr,d as lr,u as sr,b as Ps}from"../chunks/index.062aeb6f.js";import{g as rr}from"../chunks/index.4f17d054.js";import{g as nr}from"../chunks/index.880fa51c.js";import{g as ar,a as or,u as ir,b as cr,c as Us}from"../chunks/index.f3796a7d.js";import{L as Zt,u as yt,W as cl,b as _l,s as zt,m as ht,a as js,d as bl,c as St,e as wt,f as Ht,g as Xt,h as ur,i as Qt,j as yl,p as dr,k as fr}from"../chunks/index.4420118e.js";import{g as hr}from"../chunks/index.1d5954ca.js";import{s as vr,g as pr,a as mr,d as gr,b as Tt,c as wl,e as _r,f as xl,h as br,i as yr,j as wr,k as xr,u as kr,t as Cr,l as Ir,m as Tr,n as Er,T as zs,o as Dr,p as Mr,q as Vr,r as Lr,v as Rs}from"../chunks/Tooltip.da050f7b.js";import{c as Ar,a as Sr,s as Ft,g as Hr,b as Br}from"../chunks/index.496e36ff.js";import{M as ul,s as Or}from"../chunks/Modal.5f424d00.js";import{u as Nr,a as Pr}from"../chunks/index.d98f23e6.js";import{g as Ur}from"../chunks/index.b6e7b597.js";import{a as jr,g as Zs,b as zr}from"../chunks/index.a0b0dd98.js";import{e as qe}from"../chunks/each.53f911cf.js";import{g as Rr}from"../chunks/_commonjsHelpers.de833af9.js";import{A as Zr}from"../chunks/AdvancedParams.27a3780e.js";import{r as qr}from"../chunks/index.13a11854.js";import"../chunks/singletons.ea2aed24.js";const Gr=(s,e)=>e.some(t=>s instanceof t);let kl,Cl;function Fr(){return kl||(kl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wr(){return Cl||(Cl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qs=new WeakMap,$t=new WeakMap,Gs=new WeakMap,Wt=new WeakMap,dl=new WeakMap;function Jr(s){const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("success",i),s.removeEventListener("error",a)},i=()=>{t(xt(s.result)),r()},a=()=>{l(s.error),r()};s.addEventListener("success",i),s.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&qs.set(t,s)}).catch(()=>{}),dl.set(e,s),e}function Kr(s){if($t.has(s))return;const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("complete",i),s.removeEventListener("error",a),s.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{l(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",i),s.addEventListener("error",a),s.addEventListener("abort",a)});$t.set(s,e)}let el={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return $t.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Gs.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xt(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function Yr(s){el=s(el)}function Xr(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(Jt(this),e,...t);return Gs.set(l,e.sort?e.sort():[e]),xt(l)}:Wr().includes(s)?function(...e){return s.apply(Jt(this),e),xt(qs.get(this))}:function(...e){return xt(s.apply(Jt(this),e))}}function Qr(s){return typeof s=="function"?Xr(s):(s instanceof IDBTransaction&&Kr(s),Gr(s,Fr())?new Proxy(s,el):s)}function xt(s){if(s instanceof IDBRequest)return Jr(s);if(Wt.has(s))return Wt.get(s);const e=Qr(s);return e!==s&&(Wt.set(s,e),dl.set(e,s)),e}const Jt=s=>dl.get(s);function $r(s,e,{blocked:t,upgrade:l,blocking:r,terminated:i}={}){const a=indexedDB.open(s,e),c=xt(a);return l&&a.addEventListener("upgradeneeded",h=>{l(xt(a.result),h.oldVersion,h.newVersion,xt(a.transaction),h)}),t&&a.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{i&&h.addEventListener("close",()=>i()),r&&h.addEventListener("versionchange",v=>r(v.oldVersion,v.newVersion,v))}).catch(()=>{}),c}function Il(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),xt(t).then(()=>{})}const en=["get","getKey","getAll","getAllKeys","count"],tn=["put","add","delete","clear"],Kt=new Map;function Tl(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Kt.get(e))return Kt.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,r=tn.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(r||en.includes(t)))return;const i=async function(a,...c){const h=this.transaction(a,r?"readwrite":"readonly");let v=h.store;return l&&(v=v.index(c.shift())),(await Promise.all([v[t](...c),r&&h.done]))[0]};return Kt.set(e,i),i}Yr(s=>({...s,get:(e,t,l)=>Tl(e,t)||s.get(e,t,l),has:(e,t)=>!!Tl(e,t)||s.has(e,t)}));const Fs=async(s="")=>{let e=null;const t=await fetch(`${Zt}/v1/models`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),e=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(e)throw e;const l=Array.isArray(t)?t:(t==null?void 0:t.data)??null;return l&&l.map(r=>({id:r.id,name:r.name??r.id,external:!0,source:"litellm"})).sort((r,i)=>r.name.localeCompare(i.name))},Yt=async(s="")=>{let e=null;const t=await fetch(`${Zt}/model/info`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),e=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(e)throw e;return Array.isArray(t)?t:(t==null?void 0:t.data)??null},ln=async(s="",e)=>{let t=null;const l=await fetch(`${Zt}/model/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}},body:JSON.stringify({model_name:e.name,litellm_params:{model:e.model,...e.api_base===""?{}:{api_base:e.api_base},...e.api_key===""?{}:{api_key:e.api_key},...isNaN(parseInt(e.rpm))?{}:{rpm:parseInt(e.rpm)}}})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),t=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(t)throw t;return l},sn=async(s="",e)=>{let t=null;const l=await fetch(`${Zt}/model/delete`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}},body:JSON.stringify({id:e})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),t=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(t)throw t;return l};function El(s){let e,t,l,r="Current Password",i,a,c,h,v,b,m="New Password",p,_,g,w,x,T,H="Confirm Password",L,O,j,M,B,z='<button class="px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium">Update password</button>',V,E;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=C(),a=u("div"),c=u("input"),h=C(),v=u("div"),b=u("div"),b.textContent=m,p=C(),_=u("div"),g=u("input"),w=C(),x=u("div"),T=u("div"),T.textContent=H,L=C(),O=u("div"),j=u("input"),M=C(),B=u("div"),B.innerHTML=z,this.h()},l(D){e=d(D,"DIV",{class:!0});var U=y(e);t=d(U,"DIV",{class:!0});var q=y(t);l=d(q,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1oy1m4o"&&(l.textContent=r),i=I(q),a=d(q,"DIV",{class:!0});var S=y(a);c=d(S,"INPUT",{class:!0,type:!0,autocomplete:!0}),S.forEach(f),q.forEach(f),h=I(U),v=d(U,"DIV",{class:!0});var k=y(v);b=d(k,"DIV",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-1jv7gzz"&&(b.textContent=m),p=I(k),_=d(k,"DIV",{class:!0});var A=y(_);g=d(A,"INPUT",{class:!0,type:!0,autocomplete:!0}),A.forEach(f),k.forEach(f),w=I(U),x=d(U,"DIV",{class:!0});var Z=y(x);T=d(Z,"DIV",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-6hovb9"&&(T.textContent=H),L=I(Z),O=d(Z,"DIV",{class:!0});var N=y(O);j=d(N,"INPUT",{class:!0,type:!0,autocomplete:!0}),N.forEach(f),Z.forEach(f),U.forEach(f),M=I(D),B=d(D,"DIV",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-1qol27q"&&(B.innerHTML=z),this.h()},h(){n(l,"class","mb-1 text-xs text-gray-500"),n(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(c,"type","password"),n(c,"autocomplete","current-password"),c.required=!0,n(a,"class","flex-1"),n(t,"class","flex flex-col w-full"),n(b,"class","mb-1 text-xs text-gray-500"),n(g,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(g,"type","password"),n(g,"autocomplete","new-password"),g.required=!0,n(_,"class","flex-1"),n(v,"class","flex flex-col w-full"),n(T,"class","mb-1 text-xs text-gray-500"),n(j,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(j,"type","password"),n(j,"autocomplete","off"),j.required=!0,n(O,"class","flex-1"),n(x,"class","flex flex-col w-full"),n(e,"class","py-2.5 space-y-1.5"),n(B,"class","mt-3 flex justify-end")},m(D,U){R(D,e,U),o(e,t),o(t,l),o(t,i),o(t,a),o(a,c),ne(c,s[1]),o(e,h),o(e,v),o(v,b),o(v,p),o(v,_),o(_,g),ne(g,s[2]),o(e,w),o(e,x),o(x,T),o(x,L),o(x,O),o(O,j),ne(j,s[3]),R(D,M,U),R(D,B,U),V||(E=[J(c,"input",s[6]),J(g,"input",s[7]),J(j,"input",s[8])],V=!0)},p(D,U){U&2&&c.value!==D[1]&&ne(c,D[1]),U&4&&g.value!==D[2]&&ne(g,D[2]),U&8&&j.value!==D[3]&&ne(j,D[3])},d(D){D&&(f(e),f(M),f(B)),V=!1,je(E)}}}function rn(s){let e,t,l,r="Change Password",i,a,c=s[0]?"Hide":"Show",h,v,b,m,p=s[0]&&El(s);return{c(){e=u("form"),t=u("div"),l=u("div"),l.textContent=r,i=C(),a=u("button"),h=Ne(c),v=C(),p&&p.c(),this.h()},l(_){e=d(_,"FORM",{class:!0});var g=y(e);t=d(g,"DIV",{class:!0});var w=y(t);l=d(w,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1ofgszb"&&(l.textContent=r),i=I(w),a=d(w,"BUTTON",{class:!0,type:!0});var x=y(a);h=Pe(x,c),x.forEach(f),w.forEach(f),v=I(g),p&&p.l(g),g.forEach(f),this.h()},h(){n(l,"class","font-medium"),n(a,"class","text-xs font-medium text-gray-500"),n(a,"type","button"),n(t,"class","flex justify-between items-center text-sm"),n(e,"class","flex flex-col text-sm")},m(_,g){R(_,e,g),o(e,t),o(t,l),o(t,i),o(t,a),o(a,h),o(e,v),p&&p.m(e,null),b||(m=[J(a,"click",s[5]),J(e,"submit",Lt(s[9]))],b=!0)},p(_,[g]){g&1&&c!==(c=_[0]?"Hide":"Show")&&Ye(h,c),_[0]?p?p.p(_,g):(p=El(_),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i:Ve,o:Ve,d(_){_&&f(e),p&&p.d(),b=!1,je(m)}}}function nn(s,e,t){let l=!1,r="",i="",a="";const c=async()=>{i===a?(await Nr(localStorage.token,r,i).catch(g=>(He.error(g),null))&&He.success("Successfully updated."),t(1,r=""),t(2,i=""),t(3,a="")):(He.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,i=""),t(3,a=""))},h=()=>{t(0,l=!l)};function v(){r=this.value,t(1,r)}function b(){i=this.value,t(2,i)}function m(){a=this.value,t(3,a)}return[l,r,i,a,c,h,v,b,m,()=>{c()}]}class an extends nt{constructor(e){super(),at(this,e,nn,rn,rt,{})}}function on(s){let e,t,l;return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),this.h()},l(r){e=We(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=y(e);t=We(i,"path",{d:!0}),y(t).forEach(f),l=We(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(l).forEach(f),i.forEach(f),this.h()},h(){n(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),n(l,"fill-rule","evenodd"),n(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),n(l,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(r,i){R(r,e,i),o(e,t),o(e,l)},d(r){r&&f(e)}}}function cn(s){let e,t,l;return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),this.h()},l(r){e=We(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=y(e);t=We(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(t).forEach(f),l=We(i,"path",{d:!0}),y(l).forEach(f),i.forEach(f),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),n(t,"clip-rule","evenodd"),n(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(r,i){R(r,e,i),o(e,t),o(e,l)},d(r){r&&f(e)}}}function un(s){let e,t,l;return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),this.h()},l(r){e=We(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=y(e);t=We(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(t).forEach(f),l=We(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(l).forEach(f),i.forEach(f),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),n(t,"clip-rule","evenodd"),n(l,"fill-rule","evenodd"),n(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),n(l,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(r,i){R(r,e,i),o(e,t),o(e,l)},d(r){r&&f(e)}}}function dn(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(l){e=We(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=y(e);t=We(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(t).forEach(f),r.forEach(f),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 20 20"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(l,r){R(l,e,r),o(e,t)},d(l){l&&f(e)}}}function fn(s){let e,t,l,r,i,a="Profile",c,h,v,b,m,p,_,g,w,x='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',T,H,L="Use Gravatar",O,j,M,B,z="Name",V,E,D,U,q,S,k,A,Z,N,W,ee,G='<div class="self-center text-xs font-medium">JWT Token</div>',Y,F,$,Q,K,le,te,ie,ce,fe,ge,oe,we="Save",ae,Me,ze;k=new an({});function ye(be,xe){return be[3]?cn:on}let De=ye(s),se=De(s);function _e(be,xe){return be[4]?dn:un}let Ce=_e(s),Te=Ce(s);return{c(){e=u("div"),t=u("div"),l=u("input"),r=C(),i=u("div"),i.textContent=a,c=C(),h=u("div"),v=u("div"),b=u("div"),m=u("button"),p=u("img"),g=C(),w=u("div"),w.innerHTML=x,T=C(),H=u("button"),H.textContent=L,O=C(),j=u("div"),M=u("div"),B=u("div"),B.textContent=z,V=C(),E=u("div"),D=u("input"),U=C(),q=u("hr"),S=C(),Xe(k.$$.fragment),A=C(),Z=u("hr"),N=C(),W=u("div"),ee=u("div"),ee.innerHTML=G,Y=C(),F=u("div"),$=u("div"),Q=u("input"),le=C(),te=u("button"),se.c(),ie=C(),ce=u("button"),Te.c(),fe=C(),ge=u("div"),oe=u("button"),oe.textContent=we,this.h()},l(be){e=d(be,"DIV",{class:!0});var xe=y(e);t=d(xe,"DIV",{class:!0});var ve=y(t);l=d(ve,"INPUT",{id:!0,type:!0,accept:!0}),r=I(ve),i=d(ve,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-i4kc7u"&&(i.textContent=a),c=I(ve),h=d(ve,"DIV",{class:!0});var X=y(h);v=d(X,"DIV",{class:!0});var ue=y(v);b=d(ue,"DIV",{class:!0});var ke=y(b);m=d(ke,"BUTTON",{class:!0,type:!0});var pe=y(m);p=d(pe,"IMG",{src:!0,alt:!0,class:!0}),g=I(pe),w=d(pe,"DIV",{class:!0,"data-svelte-h":!0}),P(w)!=="svelte-1lmkrrg"&&(w.innerHTML=x),pe.forEach(f),ke.forEach(f),T=I(ue),H=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),P(H)!=="svelte-1u4yo8f"&&(H.textContent=L),ue.forEach(f),O=I(X),j=d(X,"DIV",{class:!0});var Re=y(j);M=d(Re,"DIV",{class:!0});var Ae=y(M);B=d(Ae,"DIV",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-guynw3"&&(B.textContent=z),V=I(Ae),E=d(Ae,"DIV",{class:!0});var he=y(E);D=d(he,"INPUT",{class:!0,type:!0}),he.forEach(f),Ae.forEach(f),Re.forEach(f),X.forEach(f),U=I(ve),q=d(ve,"HR",{class:!0}),S=I(ve),Qe(k.$$.fragment,ve),A=I(ve),Z=d(ve,"HR",{class:!0}),N=I(ve),W=d(ve,"DIV",{class:!0});var re=y(W);ee=d(re,"DIV",{class:!0,"data-svelte-h":!0}),P(ee)!=="svelte-1rcg0br"&&(ee.innerHTML=G),Y=I(re),F=d(re,"DIV",{class:!0});var Ee=y(F);$=d(Ee,"DIV",{class:!0});var Ie=y($);Q=d(Ie,"INPUT",{class:!0,type:!0}),le=I(Ie),te=d(Ie,"BUTTON",{class:!0});var Je=y(te);se.l(Je),Je.forEach(f),Ie.forEach(f),ie=I(Ee),ce=d(Ee,"BUTTON",{class:!0});var Be=y(ce);Te.l(Be),Be.forEach(f),Ee.forEach(f),re.forEach(f),ve.forEach(f),fe=I(xe),ge=d(xe,"DIV",{class:!0});var me=y(ge);oe=d(me,"BUTTON",{class:!0,"data-svelte-h":!0}),P(oe)!=="svelte-1p9akpb"&&(oe.textContent=we),me.forEach(f),xe.forEach(f),this.h()},h(){n(l,"id","profile-image-input"),n(l,"type","file"),l.hidden=!0,n(l,"accept","image/*"),n(i,"class","mb-2.5 text-sm font-medium"),Rt(p.src,_=s[1]!==""?s[1]:"/user.png")||n(p,"src",_),n(p,"alt","profile"),n(p,"class","rounded-full w-16 h-16 object-cover"),n(w,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),n(m,"class","relative rounded-full dark:bg-gray-700"),n(m,"type","button"),n(b,"class","self-center"),n(H,"class","text-xs text-gray-600"),n(v,"class","flex flex-col"),n(B,"class","mb-1 text-xs text-gray-500"),n(D,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(D,"type","text"),D.required=!0,n(E,"class","flex-1"),n(M,"class","flex flex-col w-full"),n(j,"class","flex-1"),n(h,"class","flex space-x-5"),n(q,"class","dark:border-gray-700 my-4"),n(Z,"class","dark:border-gray-700 my-4"),n(ee,"class","flex w-full justify-between"),n(Q,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(Q,"type",K=s[3]?"text":"password"),Q.value=localStorage.token,Q.disabled=!0,n(te,"class","dark:bg-gray-800 px-2 transition rounded-r-lg"),n($,"class","flex w-full"),n(ce,"class","ml-1.5 px-1.5 py-1 hover:bg-gray-800 transition rounded-lg"),n(F,"class","flex mt-2"),n(W,"class","w-full justify-between"),n(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),n(oe,"class","px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded"),n(ge,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between text-sm")},m(be,xe){R(be,e,xe),o(e,t),o(t,l),s[8](l),o(t,r),o(t,i),o(t,c),o(t,h),o(h,v),o(v,b),o(b,m),o(m,p),o(m,g),o(m,w),o(v,T),o(v,H),o(h,O),o(h,j),o(j,M),o(M,B),o(M,V),o(M,E),o(E,D),ne(D,s[2]),o(t,U),o(t,q),o(t,S),$e(k,t,null),o(t,A),o(t,Z),o(t,N),o(t,W),o(W,ee),o(W,Y),o(W,F),o(F,$),o($,Q),o($,le),o($,te),se.m(te,null),o(F,ie),o(F,ce),Te.m(ce,null),o(e,fe),o(e,ge),o(ge,oe),ae=!0,Me||(ze=[J(l,"change",s[9]),J(m,"click",s[10]),J(H,"click",s[11]),J(D,"input",s[12]),J(te,"click",s[13]),J(ce,"click",s[14]),J(oe,"click",s[15])],Me=!0)},p(be,[xe]){(!ae||xe&2&&!Rt(p.src,_=be[1]!==""?be[1]:"/user.png"))&&n(p,"src",_),xe&4&&D.value!==be[2]&&ne(D,be[2]),(!ae||xe&8&&K!==(K=be[3]?"text":"password"))&&n(Q,"type",K),De!==(De=ye(be))&&(se.d(1),se=De(be),se&&(se.c(),se.m(te,null))),Ce!==(Ce=_e(be))&&(Te.d(1),Te=Ce(be),Te&&(Te.c(),Te.m(ce,null)))},i(be){ae||(Ue(k.$$.fragment,be),ae=!0)},o(be){Ze(k.$$.fragment,be),ae=!1},d(be){be&&f(e),s[8](null),et(k),se.d(),Te.d(),Me=!1,je(ze)}}}function hn(s,e,t){let l;Ke(s,yt,L=>t(6,l=L));let{saveHandler:r}=e,i="",a="",c=!1,h=!1,v;const b=async()=>{const L=await Pr(localStorage.token,a,i).catch(O=>{He.error(O)});return L?(await yt.set(L),!0):!1};ut(()=>{t(2,a=l.name),t(1,i=l.profile_image_url)});function m(L){vt[L?"unshift":"push"](()=>{v=L,t(5,v)})}const p=L=>{const O=v.files??[];let j=new FileReader;j.onload=M=>{let B=`${M.target.result}`;const z=new Image;z.src=B,z.onload=function(){const V=document.createElement("canvas"),E=V.getContext("2d"),D=z.width/z.height;let U,q;D>1?(U=100*D,q=100):(U=100,q=100/D),V.width=100,V.height=100;const S=(100-U)/2,k=(100-q)/2;E.drawImage(z,S,k,U,q);const A=V.toDataURL("image/jpeg");t(1,i=A),t(5,v.files=null,v)}},O.length>0&&["image/gif","image/jpeg","image/png"].includes(O[0].type)&&j.readAsDataURL(O[0])},_=()=>{v.click()},g=async()=>{const L=await Ur(l.email);t(1,i=L)};function w(){a=this.value,t(2,a)}const x=()=>{t(3,c=!c)},T=()=>{Ar(localStorage.token),t(4,h=!0),setTimeout(()=>{t(4,h=!1)},2e3)},H=async()=>{await b()&&r()};return s.$$set=L=>{"saveHandler"in L&&t(0,r=L.saveHandler)},[r,i,a,c,h,v,l,b,m,p,_,g,w,x,T,H]}class vn extends nt{constructor(e){super(),at(this,e,hn,fn,rt,{saveHandler:0})}}function pn(s){let e,t,l,r,i,a,c,h,v,b,m,p="v1.0.0",_,g,w="<div>See what&#39;s new</div>",x,T,H="Check for updates",L,O,j,M;return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),a=Ne(s[0]),c=Ne(" Version"),h=C(),v=u("div"),b=u("div"),m=u("div"),m.textContent=p,_=C(),g=u("button"),g.innerHTML=w,x=C(),T=u("button"),T.textContent=H,L=C(),O=u("hr"),this.h()},l(B){e=d(B,"DIV",{class:!0});var z=y(e);t=d(z,"DIV",{class:!0});var V=y(t);l=d(V,"DIV",{});var E=y(l);r=d(E,"DIV",{class:!0});var D=y(r);i=d(D,"DIV",{});var U=y(i);a=Pe(U,s[0]),c=Pe(U," Version"),U.forEach(f),D.forEach(f),h=I(E),v=d(E,"DIV",{class:!0});var q=y(v);b=d(q,"DIV",{class:!0});var S=y(b);m=d(S,"DIV",{"data-svelte-h":!0}),P(m)!=="svelte-vbyqvo"&&(m.textContent=p),_=I(S),g=d(S,"BUTTON",{class:!0,"data-svelte-h":!0}),P(g)!=="svelte-2o6fm0"&&(g.innerHTML=w),S.forEach(f),x=I(q),T=d(q,"BUTTON",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-1hlhpm5"&&(T.textContent=H),q.forEach(f),E.forEach(f),L=I(V),O=d(V,"HR",{class:!0}),V.forEach(f),z.forEach(f),this.h()},h(){n(r,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),n(g,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),n(b,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),n(T,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),n(v,"class","flex w-full justify-between items-center"),n(O,"class","dark:border-gray-700"),n(t,"class","space-y-3"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(B,z){R(B,e,z),o(e,t),o(t,l),o(l,r),o(r,i),o(i,a),o(i,c),o(l,h),o(l,v),o(v,b),o(b,m),o(b,_),o(b,g),o(v,x),o(v,T),o(t,L),o(t,O),j||(M=[J(g,"click",s[2]),J(T,"click",s[3])],j=!0)},p(B,[z]){z&1&&Ye(a,B[0])},i:Ve,o:Ve,d(B){B&&f(e),j=!1,je(M)}}}function mn(s,e,t){let l;Ke(s,cl,v=>t(0,l=v));let r=null,i={current:"",latest:""};const a=async()=>{r=null,i=await jr().catch(v=>({current:_l,latest:_l})),console.log(i),r=Sr(i.latest,i.current),console.log(r)};return ut(async()=>{await il(localStorage.token).catch(v=>""),a()}),[l,a,()=>{zt.set(!0)},()=>{a()}]}class gn extends nt{constructor(e){super(),at(this,e,mn,pn,rt,{})}}var tl={exports:{}},ll={exports:{}},sl={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l){return function(...r){if(l===null)throw new Error("Callback was already called.");var i=l;l=null,i.apply(this,r)}}s.exports=e.default})(sl,sl.exports);var _n=sl.exports,kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.fallback=Ws;kt.wrap=Js;var bn=kt.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,yn=kt.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,wn=kt.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function Ws(s){setTimeout(s,0)}function Js(s){return(e,...t)=>s(()=>e(...t))}var At;bn?At=queueMicrotask:yn?At=setImmediate:wn?At=process.nextTick:At=Ws;kt.default=Js(At);var rl={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});class t{constructor(){this.head=this.tail=null,this.length=0}removeLink(i){return i.prev?i.prev.next=i.next:this.head=i.next,i.next?i.next.prev=i.prev:this.tail=i.prev,i.prev=i.next=null,this.length-=1,i}empty(){for(;this.head;)this.shift();return this}insertAfter(i,a){a.prev=i,a.next=i.next,i.next?i.next.prev=a:this.tail=a,i.next=a,this.length+=1}insertBefore(i,a){a.prev=i.prev,a.next=i,i.prev?i.prev.next=a:this.head=a,i.prev=a,this.length+=1}unshift(i){this.head?this.insertBefore(this.head,i):l(this,i)}push(i){this.tail?this.insertAfter(this.tail,i):l(this,i)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var i=this.head;i;)yield i.data,i=i.next}remove(i){for(var a=this.head;a;){var{next:c}=a;i(a)&&this.removeLink(a),a=c}return this}}e.default=t;function l(r,i){r.length=1,r.head=r.tail=i}s.exports=e.default})(rl,rl.exports);var xn=rl.exports,_t={},jt={exports:{}},nl={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(...l){var r=l.pop();return t.call(this,l,r)}},s.exports=e.default})(nl,nl.exports);var kn=nl.exports,Dl;function Cn(){return Dl||(Dl=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var t=kn,l=c(t),r=kt,i=c(r),a=fl();function c(m){return m&&m.__esModule?m:{default:m}}function h(m){return(0,a.isAsync)(m)?function(...p){const _=p.pop(),g=m.apply(this,p);return v(g,_)}:(0,l.default)(function(p,_){var g;try{g=m.apply(this,p)}catch(w){return _(w)}if(g&&typeof g.then=="function")return v(g,_);_(null,g)})}function v(m,p){return m.then(_=>{b(p,null,_)},_=>{b(p,_&&(_ instanceof Error||_.message)?_:new Error(_))})}function b(m,p,_){try{m(p,_)}catch(g){(0,i.default)(w=>{throw w},g)}}s.exports=e.default}(jt,jt.exports)),jt.exports}var Ml;function fl(){if(Ml)return _t;Ml=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.isAsyncIterable=_t.isAsyncGenerator=_t.isAsync=void 0;var s=Cn(),e=t(s);function t(c){return c&&c.__esModule?c:{default:c}}function l(c){return c[Symbol.toStringTag]==="AsyncFunction"}function r(c){return c[Symbol.toStringTag]==="AsyncGenerator"}function i(c){return typeof c[Symbol.asyncIterator]=="function"}function a(c){if(typeof c!="function")throw new Error("expected a function");return l(c)?(0,e.default)(c):c}return _t.default=a,_t.isAsync=l,_t.isAsyncGenerator=r,_t.isAsyncIterable=i,_t}(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;var t=_n,l=b(t),r=kt,i=b(r),a=xn,c=b(a),h=fl(),v=b(h);function b(p){return p&&p.__esModule?p:{default:p}}function m(p,_,g){if(_==null)_=1;else if(_===0)throw new RangeError("Concurrency must not be zero");var w=(0,v.default)(p),x=0,T=[];const H={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function L(S,k){H[S].push(k)}function O(S,k){const A=(...Z)=>{j(S,A),k(...Z)};H[S].push(A)}function j(S,k){if(!S)return Object.keys(H).forEach(A=>H[A]=[]);if(!k)return H[S]=[];H[S]=H[S].filter(A=>A!==k)}function M(S,...k){H[S].forEach(A=>A(...k))}var B=!1;function z(S,k,A,Z){if(Z!=null&&typeof Z!="function")throw new Error("task callback must be a function");q.started=!0;var N,W;function ee(Y,...F){if(Y)return A?W(Y):N();if(F.length<=1)return N(F[0]);N(F)}var G=q._createTaskItem(S,A?ee:Z||ee);if(k?q._tasks.unshift(G):q._tasks.push(G),B||(B=!0,(0,i.default)(()=>{B=!1,q.process()})),A||!Z)return new Promise((Y,F)=>{N=Y,W=F})}function V(S){return function(k,...A){x-=1;for(var Z=0,N=S.length;Z<N;Z++){var W=S[Z],ee=T.indexOf(W);ee===0?T.shift():ee>0&&T.splice(ee,1),W.callback(k,...A),k!=null&&M("error",k,W.data)}x<=q.concurrency-q.buffer&&M("unsaturated"),q.idle()&&M("drain"),q.process()}}function E(S){return S.length===0&&q.idle()?((0,i.default)(()=>M("drain")),!0):!1}const D=S=>k=>{if(!k)return new Promise((A,Z)=>{O(S,(N,W)=>{if(N)return Z(N);A(W)})});j(S),L(S,k)};var U=!1,q={_tasks:new c.default,_createTaskItem(S,k){return{data:S,callback:k}},*[Symbol.iterator](){yield*q._tasks[Symbol.iterator]()},concurrency:_,payload:g,buffer:_/4,started:!1,paused:!1,push(S,k){return Array.isArray(S)?E(S)?void 0:S.map(A=>z(A,!1,!1,k)):z(S,!1,!1,k)},pushAsync(S,k){return Array.isArray(S)?E(S)?void 0:S.map(A=>z(A,!1,!0,k)):z(S,!1,!0,k)},kill(){j(),q._tasks.empty()},unshift(S,k){return Array.isArray(S)?E(S)?void 0:S.map(A=>z(A,!0,!1,k)):z(S,!0,!1,k)},unshiftAsync(S,k){return Array.isArray(S)?E(S)?void 0:S.map(A=>z(A,!0,!0,k)):z(S,!0,!0,k)},remove(S){q._tasks.remove(S)},process(){if(!U){for(U=!0;!q.paused&&x<q.concurrency&&q._tasks.length;){var S=[],k=[],A=q._tasks.length;q.payload&&(A=Math.min(A,q.payload));for(var Z=0;Z<A;Z++){var N=q._tasks.shift();S.push(N),T.push(N),k.push(N.data)}x+=1,q._tasks.length===0&&M("empty"),x===q.concurrency&&M("saturated");var W=(0,l.default)(V(S));w(k,W)}U=!1}},length(){return q._tasks.length},running(){return x},workersList(){return T},idle(){return q._tasks.length+x===0},pause(){q.paused=!0},resume(){q.paused!==!1&&(q.paused=!1,(0,i.default)(q.process))}};return Object.defineProperties(q,{saturated:{writable:!1,value:D("saturated")},unsaturated:{writable:!1,value:D("unsaturated")},empty:{writable:!1,value:D("empty")},drain:{writable:!1,value:D("drain")},error:{writable:!1,value:D("error")}}),q}s.exports=e.default})(ll,ll.exports);var In=ll.exports;(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c,h){var v=(0,i.default)(c);return(0,l.default)((b,m)=>{v(b[0],m)},h,1)};var t=In,l=a(t),r=fl(),i=a(r);function a(c){return c&&c.__esModule?c:{default:c}}s.exports=e.default})(tl,tl.exports);var Tn=tl.exports;const En=Rr(Tn);function Vl(s,e,t){const l=s.slice();return l[60]=e[t],l}function Ll(s,e,t){const l=s.slice();return l[60]=e[t],l}function Al(s,e,t){const l=s.slice();return l[60]=e[t],l}function Sl(s,e,t){const l=s.slice();return l[67]=e[t],l[69]=t,l}function Hl(s){let e,t,l="Manage AI Models",r,i,a,c,h,v="Pull a model",b,m,p,_,g,w,x,T,H='To access the available model names for downloading, <a class="text-gray-500 dark:text-gray-300 font-medium underline" href="https://ollama.com/library" target="_blank">click here.</a>',L,O=Object.keys(s[13]).length>0,j,M,B,z="Delete a model",V,E,D,U,q,S,k,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',Z,N,W,ee,G="Experimental",Y,F,$=s[11]?"Hide":"Show",Q,K,le,te,ie,ce,fe=s[9].length>1&&Bl(s);function ge(se,_e){return se[14]?Mn:Dn}let oe=ge(s),we=oe(s),ae=O&&Nl(s),Me=!s[22]&&Ul(),ze=qe(s[23].filter(s[33])),ye=[];for(let se=0;se<ze.length;se+=1)ye[se]=jl(Ll(s,ze,se));let De=s[11]&&zl(s);return{c(){e=u("div"),t=u("div"),t.textContent=l,r=C(),fe&&fe.c(),i=C(),a=u("div"),c=u("div"),h=u("div"),h.textContent=v,b=C(),m=u("div"),p=u("div"),_=u("input"),g=C(),w=u("button"),we.c(),x=C(),T=u("div"),T.innerHTML=H,L=C(),ae&&ae.c(),j=C(),M=u("div"),B=u("div"),B.textContent=z,V=C(),E=u("div"),D=u("div"),U=u("select"),Me&&Me.c(),q=st();for(let se=0;se<ye.length;se+=1)ye[se].c();S=C(),k=u("button"),k.innerHTML=A,Z=C(),N=u("div"),W=u("div"),ee=u("div"),ee.textContent=G,Y=C(),F=u("button"),Q=Ne($),K=C(),De&&De.c(),le=C(),te=u("hr"),this.h()},l(se){e=d(se,"DIV",{class:!0});var _e=y(e);t=d(_e,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-kid8xn"&&(t.textContent=l),r=I(_e),fe&&fe.l(_e),i=I(_e),a=d(_e,"DIV",{class:!0});var Ce=y(a);c=d(Ce,"DIV",{});var Te=y(c);h=d(Te,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1kzqhzh"&&(h.textContent=v),b=I(Te),m=d(Te,"DIV",{class:!0});var be=y(m);p=d(be,"DIV",{class:!0});var xe=y(p);_=d(xe,"INPUT",{class:!0,placeholder:!0}),xe.forEach(f),g=I(be),w=d(be,"BUTTON",{class:!0});var ve=y(w);we.l(ve),ve.forEach(f),be.forEach(f),x=I(Te),T=d(Te,"DIV",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-1lmeggt"&&(T.innerHTML=H),L=I(Te),ae&&ae.l(Te),Te.forEach(f),j=I(Ce),M=d(Ce,"DIV",{});var X=y(M);B=d(X,"DIV",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-kr6ajt"&&(B.textContent=z),V=I(X),E=d(X,"DIV",{class:!0});var ue=y(E);D=d(ue,"DIV",{class:!0});var ke=y(D);U=d(ke,"SELECT",{class:!0,placeholder:!0});var pe=y(U);Me&&Me.l(pe),q=st();for(let re=0;re<ye.length;re+=1)ye[re].l(pe);pe.forEach(f),ke.forEach(f),S=I(ue),k=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),P(k)!=="svelte-1u0ox72"&&(k.innerHTML=A),ue.forEach(f),X.forEach(f),Z=I(Ce),N=d(Ce,"DIV",{class:!0});var Re=y(N);W=d(Re,"DIV",{class:!0});var Ae=y(W);ee=d(Ae,"DIV",{class:!0,"data-svelte-h":!0}),P(ee)!=="svelte-17gcyvk"&&(ee.textContent=G),Y=I(Ae),F=d(Ae,"BUTTON",{class:!0,type:!0});var he=y(F);Q=Pe(he,$),he.forEach(f),Ae.forEach(f),Re.forEach(f),K=I(Ce),De&&De.l(Ce),Ce.forEach(f),_e.forEach(f),le=I(se),te=d(se,"HR",{class:!0}),this.h()},h(){n(t,"class","text-sm font-medium"),n(h,"class","mb-2 text-sm font-medium"),n(_,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(_,"placeholder","Enter model tag (e.g. mistral:7b)"),n(p,"class","flex-1 mr-2"),n(w,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),w.disabled=s[14],n(m,"class","flex w-full"),n(T,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),n(B,"class","mb-2 text-sm font-medium"),n(U,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(U,"placeholder","Select a model"),s[22]===void 0&&pt(()=>s[34].call(U)),n(D,"class","flex-1 mr-2"),n(k,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(E,"class","flex w-full"),n(ee,"class","text-sm font-medium"),n(F,"class","text-xs font-medium text-gray-500"),n(F,"type","button"),n(W,"class","flex justify-between items-center text-xs"),n(N,"class","pt-1"),n(a,"class","space-y-2"),n(e,"class","space-y-2 pr-1.5"),n(te,"class","dark:border-gray-700 my-2")},m(se,_e){R(se,e,_e),o(e,t),o(e,r),fe&&fe.m(e,null),o(e,i),o(e,a),o(a,c),o(c,h),o(c,b),o(c,m),o(m,p),o(p,_),ne(_,s[15]),o(m,g),o(m,w),we.m(w,null),o(c,x),o(c,T),o(c,L),ae&&ae.m(c,null),o(a,j),o(a,M),o(M,B),o(M,V),o(M,E),o(E,D),o(D,U),Me&&Me.m(U,null),o(U,q);for(let Ce=0;Ce<ye.length;Ce+=1)ye[Ce]&&ye[Ce].m(U,null);tt(U,s[22],!0),o(E,S),o(E,k),o(a,Z),o(a,N),o(N,W),o(W,ee),o(W,Y),o(W,F),o(F,Q),o(a,K),De&&De.m(a,null),R(se,le,_e),R(se,te,_e),ie||(ce=[J(_,"input",s[31]),J(w,"click",s[32]),J(U,"change",s[34]),J(k,"click",s[35]),J(F,"click",s[36])],ie=!0)},p(se,_e){if(se[9].length>1?fe?fe.p(se,_e):(fe=Bl(se),fe.c(),fe.m(e,i)):fe&&(fe.d(1),fe=null),_e[0]&32768&&_.value!==se[15]&&ne(_,se[15]),oe!==(oe=ge(se))&&(we.d(1),we=oe(se),we&&(we.c(),we.m(w,null))),_e[0]&16384&&(w.disabled=se[14]),_e[0]&8192&&(O=Object.keys(se[13]).length>0),O?ae?ae.p(se,_e):(ae=Nl(se),ae.c(),ae.m(c,null)):ae&&(ae.d(1),ae=null),se[22]?Me&&(Me.d(1),Me=null):Me||(Me=Ul(),Me.c(),Me.m(U,q)),_e[0]&8389632){ze=qe(se[23].filter(se[33]));let Ce;for(Ce=0;Ce<ze.length;Ce+=1){const Te=Ll(se,ze,Ce);ye[Ce]?ye[Ce].p(Te,_e):(ye[Ce]=jl(Te),ye[Ce].c(),ye[Ce].m(U,null))}for(;Ce<ye.length;Ce+=1)ye[Ce].d(1);ye.length=ze.length}_e[0]&12583936&&tt(U,se[22]),_e[0]&2048&&$!==($=se[11]?"Hide":"Show")&&Ye(Q,$),se[11]?De?De.p(se,_e):(De=zl(se),De.c(),De.m(a,null)):De&&(De.d(1),De=null)},d(se){se&&(f(e),f(le),f(te)),fe&&fe.d(),we.d(),ae&&ae.d(),Me&&Me.d(),it(ye,se),De&&De.d(),ie=!1,je(ce)}}}function Bl(s){let e,t,l,r,i=qe(s[9]),a=[];for(let c=0;c<i.length;c+=1)a[c]=Ol(Sl(s,i,c));return{c(){e=u("div"),t=u("select");for(let c=0;c<a.length;c+=1)a[c].c();this.h()},l(c){e=d(c,"DIV",{class:!0});var h=y(e);t=d(h,"SELECT",{class:!0,placeholder:!0});var v=y(t);for(let b=0;b<a.length;b+=1)a[b].l(v);v.forEach(f),h.forEach(f),this.h()},h(){n(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(t,"placeholder","Select an Ollama instance"),s[10]===void 0&&pt(()=>s[30].call(t)),n(e,"class","flex-1 pb-1")},m(c,h){R(c,e,h),o(e,t);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(t,null);tt(t,s[10],!0),l||(r=J(t,"change",s[30]),l=!0)},p(c,h){if(h[0]&512){i=qe(c[9]);let v;for(v=0;v<i.length;v+=1){const b=Sl(c,i,v);a[v]?a[v].p(b,h):(a[v]=Ol(b),a[v].c(),a[v].m(t,null))}for(;v<a.length;v+=1)a[v].d(1);a.length=i.length}h[0]&1024&&tt(t,c[10])},d(c){c&&f(e),it(a,c),l=!1,r()}}}function Ol(s){let e,t=s[67]+"",l;return{c(){e=u("option"),l=Ne(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var i=y(e);l=Pe(i,t),i.forEach(f),this.h()},h(){e.__value=s[69],ne(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,i){R(r,e,i),o(e,l)},p(r,i){i[0]&512&&t!==(t=r[67]+"")&&Ye(l,t)},d(r){r&&f(e)}}}function Dn(s){let e,t,l;return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),this.h()},l(r){e=We(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=y(e);t=We(i,"path",{d:!0}),y(t).forEach(f),l=We(i,"path",{d:!0}),y(l).forEach(f),i.forEach(f),this.h()},h(){n(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(r,i){R(r,e,i),o(e,t),o(e,l)},d(r){r&&f(e)}}}function Mn(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1lfba08"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Nl(s){let e,t=qe(Object.keys(s[13])),l=[];for(let r=0;r<t.length;r+=1)l[r]=Pl(Al(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=st()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=st()},m(r,i){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(r,i);R(r,e,i)},p(r,i){if(i[0]&8192){t=qe(Object.keys(r[13]));let a;for(a=0;a<t.length;a+=1){const c=Al(r,t,a);l[a]?l[a].p(c,i):(l[a]=Pl(c),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(r){r&&f(e),it(l,r)}}}function Pl(s){let e,t,l=s[60]+"",r,i,a,c,h=(s[13][s[60]].pullProgress??0)+"",v,b,m,p,_=s[13][s[60]].digest+"",g,w;return{c(){e=u("div"),t=u("div"),r=Ne(l),i=C(),a=u("div"),c=u("div"),v=Ne(h),b=Ne("%"),m=C(),p=u("div"),g=Ne(_),w=C(),this.h()},l(x){e=d(x,"DIV",{class:!0});var T=y(e);t=d(T,"DIV",{class:!0});var H=y(t);r=Pe(H,l),H.forEach(f),i=I(T),a=d(T,"DIV",{class:!0});var L=y(a);c=d(L,"DIV",{class:!0,style:!0});var O=y(c);v=Pe(O,h),b=Pe(O,"%"),O.forEach(f),m=I(L),p=d(L,"DIV",{class:!0,style:!0});var j=y(p);g=Pe(j,_),j.forEach(f),L.forEach(f),w=I(T),T.forEach(f),this.h()},h(){n(t,"class","font-medium mb-1"),n(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Ge(c,"width",Math.max(15,s[13][s[60]].pullProgress??0)+"%"),n(p,"class","mt-1 text-xs dark:text-gray-500"),Ge(p,"font-size","0.5rem"),n(a,"class",""),n(e,"class","flex flex-col")},m(x,T){R(x,e,T),o(e,t),o(t,r),o(e,i),o(e,a),o(a,c),o(c,v),o(c,b),o(a,m),o(a,p),o(p,g),o(e,w)},p(x,T){T[0]&8192&&l!==(l=x[60]+"")&&Ye(r,l),T[0]&8192&&h!==(h=(x[13][x[60]].pullProgress??0)+"")&&Ye(v,h),T[0]&8192&&Ge(c,"width",Math.max(15,x[13][x[60]].pullProgress??0)+"%"),T[0]&8192&&_!==(_=x[13][x[60]].digest+"")&&Ye(g,_)},d(x){x&&f(e)}}}function Ul(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),P(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",ne(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function jl(s){let e,t=s[60].name+" ("+(s[60].size/1073741824).toFixed(1)+" GB)",l,r;return{c(){e=u("option"),l=Ne(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var a=y(e);l=Pe(a,t),a.forEach(f),this.h()},h(){e.__value=r=s[60].name,ne(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,a){R(i,e,a),o(e,l)},p(i,a){a[0]&8389632&&t!==(t=i[60].name+" ("+(i[60].size/1024**3).toFixed(1)+" GB)")&&Ye(l,t),a[0]&8389632&&r!==(r=i[60].name)&&(e.__value=r,ne(e,e.__value))},d(i){i&&f(e)}}}function zl(s){let e,t,l,r="Upload a GGUF model",i,a,c,h,v,b,m,p,_,g='To access the GGUF models available for downloading, <a class="text-gray-500 dark:text-gray-300 font-medium underline" href="https://huggingface.co/models?search=gguf" target="_blank">click here.</a>',w,x,T;function H(D,U){return D[16]==="file"?Ln:Vn}let L=H(s),O=L(s);function j(D,U){return D[16]==="file"?Sn:An}let M=j(s),B=M(s),z=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&Rl(s),V=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&Zl(s),E=s[21]!==null&&ql(s);return{c(){e=u("form"),t=u("div"),l=u("div"),l.textContent=r,i=C(),a=u("button"),O.c(),c=C(),h=u("div"),v=u("div"),B.c(),b=C(),z&&z.c(),m=C(),V&&V.c(),p=C(),_=u("div"),_.innerHTML=g,w=C(),E&&E.c(),this.h()},l(D){e=d(D,"FORM",{});var U=y(e);t=d(U,"DIV",{class:!0});var q=y(t);l=d(q,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-rqd4vq"&&(l.textContent=r),i=I(q),a=d(q,"BUTTON",{class:!0,type:!0});var S=y(a);O.l(S),S.forEach(f),q.forEach(f),c=I(U),h=d(U,"DIV",{class:!0});var k=y(h);v=d(k,"DIV",{class:!0});var A=y(v);B.l(A),A.forEach(f),b=I(k),z&&z.l(k),k.forEach(f),m=I(U),V&&V.l(U),p=I(U),_=d(U,"DIV",{class:!0,"data-svelte-h":!0}),P(_)!=="svelte-qmcvsw"&&(_.innerHTML=g),w=I(U),E&&E.l(U),U.forEach(f),this.h()},h(){n(l,"class","text-sm font-medium"),n(a,"class","p-1 px-3 text-xs flex rounded transition"),n(a,"type","button"),n(t,"class","mb-2 flex w-full justify-between"),n(v,"class","flex flex-col w-full"),n(h,"class","flex w-full mb-1.5"),n(_,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(D,U){R(D,e,U),o(e,t),o(t,l),o(t,i),o(t,a),O.m(a,null),o(e,c),o(e,h),o(h,v),B.m(v,null),o(h,b),z&&z.m(h,null),o(e,m),V&&V.m(e,null),o(e,p),o(e,_),o(e,w),E&&E.m(e,null),x||(T=[J(a,"click",s[37]),J(e,"submit",Lt(s[44]))],x=!0)},p(D,U){L!==(L=H(D))&&(O.d(1),O=L(D),O&&(O.c(),O.m(a,null))),M===(M=j(D))&&B?B.p(D,U):(B.d(1),B=M(D),B&&(B.c(),B.m(v,null))),D[16]==="file"&&D[17]&&D[17].length>0||D[16]==="url"&&D[18]!==""?z?z.p(D,U):(z=Rl(D),z.c(),z.m(h,null)):z&&(z.d(1),z=null),D[16]==="file"&&D[17]&&D[17].length>0||D[16]==="url"&&D[18]!==""?V?V.p(D,U):(V=Zl(D),V.c(),V.m(e,p)):V&&(V.d(1),V=null),D[21]!==null?E?E.p(D,U):(E=ql(D),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},d(D){D&&f(e),O.d(),B.d(),z&&z.d(),V&&V.d(),E&&E.d(),x=!1,je(T)}}}function Vn(s){let e,t="URL Mode";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1uzmer3"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Ln(s){let e,t="File Mode";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-9j1d9a"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function An(s){let e,t,l,r,i,a;return{c(){e=u("div"),t=u("input"),this.h()},l(c){e=d(c,"DIV",{class:!0});var h=y(e);t=d(h,"INPUT",{class:!0,type:!0,placeholder:!0}),h.forEach(f),this.h()},h(){n(t,"class",l="w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[18]!==""?"mr-2":"")),n(t,"type","url"),t.required=!0,n(t,"placeholder","Type Hugging Face Resolve (Download) URL"),n(e,"class",r="flex-1 "+(s[18]!==""?"mr-2":""))},m(c,h){R(c,e,h),o(e,t),ne(t,s[18]),i||(a=J(t,"input",s[42]),i=!0)},p(c,h){h[0]&262144&&l!==(l="w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850 outline-none "+(c[18]!==""?"mr-2":""))&&n(t,"class",l),h[0]&262144&&t.value!==c[18]&&ne(t,c[18]),h[0]&262144&&r!==(r="flex-1 "+(c[18]!==""?"mr-2":""))&&n(e,"class",r)},d(c){c&&f(e),i=!1,a()}}}function Sn(s){let e,t,l,r,i,a,c;function h(m,p){return m[17]&&m[17].length>0?Bn:Hn}let v=h(s),b=v(s);return{c(){e=u("div"),t=u("input"),l=C(),r=u("button"),b.c(),this.h()},l(m){e=d(m,"DIV",{class:!0});var p=y(e);t=d(p,"INPUT",{id:!0,type:!0,accept:!0}),l=I(p),r=d(p,"BUTTON",{type:!0,class:!0});var _=y(r);b.l(_),_.forEach(f),p.forEach(f),this.h()},h(){n(t,"id","model-upload-input"),n(t,"type","file"),n(t,"accept",".gguf"),t.required=!0,t.hidden=!0,n(r,"type","button"),n(r,"class","w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850"),n(e,"class",i="flex-1 "+(s[17]&&s[17].length>0?"mr-2":""))},m(m,p){R(m,e,p),o(e,t),s[38](t),o(e,l),o(e,r),b.m(r,null),a||(c=[J(t,"change",s[39]),J(t,"change",s[40]),J(r,"click",s[41])],a=!0)},p(m,p){v===(v=h(m))&&b?b.p(m,p):(b.d(1),b=v(m),b&&(b.c(),b.m(r,null))),p[0]&131072&&i!==(i="flex-1 "+(m[17]&&m[17].length>0?"mr-2":""))&&n(e,"class",i)},d(m){m&&f(e),s[38](null),b.d(),a=!1,je(c)}}}function Hn(s){let e;return{c(){e=Ne("Click here to select")},l(t){e=Pe(t,"Click here to select")},m(t,l){R(t,e,l)},p:Ve,d(t){t&&f(e)}}}function Bn(s){let e=s[17][0].name+"",t;return{c(){t=Ne(e)},l(l){t=Pe(l,e)},m(l,r){R(l,t,r)},p(l,r){r[0]&131072&&e!==(e=l[17][0].name+"")&&Ye(t,e)},d(l){l&&f(t)}}}function Rl(s){let e;function t(i,a){return i[14]?Nn:On}let l=t(s),r=l(s);return{c(){e=u("button"),r.c(),this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0});var a=y(e);r.l(a),a.forEach(f),this.h()},h(){n(e,"class","px-3 text-gray-100 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded transition"),n(e,"type","submit"),e.disabled=s[14]},m(i,a){R(i,e,a),r.m(e,null)},p(i,a){l!==(l=t(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e,null))),a[0]&16384&&(e.disabled=i[14])},d(i){i&&f(e),r.d()}}}function On(s){let e,t,l;return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),this.h()},l(r){e=We(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=y(e);t=We(i,"path",{d:!0}),y(t).forEach(f),l=We(i,"path",{d:!0}),y(l).forEach(f),i.forEach(f),this.h()},h(){n(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),n(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(r,i){R(r,e,i),o(e,t),o(e,l)},d(r){r&&f(e)}}}function Nn(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}
														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}
													</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-23bxbk"&&(e.innerHTML=t),this.h()},h(){n(e,"class","self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Zl(s){let e,t,l,r="Modelfile Content",i,a,c,h;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=C(),a=u("textarea"),this.h()},l(v){e=d(v,"DIV",{});var b=y(e);t=d(b,"DIV",{});var m=y(t);l=d(m,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-18egiyi"&&(l.textContent=r),i=I(m),a=d(m,"TEXTAREA",{class:!0,rows:!0}),y(a).forEach(f),m.forEach(f),b.forEach(f),this.h()},h(){n(l,"class","my-2.5 text-sm font-medium"),n(a,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none resize-none"),n(a,"rows","6")},m(v,b){R(v,e,b),o(e,t),o(t,l),o(t,i),o(t,a),ne(a,s[19]),c||(h=J(a,"input",s[43]),c=!0)},p(v,b){b[0]&524288&&ne(a,v[19])},d(v){v&&f(e),c=!1,h()}}}function ql(s){let e,t,l="Upload Progress",r,i,a,c=(s[21]??0)+"",h,v,b,m,p;return{c(){e=u("div"),t=u("div"),t.textContent=l,r=C(),i=u("div"),a=u("div"),h=Ne(c),v=Ne("%"),b=C(),m=u("div"),p=Ne(s[20]),this.h()},l(_){e=d(_,"DIV",{class:!0});var g=y(e);t=d(g,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-mf9p1m"&&(t.textContent=l),r=I(g),i=d(g,"DIV",{class:!0});var w=y(i);a=d(w,"DIV",{class:!0,style:!0});var x=y(a);h=Pe(x,c),v=Pe(x,"%"),x.forEach(f),w.forEach(f),b=I(g),m=d(g,"DIV",{class:!0,style:!0});var T=y(m);p=Pe(T,s[20]),T.forEach(f),g.forEach(f),this.h()},h(){n(t,"class","mb-2 text-xs"),n(a,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),Ge(a,"width",Math.max(15,s[21]??0)+"%"),n(i,"class","w-full rounded-full dark:bg-gray-800"),n(m,"class","mt-1 text-xs dark:text-gray-500"),Ge(m,"font-size","0.5rem"),n(e,"class","mt-2")},m(_,g){R(_,e,g),o(e,t),o(e,r),o(e,i),o(i,a),o(a,h),o(a,v),o(e,b),o(e,m),o(m,p)},p(_,g){g[0]&2097152&&c!==(c=(_[21]??0)+"")&&Ye(h,c),g[0]&2097152&&Ge(a,"width",Math.max(15,_[21]??0)+"%"),g[0]&1048576&&Ye(p,_[20])},d(_){_&&f(e)}}}function Gl(s){let e,t,l="Model Name",r,i,a,c,h,v,b,m="API Base URL",p,_,g,w,x,T,H,L="API Key",O,j,M,B,z,V,E,D="API RPM",U,q,S,k,A,Z;return{c(){e=u("div"),t=u("div"),t.textContent=l,r=C(),i=u("div"),a=u("div"),c=u("input"),h=C(),v=u("div"),b=u("div"),b.textContent=m,p=C(),_=u("div"),g=u("div"),w=u("input"),x=C(),T=u("div"),H=u("div"),H.textContent=L,O=C(),j=u("div"),M=u("div"),B=u("input"),z=C(),V=u("div"),E=u("div"),E.textContent=D,U=C(),q=u("div"),S=u("div"),k=u("input"),this.h()},l(N){e=d(N,"DIV",{});var W=y(e);t=d(W,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-6ir36y"&&(t.textContent=l),r=I(W),i=d(W,"DIV",{class:!0});var ee=y(i);a=d(ee,"DIV",{class:!0});var G=y(a);c=d(G,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),G.forEach(f),ee.forEach(f),W.forEach(f),h=I(N),v=d(N,"DIV",{});var Y=y(v);b=d(Y,"DIV",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-1kyw6ri"&&(b.textContent=m),p=I(Y),_=d(Y,"DIV",{class:!0});var F=y(_);g=d(F,"DIV",{class:!0});var $=y(g);w=d($,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),$.forEach(f),F.forEach(f),Y.forEach(f),x=I(N),T=d(N,"DIV",{});var Q=y(T);H=d(Q,"DIV",{class:!0,"data-svelte-h":!0}),P(H)!=="svelte-mms6ub"&&(H.textContent=L),O=I(Q),j=d(Q,"DIV",{class:!0});var K=y(j);M=d(K,"DIV",{class:!0});var le=y(M);B=d(le,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),le.forEach(f),K.forEach(f),Q.forEach(f),z=I(N),V=d(N,"DIV",{});var te=y(V);E=d(te,"DIV",{class:!0,"data-svelte-h":!0}),P(E)!=="svelte-1f69sq3"&&(E.textContent=D),U=I(te),q=d(te,"DIV",{class:!0});var ie=y(q);S=d(ie,"DIV",{class:!0});var ce=y(S);k=d(ce,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),ce.forEach(f),ie.forEach(f),te.forEach(f),this.h()},h(){n(t,"class","mb-1.5 text-sm font-medium"),n(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(c,"placeholder","Enter Model Name (model_name)"),n(c,"autocomplete","off"),n(a,"class","flex-1"),n(i,"class","flex w-full"),n(b,"class","mb-1.5 text-sm font-medium"),n(w,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(w,"placeholder","Enter LiteLLM API Base URL (litellm_params.api_base)"),n(w,"autocomplete","off"),n(g,"class","flex-1"),n(_,"class","flex w-full"),n(H,"class","mb-1.5 text-sm font-medium"),n(B,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(B,"placeholder","Enter LiteLLM API Key (litellm_params.api_key)"),n(B,"autocomplete","off"),n(M,"class","flex-1"),n(j,"class","flex w-full"),n(E,"class","mb-1.5 text-sm font-medium"),n(k,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(k,"placeholder","Enter LiteLLM API RPM (litellm_params.rpm)"),n(k,"autocomplete","off"),n(S,"class","flex-1"),n(q,"class","flex w-full")},m(N,W){R(N,e,W),o(e,t),o(e,r),o(e,i),o(i,a),o(a,c),ne(c,s[4]),R(N,h,W),R(N,v,W),o(v,b),o(v,p),o(v,_),o(_,g),o(g,w),ne(w,s[5]),R(N,x,W),R(N,T,W),o(T,H),o(T,O),o(T,j),o(j,M),o(M,B),ne(B,s[6]),R(N,z,W),R(N,V,W),o(V,E),o(V,U),o(V,q),o(q,S),o(S,k),ne(k,s[7]),A||(Z=[J(c,"input",s[48]),J(w,"input",s[49]),J(B,"input",s[50]),J(k,"input",s[51])],A=!0)},p(N,W){W[0]&16&&c.value!==N[4]&&ne(c,N[4]),W[0]&32&&w.value!==N[5]&&ne(w,N[5]),W[0]&64&&B.value!==N[6]&&ne(B,N[6]),W[0]&128&&k.value!==N[7]&&ne(k,N[7])},d(N){N&&(f(e),f(h),f(v),f(x),f(T),f(z),f(V)),A=!1,je(Z)}}}function Fl(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),P(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",ne(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Wl(s){let e,t=s[60].model_name+"",l,r;return{c(){e=u("option"),l=Ne(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var a=y(e);l=Pe(a,t),a.forEach(f),this.h()},h(){e.__value=r=s[60].model_info.id,ne(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,a){R(i,e,a),o(e,l)},p(i,a){a[0]&8&&t!==(t=i[60].model_name+"")&&Ye(l,t),a[0]&8&&r!==(r=i[60].model_info.id)&&(e.__value=r,ne(e,e.__value))},d(i){i&&f(e)}}}function Pn(s){let e,t,l,r,i,a,c,h="Manage LiteLLM Models",v,b,m,p,_="Add a model",g,w,x=s[1]?"Hide Additional Params":"Show Additional Params",T,H,L,O,j,M,B,z,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',E,D,U,q=`Not sure what to add?
						<a class="text-gray-300 font-medium underline" href="https://litellm.vercel.app/docs/proxy/configs#quick-start" target="_blank">Click here for help.</a>`,S,k,A,Z="Delete a model",N,W,ee,G,Y,F,$,Q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',K,le,te=s[12]&&Hl(s),ie=s[1]&&Gl(s),ce=!s[8]&&Fl(),fe=qe(s[3]),ge=[];for(let oe=0;oe<fe.length;oe+=1)ge[oe]=Wl(Vl(s,fe,oe));return{c(){e=u("div"),t=u("div"),te&&te.c(),l=C(),r=u("div"),i=u("div"),a=u("div"),c=u("div"),c.textContent=h,v=C(),b=u("div"),m=u("div"),p=u("div"),p.textContent=_,g=C(),w=u("button"),T=Ne(x),H=C(),L=u("div"),O=u("div"),j=u("div"),M=u("input"),B=C(),z=u("button"),z.innerHTML=V,E=C(),ie&&ie.c(),D=C(),U=u("div"),U.innerHTML=q,S=C(),k=u("div"),A=u("div"),A.textContent=Z,N=C(),W=u("div"),ee=u("div"),G=u("select"),ce&&ce.c(),Y=st();for(let oe=0;oe<ge.length;oe+=1)ge[oe].c();F=C(),$=u("button"),$.innerHTML=Q,this.h()},l(oe){e=d(oe,"DIV",{class:!0});var we=y(e);t=d(we,"DIV",{class:!0});var ae=y(t);te&&te.l(ae),l=I(ae),r=d(ae,"DIV",{class:!0});var Me=y(r);i=d(Me,"DIV",{class:!0});var ze=y(i);a=d(ze,"DIV",{});var ye=y(a);c=d(ye,"DIV",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-nje5xu"&&(c.textContent=h),v=I(ye),b=d(ye,"DIV",{});var De=y(b);m=d(De,"DIV",{class:!0});var se=y(m);p=d(se,"DIV",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-e2dfvv"&&(p.textContent=_),g=I(se),w=d(se,"BUTTON",{class:!0,type:!0});var _e=y(w);T=Pe(_e,x),_e.forEach(f),se.forEach(f),De.forEach(f),H=I(ye),L=d(ye,"DIV",{class:!0});var Ce=y(L);O=d(Ce,"DIV",{class:!0});var Te=y(O);j=d(Te,"DIV",{class:!0});var be=y(j);M=d(be,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),be.forEach(f),B=I(Te),z=d(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),P(z)!=="svelte-18ghdk1"&&(z.innerHTML=V),Te.forEach(f),E=I(Ce),ie&&ie.l(Ce),Ce.forEach(f),D=I(ye),U=d(ye,"DIV",{class:!0,"data-svelte-h":!0}),P(U)!=="svelte-4stf1e"&&(U.innerHTML=q),S=I(ye),k=d(ye,"DIV",{});var xe=y(k);A=d(xe,"DIV",{class:!0,"data-svelte-h":!0}),P(A)!=="svelte-vavmom"&&(A.textContent=Z),N=I(xe),W=d(xe,"DIV",{class:!0});var ve=y(W);ee=d(ve,"DIV",{class:!0});var X=y(ee);G=d(X,"SELECT",{class:!0,placeholder:!0});var ue=y(G);ce&&ce.l(ue),Y=st();for(let ke=0;ke<ge.length;ke+=1)ge[ke].l(ue);ue.forEach(f),X.forEach(f),F=I(ve),$=d(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),P($)!=="svelte-1ln4085"&&($.innerHTML=Q),ve.forEach(f),xe.forEach(f),ye.forEach(f),ze.forEach(f),Me.forEach(f),ae.forEach(f),we.forEach(f),this.h()},h(){n(c,"class","mb-2 text-sm font-medium"),n(p,"class","text-sm font-medium"),n(w,"class","text-xs font-medium text-gray-500"),n(w,"type","button"),n(m,"class","flex justify-between items-center text-xs"),n(M,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(M,"placeholder","Enter LiteLLM Model (litellm_params.model)"),n(M,"autocomplete","off"),n(j,"class","flex-1 mr-2"),n(z,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(O,"class","flex w-full mb-1.5"),n(L,"class","my-2 space-y-2"),n(U,"class","mb-2 text-xs text-gray-400 dark:text-gray-500"),n(A,"class","mb-2.5 text-sm font-medium"),n(G,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(G,"placeholder","Select a model"),s[8]===void 0&&pt(()=>s[52].call(G)),n(ee,"class","flex-1 mr-2"),n($,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),n(W,"class","flex w-full"),n(i,"class","mt-2 space-y-3 pr-1.5"),n(r,"class","space-y-3"),n(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-[23rem]"),n(e,"class","flex flex-col h-full justify-between text-sm")},m(oe,we){R(oe,e,we),o(e,t),te&&te.m(t,null),o(t,l),o(t,r),o(r,i),o(i,a),o(a,c),o(a,v),o(a,b),o(b,m),o(m,p),o(m,g),o(m,w),o(w,T),o(a,H),o(a,L),o(L,O),o(O,j),o(j,M),ne(M,s[0]),o(O,B),o(O,z),o(L,E),ie&&ie.m(L,null),o(a,D),o(a,U),o(a,S),o(a,k),o(k,A),o(k,N),o(k,W),o(W,ee),o(ee,G),ce&&ce.m(G,null),o(G,Y);for(let ae=0;ae<ge.length;ae+=1)ge[ae]&&ge[ae].m(G,null);tt(G,s[8],!0),o(W,F),o(W,$),K||(le=[J(w,"click",s[45]),J(M,"input",s[46]),J(z,"click",s[47]),J(G,"change",s[52]),J($,"click",s[53])],K=!0)},p(oe,we){if(oe[12]?te?te.p(oe,we):(te=Hl(oe),te.c(),te.m(t,l)):te&&(te.d(1),te=null),we[0]&2&&x!==(x=oe[1]?"Hide Additional Params":"Show Additional Params")&&Ye(T,x),we[0]&1&&M.value!==oe[0]&&ne(M,oe[0]),oe[1]?ie?ie.p(oe,we):(ie=Gl(oe),ie.c(),ie.m(L,null)):ie&&(ie.d(1),ie=null),oe[8]?ce&&(ce.d(1),ce=null):ce||(ce=Fl(),ce.c(),ce.m(G,Y)),we[0]&8){fe=qe(oe[3]);let ae;for(ae=0;ae<fe.length;ae+=1){const Me=Vl(oe,fe,ae);ge[ae]?ge[ae].p(Me,we):(ge[ae]=Wl(Me),ge[ae].c(),ge[ae].m(G,null))}for(;ae<ge.length;ae+=1)ge[ae].d(1);ge.length=fe.length}we[0]&264&&tt(G,oe[8])},i:Ve,o:Ve,d(oe){oe&&f(e),te&&te.d(),ie&&ie.d(),ce&&ce.d(),it(ge,oe),K=!1,je(le)}}}const Un=3;function jn(s,e,t){let l,r,i;Ke(s,yt,X=>t(56,l=X)),Ke(s,cl,X=>t(57,r=X)),Ke(s,ht,X=>t(23,i=X));let{getModels:a}=e,c=!1,h,v=[],b="",m="",p="",_="",g="",w="",x=[],T=null,H=!1,L="";const O=En((X,ue)=>ee({modelName:X.modelName,callback:ue}),Un);let j={},M=!1,B="",z="",V=null,E="file",D="",U="",q=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,S="",k=null,A="";const Z=async()=>{const X=B.trim();if(j[X]){He.error(`Model '${X}' is already in queue for downloading.`);return}if(Object.keys(j).length===3){He.error("Maximum of 3 models can be downloaded simultaneously. Please try again later.");return}t(14,M=!0),O.push({modelName:X},async ue=>{const{modelName:ke}=ue;delete j[ke],console.log(ue),ue.success?(He.success(`Model '${ke}' has been successfully downloaded.`),new Notification(r,{body:`Model '${ke}' has been successfully downloaded.`,icon:`${js}/static/favicon.png`}),ht.set(await a())):He.error(ue.error)}),t(15,B=""),t(14,M=!1)},N=async()=>{t(14,M=!0),t(21,k=0);let X=!1,ue=null,ke="";if(E==="file"){const pe=D[0],Re=new FormData;Re.append("file",pe),ue=await fetch(`${bl}/utils/upload`,{method:"POST",headers:{...l&&{Authorization:`Bearer ${localStorage.token}`}},body:Re}).catch(Ae=>(console.log(Ae),null))}else ue=await fetch(`${bl}/utils/download?url=${U}`,{method:"GET",headers:{...l&&{Authorization:`Bearer ${localStorage.token}`}}}).catch(pe=>(console.log(pe),null));if(ue&&ue.ok){const pe=ue.body.pipeThrough(new TextDecoderStream).pipeThrough(Ft(`
`)).getReader();for(;;){const{value:Re,done:Ae}=await pe.read();if(Ae)break;try{let he=Re.split(`
`);for(const re of he)if(re!==""){let Ee=JSON.parse(re.replace(/^data: /,""));if(Ee.progress&&t(21,k=Ee.progress),Ee.error)throw Ee.error;Ee.done&&(t(20,S=Ee.blob),ke=Ee.name,X=!0)}}catch(he){console.log(he)}}}if(X){const pe=await tr(localStorage.token,`${ke}:latest`,`FROM @${S}
${q}`);if(pe&&pe.ok){const Re=pe.body.pipeThrough(new TextDecoderStream).pipeThrough(Ft(`
`)).getReader();for(;;){const{value:Ae,done:he}=await Re.read();if(he)break;try{let re=Ae.split(`
`);for(const Ee of re)if(Ee!==""){console.log(Ee);let Ie=JSON.parse(Ee);if(console.log(Ie),Ie.error)throw Ie.error;if(Ie.detail)throw Ie.detail;Ie.status&&(!Ie.digest&&!Ie.status.includes("writing")&&!Ie.status.includes("sha256")?He.success(Ie.status):Ie.digest&&(z=Ie.digest,Ie.completed?V=Math.round(Ie.completed/Ie.total*1e3)/10:V=100))}}catch(re){console.log(re),He.error(re)}}}}t(18,U=""),t(17,D=""),t(14,M=!1),t(21,k=null),ht.set(await a())},W=async()=>{await lr(localStorage.token,A,T).catch(ue=>{He.error(ue)})&&He.success(`Deleted ${A}`),t(22,A=""),ht.set(await a())},ee=async X=>{const ue=await er(localStorage.token,X.modelName,T).catch(ke=>(X.callback({success:!1,error:ke,modelName:X.modelName}),null));if(ue){const ke=ue.body.pipeThrough(new TextDecoderStream).pipeThrough(Ft(`
`)).getReader();for(;;)try{const{value:pe,done:Re}=await ke.read();if(Re)break;let Ae=pe.split(`
`);for(const he of Ae)if(he!==""){let re=JSON.parse(he);if(re.error)throw re.error;if(re.detail)throw re.detail;if(re.status)if(re.digest){let Ee=0;re.completed?Ee=Math.round(re.completed/re.total*1e3)/10:Ee=100,t(13,j[X.modelName]={pullProgress:Ee,digest:re.digest},j)}else He.success(re.status)}}catch(pe){console.log(pe),typeof pe!="string"&&(pe=pe.message),X.callback({success:!1,error:pe,modelName:X.modelName})}X.callback({success:!0,modelName:X.modelName})}},G=async()=>{if(v.find(X=>X.model_name===m))He.error(`Model ${m} already exists.`);else{const X=await ln(localStorage.token,{name:m,model:b,api_base:p,api_key:_,rpm:g}).catch(ue=>(He.error(ue),null));X&&X.message&&He.success(X.message)}t(4,m=""),t(0,b=""),t(5,p=""),t(6,_=""),t(7,g=""),t(3,v=await Yt(localStorage.token)),ht.set(await a())},Y=async()=>{const X=await sn(localStorage.token,w).catch(ue=>(He.error(ue),null));X&&X.message&&He.success(X.message),t(8,w=""),t(3,v=await Yt(localStorage.token)),ht.set(await a())};ut(async()=>{t(9,x=await Ns(localStorage.token).catch(X=>(He.error(X),[]))),x.length>1&&t(10,T=0),t(12,L=await il(localStorage.token).catch(X=>!1)),t(3,v=await Yt(localStorage.token))});function F(){T=bt(this),t(10,T)}function $(){B=this.value,t(15,B)}const Q=()=>{Z()},K=X=>X.size!=null&&(T===null?!0:((X==null?void 0:X.urls)??[]).includes(T));function le(){A=bt(this),t(22,A),t(10,T)}const te=()=>{W()},ie=()=>{t(11,H=!H)},ce=()=>{E==="file"?t(16,E="url"):t(16,E="file")};function fe(X){vt[X?"unshift":"push"](()=>{h=X,t(2,h)})}function ge(){D=this.files,t(17,D)}const oe=()=>{console.log(D)},we=()=>{h.click()};function ae(){U=this.value,t(18,U)}function Me(){q=this.value,t(19,q)}const ze=()=>{N()},ye=()=>{t(1,c=!c)};function De(){b=this.value,t(0,b)}const se=()=>{G()};function _e(){m=this.value,t(4,m),t(0,b)}function Ce(){p=this.value,t(5,p)}function Te(){_=this.value,t(6,_)}function be(){g=this.value,t(7,g)}function xe(){w=bt(this),t(8,w),t(3,v)}const ve=()=>{Y()};return s.$$set=X=>{"getModels"in X&&t(29,a=X.getModels)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(4,m=b)},[b,c,h,v,m,p,_,g,w,x,T,H,L,j,M,B,E,D,U,q,S,k,A,i,Z,N,W,G,Y,a,F,$,Q,K,le,te,ie,ce,fe,ge,oe,we,ae,Me,ze,ye,De,se,_e,Ce,Te,be,xe,ve]}class zn extends nt{constructor(e){super(),at(this,e,jn,Pn,rt,{getModels:29},null,[-1,-1,-1])}}function Rn(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(l){e=We(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=y(e);t=We(r,"path",{d:!0}),y(t).forEach(f),r.forEach(f),this.h()},h(){n(t,"d","M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.061 1.06l1.06 1.06z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 20 20"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4 self-center")},m(l,r){R(l,e,r),o(e,t)},d(l){l&&f(e)}}}function Zn(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(l){e=We(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=y(e);t=We(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(t).forEach(f),r.forEach(f),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z"),n(t,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 20 20"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4")},m(l,r){R(l,e,r),o(e,t)},d(l){l&&f(e)}}}function qn(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Gn(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Jl(s){let e,t,l,r,i,a,c,h,v="Keep Alive",b,m,p,_,g,w,x,T="Request Mode",H,L,O,j,M;function B(A){s[18](A)}let z={};s[7]!==void 0&&(z.options=s[7]),e=new Zr({props:z}),vt.push(()=>Mt(e,"options",B));function V(A,Z){return A[6]===null?Wn:Fn}let E=V(s),D=E(s),U=s[6]!==null&&Kl(s);function q(A,Z){if(A[5]==="")return Kn;if(A[5]==="json")return Jn}let S=q(s),k=S&&S(s);return{c(){Xe(e.$$.fragment),l=C(),r=u("hr"),i=C(),a=u("div"),c=u("div"),h=u("div"),h.textContent=v,b=C(),m=u("button"),D.c(),p=C(),U&&U.c(),_=C(),g=u("div"),w=u("div"),x=u("div"),x.textContent=T,H=C(),L=u("button"),k&&k.c(),this.h()},l(A){Qe(e.$$.fragment,A),l=I(A),r=d(A,"HR",{class:!0}),i=I(A),a=d(A,"DIV",{class:!0});var Z=y(a);c=d(Z,"DIV",{class:!0});var N=y(c);h=d(N,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-420e4z"&&(h.textContent=v),b=I(N),m=d(N,"BUTTON",{class:!0,type:!0});var W=y(m);D.l(W),W.forEach(f),N.forEach(f),p=I(Z),U&&U.l(Z),Z.forEach(f),_=I(A),g=d(A,"DIV",{});var ee=y(g);w=d(ee,"DIV",{class:!0});var G=y(w);x=d(G,"DIV",{class:!0,"data-svelte-h":!0}),P(x)!=="svelte-v46k3y"&&(x.textContent=T),H=I(G),L=d(G,"BUTTON",{class:!0});var Y=y(L);k&&k.l(Y),Y.forEach(f),G.forEach(f),ee.forEach(f),this.h()},h(){n(r,"class","dark:border-gray-700"),n(h,"class","self-center text-xs font-medium"),n(m,"class","p-1 px-3 text-xs flex rounded transition"),n(m,"type","button"),n(c,"class","flex w-full justify-between"),n(a,"class","py-1 w-full justify-between"),n(x,"class","self-center text-sm font-medium"),n(L,"class","p-1 px-3 text-xs flex rounded transition"),n(w,"class","py-1 flex w-full justify-between")},m(A,Z){$e(e,A,Z),R(A,l,Z),R(A,r,Z),R(A,i,Z),R(A,a,Z),o(a,c),o(c,h),o(c,b),o(c,m),D.m(m,null),o(a,p),U&&U.m(a,null),R(A,_,Z),R(A,g,Z),o(g,w),o(w,x),o(w,H),o(w,L),k&&k.m(L,null),O=!0,j||(M=[J(m,"click",s[19]),J(L,"click",s[21])],j=!0)},p(A,Z){const N={};!t&&Z&128&&(t=!0,N.options=A[7],Dt(()=>t=!1)),e.$set(N),E!==(E=V(A))&&(D.d(1),D=E(A),D&&(D.c(),D.m(m,null))),A[6]!==null?U?U.p(A,Z):(U=Kl(A),U.c(),U.m(a,null)):U&&(U.d(1),U=null),S!==(S=q(A))&&(k&&k.d(1),k=S&&S(A),k&&(k.c(),k.m(L,null)))},i(A){O||(Ue(e.$$.fragment,A),O=!0)},o(A){Ze(e.$$.fragment,A),O=!1},d(A){A&&(f(l),f(r),f(i),f(a),f(_),f(g)),et(e,A),D.d(),U&&U.d(),k&&k.d(),j=!1,je(M)}}}function Fn(s){let e,t="Custom";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-3v6m8g"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Wn(s){let e,t="Default";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-h5d9m4"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Kl(s){let e,t,l,r;return{c(){e=u("div"),t=u("input"),this.h()},l(i){e=d(i,"DIV",{class:!0});var a=y(e);t=d(a,"INPUT",{class:!0,type:!0,placeholder:!0}),a.forEach(f),this.h()},h(){n(t,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),n(t,"type","text"),n(t,"placeholder",'e.g.) "30s","10m". Valid time units are "s", "m", "h".'),n(e,"class","flex mt-1 space-x-2")},m(i,a){R(i,e,a),o(e,t),ne(t,s[6]),l||(r=J(t,"input",s[20]),l=!0)},p(i,a){a&64&&t.value!==i[6]&&ne(t,i[6])},d(i){i&&f(e),l=!1,r()}}}function Jn(s){let e,t="JSON";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1ixofgt"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Kn(s){let e,t="Default";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-h5d9m4"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Yn(s){let e,t,l,r,i="LegerUI Settings",a,c,h,v="Theme",b,m,p,_,g,w,x="Dark",T,H="Light",L,O="Ros Pine",j,M="Ros Pine Dawn",B,z,V,E,D="Notification",U,q,S,k,A,Z,N,W="System Prompt",ee,G,Y,F,$,Q,K="Advanced Parameters",le,te,ie=s[4]?"Hide":"Show",ce,fe,ge,oe,we,ae="Save",Me,ze,ye;function De(ve,X){if(ve[1]==="dark")return Zn;if(ve[1]==="light")return Rn}let se=De(s),_e=se&&se(s);function Ce(ve,X){return ve[2]===!0?Gn:qn}let Te=Ce(s),be=Te(s),xe=s[4]&&Jl(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,a=C(),c=u("div"),h=u("div"),h.textContent=v,b=C(),m=u("div"),p=u("div"),_e&&_e.c(),_=C(),g=u("select"),w=u("option"),w.textContent=x,T=u("option"),T.textContent=H,L=u("option"),L.textContent=O,j=u("option"),j.textContent=M,B=C(),z=u("div"),V=u("div"),E=u("div"),E.textContent=D,U=C(),q=u("button"),be.c(),S=C(),k=u("hr"),A=C(),Z=u("div"),N=u("div"),N.textContent=W,ee=C(),G=u("textarea"),Y=C(),F=u("div"),$=u("div"),Q=u("div"),Q.textContent=K,le=C(),te=u("button"),ce=Ne(ie),fe=C(),xe&&xe.c(),ge=C(),oe=u("div"),we=u("button"),we.textContent=ae,this.h()},l(ve){e=d(ve,"DIV",{class:!0});var X=y(e);t=d(X,"DIV",{class:!0});var ue=y(t);l=d(ue,"DIV",{class:!0});var ke=y(l);r=d(ke,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-6v1iu7"&&(r.textContent=i),a=I(ke),c=d(ke,"DIV",{class:!0});var pe=y(c);h=d(pe,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1vyl4qe"&&(h.textContent=v),b=I(pe),m=d(pe,"DIV",{class:!0});var Re=y(m);p=d(Re,"DIV",{class:!0});var Ae=y(p);_e&&_e.l(Ae),Ae.forEach(f),_=I(Re),g=d(Re,"SELECT",{class:!0,placeholder:!0});var he=y(g);w=d(he,"OPTION",{"data-svelte-h":!0}),P(w)!=="svelte-6c4gk6"&&(w.textContent=x),T=d(he,"OPTION",{"data-svelte-h":!0}),P(T)!=="svelte-yop7ea"&&(T.textContent=H),L=d(he,"OPTION",{"data-svelte-h":!0}),P(L)!=="svelte-az6w6j"&&(L.textContent=O),j=d(he,"OPTION",{"data-svelte-h":!0}),P(j)!=="svelte-1f8eygo"&&(j.textContent=M),he.forEach(f),Re.forEach(f),pe.forEach(f),B=I(ke),z=d(ke,"DIV",{});var re=y(z);V=d(re,"DIV",{class:!0});var Ee=y(V);E=d(Ee,"DIV",{class:!0,"data-svelte-h":!0}),P(E)!=="svelte-1kkiof0"&&(E.textContent=D),U=I(Ee),q=d(Ee,"BUTTON",{class:!0,type:!0});var Ie=y(q);be.l(Ie),Ie.forEach(f),Ee.forEach(f),re.forEach(f),ke.forEach(f),S=I(ue),k=d(ue,"HR",{class:!0}),A=I(ue),Z=d(ue,"DIV",{});var Je=y(Z);N=d(Je,"DIV",{class:!0,"data-svelte-h":!0}),P(N)!=="svelte-1bi1vel"&&(N.textContent=W),ee=I(Je),G=d(Je,"TEXTAREA",{class:!0,rows:!0}),y(G).forEach(f),Je.forEach(f),Y=I(ue),F=d(ue,"DIV",{class:!0});var Be=y(F);$=d(Be,"DIV",{class:!0});var me=y($);Q=d(me,"DIV",{class:!0,"data-svelte-h":!0}),P(Q)!=="svelte-x6p2ws"&&(Q.textContent=K),le=I(me),te=d(me,"BUTTON",{class:!0,type:!0});var de=y(te);ce=Pe(de,ie),de.forEach(f),me.forEach(f),fe=I(Be),xe&&xe.l(Be),Be.forEach(f),ue.forEach(f),ge=I(X),oe=d(X,"DIV",{class:!0});var Oe=y(oe);we=d(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),P(we)!=="svelte-1lr9feb"&&(we.textContent=ae),Oe.forEach(f),X.forEach(f),this.h()},h(){n(r,"class","mb-1 text-sm font-medium"),n(h,"class","self-center text-xs font-medium"),n(p,"class","absolute right-16"),w.__value="dark",ne(w,w.__value),T.__value="light",ne(T,T.__value),L.__value="rose-pine dark",ne(L,L.__value),j.__value="rose-pine-dawn light",ne(j,j.__value),n(g,"class","w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),n(g,"placeholder","Select a theme"),s[1]===void 0&&pt(()=>s[13].call(g)),n(m,"class","flex items-center relative"),n(c,"class","py-0.5 flex w-full justify-between"),n(E,"class","self-center text-xs font-medium"),n(q,"class","p-1 px-3 text-xs flex rounded transition"),n(q,"type","button"),n(V,"class","py-0.5 flex w-full justify-between"),n(l,"class",""),n(k,"class","dark:border-gray-700 my-3"),n(N,"class","my-2.5 text-sm font-medium"),n(G,"class","w-full rounded p-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none resize-none"),n(G,"rows","4"),n(Q,"class","font-medium"),n(te,"class","text-xs font-medium text-gray-500"),n(te,"type","button"),n($,"class","flex justify-between items-center text-sm"),n(F,"class","mt-2 space-y-3 pr-1.5"),n(t,"class","pr-1.5 overflow-y-scroll max-h-[20.5rem]"),n(we,"class","px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded"),n(oe,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between text-sm")},m(ve,X){R(ve,e,X),o(e,t),o(t,l),o(l,r),o(l,a),o(l,c),o(c,h),o(c,b),o(c,m),o(m,p),_e&&_e.m(p,null),o(m,_),o(m,g),o(g,w),o(g,T),o(g,L),o(g,j),tt(g,s[1],!0),o(l,B),o(l,z),o(z,V),o(V,E),o(V,U),o(V,q),be.m(q,null),o(t,S),o(t,k),o(t,A),o(t,Z),o(Z,N),o(Z,ee),o(Z,G),ne(G,s[3]),o(t,Y),o(t,F),o(F,$),o($,Q),o($,le),o($,te),o(te,ce),o(F,fe),xe&&xe.m(F,null),o(e,ge),o(e,oe),o(oe,we),Me=!0,ze||(ye=[J(g,"change",s[13]),J(g,"change",s[14]),J(q,"click",s[15]),J(G,"input",s[16]),J(te,"click",s[17]),J(we,"click",s[22])],ze=!0)},p(ve,[X]){se!==(se=De(ve))&&(_e&&_e.d(1),_e=se&&se(ve),_e&&(_e.c(),_e.m(p,null))),X&2&&tt(g,ve[1]),Te!==(Te=Ce(ve))&&(be.d(1),be=Te(ve),be&&(be.c(),be.m(q,null))),X&8&&ne(G,ve[3]),(!Me||X&16)&&ie!==(ie=ve[4]?"Hide":"Show")&&Ye(ce,ie),ve[4]?xe?(xe.p(ve,X),X&16&&Ue(xe,1)):(xe=Jl(ve),xe.c(),Ue(xe,1),xe.m(F,null)):xe&&(al(),Ze(xe,1,1,()=>{xe=null}),ol())},i(ve){Me||(Ue(xe),Me=!0)},o(ve){Ze(xe),Me=!1},d(ve){ve&&f(e),_e&&_e.d(),be.d(),xe&&xe.d(),ze=!1,je(ye)}}}function Xn(s,e,t){const l=Bt();let{saveSettings:r}=e,{getModels:i}=e,a=["dark","light","rose-pine dark","rose-pine-dawn light"],c="dark",h=!1,v="",b=!1;const m=async()=>{await Notification.requestPermission()==="granted"?(t(2,h=!h),r({notificationEnabled:h})):He.error("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.")};let p="",_=null,g={seed:0,temperature:"",repeat_penalty:"",repeat_last_n:"",mirostat:"",mirostat_eta:"",mirostat_tau:"",top_k:"",top_p:"",stop:"",tfs_z:"",num_ctx:"",num_predict:""};const w=async()=>{p===""?t(5,p="json"):t(5,p=""),r({requestFormat:p!==""?p:void 0})};ut(async()=>{var D;let E=JSON.parse(localStorage.getItem("settings")??"{}");t(1,c=localStorage.theme??"dark"),t(2,h=E.notificationEnabled??!1),t(3,v=E.system??""),t(5,p=E.requestFormat??""),t(6,_=E.keepAlive??null),t(7,g.seed=E.seed??0,g),t(7,g.temperature=E.temperature??"",g),t(7,g.repeat_penalty=E.repeat_penalty??"",g),t(7,g.top_k=E.top_k??"",g),t(7,g.top_p=E.top_p??"",g),t(7,g.num_ctx=E.num_ctx??"",g),t(7,g={...g,...E.options}),t(7,g.stop=(((D=E==null?void 0:E.options)==null?void 0:D.stop)??[]).join(","),g)});function x(){c=bt(this),t(1,c)}const T=E=>{localStorage.theme=c,a.filter(D=>D!==c).forEach(D=>{D.split(" ").forEach(U=>{document.documentElement.classList.remove(U)})}),c.split(" ").forEach(D=>{document.documentElement.classList.add(D)}),console.log(c)},H=()=>{m()};function L(){v=this.value,t(3,v)}const O=()=>{t(4,b=!b)};function j(E){g=E,t(7,g)}const M=()=>{t(6,_=_===null?"5m":null)};function B(){_=this.value,t(6,_)}const z=()=>{w()},V=()=>{r({system:v!==""?v:void 0,options:{seed:(g.seed!==0?g.seed:void 0)??void 0,stop:g.stop!==""?g.stop.split(",").filter(E=>E):void 0,temperature:g.temperature!==""?g.temperature:void 0,repeat_penalty:g.repeat_penalty!==""?g.repeat_penalty:void 0,repeat_last_n:g.repeat_last_n!==""?g.repeat_last_n:void 0,mirostat:g.mirostat!==""?g.mirostat:void 0,mirostat_eta:g.mirostat_eta!==""?g.mirostat_eta:void 0,mirostat_tau:g.mirostat_tau!==""?g.mirostat_tau:void 0,top_k:g.top_k!==""?g.top_k:void 0,top_p:g.top_p!==""?g.top_p:void 0,tfs_z:g.tfs_z!==""?g.tfs_z:void 0,num_ctx:g.num_ctx!==""?g.num_ctx:void 0,num_predict:g.num_predict!==""?g.num_predict:void 0},keepAlive:_?isNaN(_)?_:parseInt(_):void 0}),l("save")};return s.$$set=E=>{"saveSettings"in E&&t(0,r=E.saveSettings),"getModels"in E&&t(12,i=E.getModels)},[r,c,h,v,b,p,_,g,l,a,m,w,i,x,T,H,L,O,j,M,B,z,V]}class Qn extends nt{constructor(e){super(),at(this,e,Xn,Yn,rt,{saveSettings:0,getModels:12})}}function Yl(s,e,t){const l=s.slice();return l[30]=e[t],l[31]=e,l[32]=t,l}function Xl(s,e,t){const l=s.slice();return l[33]=e[t],l}function $n(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function ea(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function ta(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function la(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function sa(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function ra(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function na(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function aa(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Ql(s){let e,t=s[33].name+" ("+(s[33].size/1073741824).toFixed(1)+" GB)",l,r,i;return{c(){e=u("option"),l=Ne(t),r=C(),this.h()},l(a){e=d(a,"OPTION",{class:!0});var c=y(e);l=Pe(c,t),r=I(c),c.forEach(f),this.h()},h(){e.__value=i=s[33].name,ne(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(a,c){R(a,e,c),o(e,l),o(e,r)},p(a,c){c[0]&512&&t!==(t=a[33].name+" ("+(a[33].size/1024**3).toFixed(1)+" GB)")&&Ye(l,t),c[0]&512&&i!==(i=a[33].name)&&(e.__value=i,ne(e,e.__value))},d(a){a&&f(e)}}}function $l(s){let e,t=s[33].size!=null&&Ql(s);return{c(){t&&t.c(),e=st()},l(l){t&&t.l(l),e=st()},m(l,r){t&&t.m(l,r),R(l,e,r)},p(l,r){l[33].size!=null?t?t.p(l,r):(t=Ql(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&f(e),t&&t.d(l)}}}function es(s){let e,t,l,r,i,a="Default Prompt Suggestions",c,h,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',b,m,p,_,g,w=qe(s[6]),x=[];for(let H=0;H<w.length;H+=1)x[H]=ts(Yl(s,w,H));let T=s[6].length>0&&ls();return{c(){e=u("hr"),t=C(),l=u("div"),r=u("div"),i=u("div"),i.textContent=a,c=C(),h=u("button"),h.innerHTML=v,b=C(),m=u("div");for(let H=0;H<x.length;H+=1)x[H].c();p=C(),T&&T.c(),this.h()},l(H){e=d(H,"HR",{class:!0}),t=I(H),l=d(H,"DIV",{class:!0});var L=y(l);r=d(L,"DIV",{class:!0});var O=y(r);i=d(O,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-15m99z4"&&(i.textContent=a),c=I(O),h=d(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(h)!=="svelte-192kpg7"&&(h.innerHTML=v),O.forEach(f),b=I(L),m=d(L,"DIV",{class:!0});var j=y(m);for(let M=0;M<x.length;M+=1)x[M].l(j);j.forEach(f),p=I(L),T&&T.l(L),L.forEach(f),this.h()},h(){n(e,"class","dark:border-gray-700"),n(i,"class","self-center text-sm font-semibold"),n(h,"class","p-1 px-3 text-xs flex rounded transition"),n(h,"type","button"),n(r,"class","flex w-full justify-between mb-2"),n(m,"class","flex flex-col space-y-1"),n(l,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80")},m(H,L){R(H,e,L),R(H,t,L),R(H,l,L),o(l,r),o(r,i),o(r,c),o(r,h),o(l,b),o(l,m);for(let O=0;O<x.length;O+=1)x[O]&&x[O].m(m,null);o(l,p),T&&T.m(l,null),_||(g=J(h,"click",s[23]),_=!0)},p(H,L){if(L[0]&64){w=qe(H[6]);let O;for(O=0;O<w.length;O+=1){const j=Yl(H,w,O);x[O]?x[O].p(j,L):(x[O]=ts(j),x[O].c(),x[O].m(m,null))}for(;O<x.length;O+=1)x[O].d(1);x.length=w.length}H[6].length>0?T||(T=ls(),T.c(),T.m(l,null)):T&&(T.d(1),T=null)},d(H){H&&(f(e),f(t),f(l)),it(x,H),T&&T.d(),_=!1,g()}}}function ts(s){let e,t,l,r,i,a,c,h,v,b,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,_,g;function w(){s[24].call(r,s[31],s[32])}function x(){s[25].call(a,s[31],s[32])}function T(){s[26].call(h,s[31],s[32])}function H(){return s[27](s[32])}return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("input"),i=C(),a=u("input"),c=C(),h=u("input"),v=C(),b=u("button"),b.innerHTML=m,p=C(),this.h()},l(L){e=d(L,"DIV",{class:!0});var O=y(e);t=d(O,"DIV",{class:!0});var j=y(t);l=d(j,"DIV",{class:!0});var M=y(l);r=d(M,"INPUT",{class:!0,placeholder:!0}),i=I(M),a=d(M,"INPUT",{class:!0,placeholder:!0}),M.forEach(f),c=I(j),h=d(j,"INPUT",{class:!0,placeholder:!0}),j.forEach(f),v=I(O),b=d(O,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(b)!=="svelte-1lkxdu6"&&(b.innerHTML=m),p=I(O),O.forEach(f),this.h()},h(){n(r,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),n(r,"placeholder","Title (e.g. Tell me a fun fact)"),n(a,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),n(a,"placeholder","Subtitle (e.g. about the Roman Empire)"),n(l,"class","flex border-b dark:border-gray-600 w-full"),n(h,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),n(h,"placeholder","Prompt (e.g. Tell me a fun fact about the Roman Empire)"),n(t,"class","flex flex-col flex-1"),n(b,"class","px-2"),n(b,"type","button"),n(e,"class","flex border dark:border-gray-600 rounded-lg")},m(L,O){R(L,e,O),o(e,t),o(t,l),o(l,r),ne(r,s[30].title[0]),o(l,i),o(l,a),ne(a,s[30].title[1]),o(t,c),o(t,h),ne(h,s[30].content),o(e,v),o(e,b),o(e,p),_||(g=[J(r,"input",w),J(a,"input",x),J(h,"input",T),J(b,"click",H)],_=!0)},p(L,O){s=L,O[0]&64&&r.value!==s[30].title[0]&&ne(r,s[30].title[0]),O[0]&64&&a.value!==s[30].title[1]&&ne(a,s[30].title[1]),O[0]&64&&h.value!==s[30].content&&ne(h,s[30].content)},d(L){L&&f(e),_=!1,je(g)}}}function ls(s){let e,t="Adjusting these settings will apply changes universally to all users.";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-klrx3z"&&(e.textContent=t),this.h()},h(){n(e,"class","text-xs text-left w-full mt-2")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function oa(s){let e,t,l,r,i="LegerUI Add-ons",a,c,h,v,b="Title Auto-Generation",m,p,_,g,w,x,T="Response AutoCopy to Clipboard",H,L,O,j,M,B,z="Full Screen Mode",V,E,D,U,q,S,k='Display the username instead of "You" in the Chat',A,Z,N,W,ee,G,Y,F="Set Title Auto-Generation Model",$,Q,K,le,te,ie="Current Model",ce,fe,ge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M13.836 2.477a.75.75 0 0 1 .75.75v3.182a.75.75 0 0 1-.75.75h-3.182a.75.75 0 0 1 0-1.5h1.37l-.84-.841a4.5 4.5 0 0 0-7.08.932.75.75 0 0 1-1.3-.75 6 6 0 0 1 9.44-1.242l.842.84V3.227a.75.75 0 0 1 .75-.75Zm-.911 7.5A.75.75 0 0 1 13.199 11a6 6 0 0 1-9.44 1.241l-.84-.84v1.371a.75.75 0 0 1-1.5 0V9.591a.75.75 0 0 1 .75-.75H5.35a.75.75 0 0 1 0 1.5H3.98l.841.841a4.5 4.5 0 0 0 7.08-.932.75.75 0 0 1 1.025-.273Z" clip-rule="evenodd"></path></svg>',oe,we,ae,Me="Title Generation Prompt",ze,ye,De,se,_e,Ce='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',Te,be;function xe(de,Oe){return de[1]===!0?ea:$n}let ve=xe(s),X=ve(s);function ue(de,Oe){return de[2]===!0?la:ta}let ke=ue(s),pe=ke(s);function Re(de,Oe){return de[4]===!0?ra:sa}let Ae=Re(s),he=Ae(s);function re(de,Oe){return de[7]===!0?aa:na}let Ee=re(s),Ie=Ee(s),Je=qe(s[9]),Be=[];for(let de=0;de<Je.length;de+=1)Be[de]=$l(Xl(s,Je,de));let me=s[8].role==="admin"&&es(s);return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,a=C(),c=u("div"),h=u("div"),v=u("div"),v.textContent=b,m=C(),p=u("button"),X.c(),_=C(),g=u("div"),w=u("div"),x=u("div"),x.textContent=T,H=C(),L=u("button"),pe.c(),O=C(),j=u("div"),M=u("div"),B=u("div"),B.textContent=z,V=C(),E=u("button"),he.c(),D=C(),U=u("div"),q=u("div"),S=u("div"),S.textContent=k,A=C(),Z=u("button"),Ie.c(),N=C(),W=u("hr"),ee=C(),G=u("div"),Y=u("div"),Y.textContent=F,$=C(),Q=u("div"),K=u("div"),le=u("select"),te=u("option"),te.textContent=ie;for(let de=0;de<Be.length;de+=1)Be[de].c();ce=C(),fe=u("button"),fe.innerHTML=ge,oe=C(),we=u("div"),ae=u("div"),ae.textContent=Me,ze=C(),ye=u("textarea"),De=C(),me&&me.c(),se=C(),_e=u("div"),_e.innerHTML=Ce,this.h()},l(de){e=d(de,"FORM",{class:!0});var Oe=y(e);t=d(Oe,"DIV",{class:!0});var Le=y(t);l=d(Le,"DIV",{});var Se=y(l);r=d(Se,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-bzqd4m"&&(r.textContent=i),a=I(Se),c=d(Se,"DIV",{});var mt=y(c);h=d(mt,"DIV",{class:!0});var lt=y(h);v=d(lt,"DIV",{class:!0,"data-svelte-h":!0}),P(v)!=="svelte-vxy2t7"&&(v.textContent=b),m=I(lt),p=d(lt,"BUTTON",{class:!0,type:!0});var dt=y(p);X.l(dt),dt.forEach(f),lt.forEach(f),mt.forEach(f),_=I(Se),g=d(Se,"DIV",{});var gt=y(g);w=d(gt,"DIV",{class:!0});var ct=y(w);x=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),P(x)!=="svelte-15p4et1"&&(x.textContent=T),H=I(ct),L=d(ct,"BUTTON",{class:!0,type:!0});var ft=y(L);pe.l(ft),ft.forEach(f),ct.forEach(f),gt.forEach(f),O=I(Se),j=d(Se,"DIV",{});var Ct=y(j);M=d(Ct,"DIV",{class:!0});var Ot=y(M);B=d(Ot,"DIV",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-eh80kt"&&(B.textContent=z),V=I(Ot),E=d(Ot,"BUTTON",{class:!0,type:!0});var hl=y(E);he.l(hl),hl.forEach(f),Ot.forEach(f),Ct.forEach(f),D=I(Se),U=d(Se,"DIV",{});var vl=y(U);q=d(vl,"DIV",{class:!0});var Nt=y(q);S=d(Nt,"DIV",{class:!0,"data-svelte-h":!0}),P(S)!=="svelte-hq3tpb"&&(S.textContent=k),A=I(Nt),Z=d(Nt,"BUTTON",{class:!0,type:!0});var pl=y(Z);Ie.l(pl),pl.forEach(f),Nt.forEach(f),vl.forEach(f),Se.forEach(f),N=I(Le),W=d(Le,"HR",{class:!0}),ee=I(Le),G=d(Le,"DIV",{});var Vt=y(G);Y=d(Vt,"DIV",{class:!0,"data-svelte-h":!0}),P(Y)!=="svelte-6mvwtw"&&(Y.textContent=F),$=I(Vt),Q=d(Vt,"DIV",{class:!0});var Pt=y(Q);K=d(Pt,"DIV",{class:!0});var ml=y(K);le=d(ml,"SELECT",{class:!0,placeholder:!0});var qt=y(le);te=d(qt,"OPTION",{"data-svelte-h":!0}),P(te)!=="svelte-14zk1i5"&&(te.textContent=ie);for(let Gt=0;Gt<Be.length;Gt+=1)Be[Gt].l(qt);qt.forEach(f),ml.forEach(f),ce=I(Pt),fe=d(Pt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(fe)!=="svelte-1dcdnsb"&&(fe.innerHTML=ge),Pt.forEach(f),oe=I(Vt),we=d(Vt,"DIV",{class:!0});var Ut=y(we);ae=d(Ut,"DIV",{class:!0,"data-svelte-h":!0}),P(ae)!=="svelte-1lfupt"&&(ae.textContent=Me),ze=I(Ut),ye=d(Ut,"TEXTAREA",{class:!0,rows:!0}),y(ye).forEach(f),Ut.forEach(f),Vt.forEach(f),De=I(Le),me&&me.l(Le),Le.forEach(f),se=I(Oe),_e=d(Oe,"DIV",{class:!0,"data-svelte-h":!0}),P(_e)!=="svelte-1w4736w"&&(_e.innerHTML=Ce),Oe.forEach(f),this.h()},h(){n(r,"class","mb-1 text-sm font-medium"),n(v,"class","self-center text-xs font-medium"),n(p,"class","p-1 px-3 text-xs flex rounded transition"),n(p,"type","button"),n(h,"class","py-0.5 flex w-full justify-between"),n(x,"class","self-center text-xs font-medium"),n(L,"class","p-1 px-3 text-xs flex rounded transition"),n(L,"type","button"),n(w,"class","py-0.5 flex w-full justify-between"),n(B,"class","self-center text-xs font-medium"),n(E,"class","p-1 px-3 text-xs flex rounded transition"),n(E,"type","button"),n(M,"class","py-0.5 flex w-full justify-between"),n(S,"class","self-center text-xs font-medium"),n(Z,"class","p-1 px-3 text-xs flex rounded transition"),n(Z,"type","button"),n(q,"class","py-0.5 flex w-full justify-between"),n(W,"class","dark:border-gray-700"),n(Y,"class","mb-2.5 text-sm font-medium"),te.__value="",ne(te,te.__value),te.selected=!0,n(le,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(le,"placeholder","Select a model"),s[3]===void 0&&pt(()=>s[20].call(le)),n(K,"class","flex-1 mr-2"),n(fe,"class","px-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-800 dark:text-gray-100 rounded transition"),n(fe,"type","button"),n(Q,"class","flex w-full"),n(ae,"class","mb-2.5 text-sm font-medium"),n(ye,"class","w-full rounded p-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none resize-none"),n(ye,"rows","3"),n(we,"class","mt-3"),n(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-80"),n(_e,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(de,Oe){R(de,e,Oe),o(e,t),o(t,l),o(l,r),o(l,a),o(l,c),o(c,h),o(h,v),o(h,m),o(h,p),X.m(p,null),o(l,_),o(l,g),o(g,w),o(w,x),o(w,H),o(w,L),pe.m(L,null),o(l,O),o(l,j),o(j,M),o(M,B),o(M,V),o(M,E),he.m(E,null),o(l,D),o(l,U),o(U,q),o(q,S),o(q,A),o(q,Z),Ie.m(Z,null),o(t,N),o(t,W),o(t,ee),o(t,G),o(G,Y),o(G,$),o(G,Q),o(Q,K),o(K,le),o(le,te);for(let Le=0;Le<Be.length;Le+=1)Be[Le]&&Be[Le].m(le,null);tt(le,s[3],!0),o(Q,ce),o(Q,fe),o(G,oe),o(G,we),o(we,ae),o(we,ze),o(we,ye),ne(ye,s[5]),o(t,De),me&&me.m(t,null),o(e,se),o(e,_e),Te||(be=[J(p,"click",s[16]),J(L,"click",s[17]),J(E,"click",s[18]),J(Z,"click",s[19]),J(le,"change",s[20]),J(fe,"click",s[21]),J(ye,"input",s[22]),J(e,"submit",Lt(s[28]))],Te=!0)},p(de,Oe){if(ve!==(ve=xe(de))&&(X.d(1),X=ve(de),X&&(X.c(),X.m(p,null))),ke!==(ke=ue(de))&&(pe.d(1),pe=ke(de),pe&&(pe.c(),pe.m(L,null))),Ae!==(Ae=Re(de))&&(he.d(1),he=Ae(de),he&&(he.c(),he.m(E,null))),Ee!==(Ee=re(de))&&(Ie.d(1),Ie=Ee(de),Ie&&(Ie.c(),Ie.m(Z,null))),Oe[0]&512){Je=qe(de[9]);let Le;for(Le=0;Le<Je.length;Le+=1){const Se=Xl(de,Je,Le);Be[Le]?Be[Le].p(Se,Oe):(Be[Le]=$l(Se),Be[Le].c(),Be[Le].m(le,null))}for(;Le<Be.length;Le+=1)Be[Le].d(1);Be.length=Je.length}Oe[0]&520&&tt(le,de[3]),Oe[0]&32&&ne(ye,de[5]),de[8].role==="admin"?me?me.p(de,Oe):(me=es(de),me.c(),me.m(t,null)):me&&(me.d(1),me=null)},i:Ve,o:Ve,d(de){de&&f(e),X.d(),pe.d(),he.d(),Ie.d(),it(Be,de),me&&me.d(),Te=!1,je(be)}}}function ia(s,e,t){let l,r,i;Ke(s,St,Z=>t(29,l=Z)),Ke(s,yt,Z=>t(8,r=Z)),Ke(s,ht,Z=>t(9,i=Z));const a=Bt();let{saveSettings:c}=e,h=!0,v=!1,b="",m=!1,p="",_=[],g=!1;const w=async()=>{t(4,m=!m),c({fullScreenMode:m})},x=async()=>{t(7,g=!g),c({showUsername:g})},T=async()=>{t(1,h=!h),c({titleAutoGenerate:h})},H=async()=>{const Z=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(Z),Z==="granted"?(t(2,v=!v),c({responseAutoCopy:v})):He.error("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")},L=async()=>{r.role==="admin"&&(t(6,_=await vr(localStorage.token,_)),await St.set(await Zs())),c({titleGenerationPrompt:p||void 0})};ut(async()=>{r.role==="admin"&&t(6,_=l==null?void 0:l.default_prompt_suggestions);let Z=JSON.parse(localStorage.getItem("settings")??"{}");t(1,h=Z.titleAutoGenerate??!0),t(2,v=Z.responseAutoCopy??!1),t(7,g=Z.showUsername??!1),t(4,m=Z.fullScreenMode??!1),t(3,b=Z.titleAutoGenerateModel??""),t(5,p=Z.titleGenerationPrompt??"Create a concise, 3-5 word phrase as a header for the following query, strictly adhering to the 3-5 word limit and avoiding the use of the word 'title': {{prompt}}")});const O=()=>{T()},j=()=>{H()},M=()=>{w()},B=()=>{x()};function z(){b=bt(this),t(3,b)}const V=()=>{c({titleAutoGenerateModel:b!==""?b:void 0})};function E(){p=this.value,t(5,p)}const D=()=>{(_.length===0||_.at(-1).content!=="")&&t(6,_=[..._,{content:"",title:["",""]}])};function U(Z,N){Z[N].title[0]=this.value,t(6,_)}function q(Z,N){Z[N].title[1]=this.value,t(6,_)}function S(Z,N){Z[N].content=this.value,t(6,_)}const k=Z=>{_.splice(Z,1),t(6,_)},A=()=>{L(),a("save")};return s.$$set=Z=>{"saveSettings"in Z&&t(0,c=Z.saveSettings)},[c,h,v,b,m,p,_,g,r,i,a,w,x,T,H,L,O,j,M,B,z,V,E,D,U,q,S,k,A]}class ca extends nt{constructor(e){super(),at(this,e,ia,oa,rt,{saveSettings:0},null,[-1,-1])}}function ss(s,e,t){const l=s.slice();return l[26]=e[t],l}function rs(s,e,t){const l=s.slice();return l[26]=e[t],l}function ua(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function da(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function fa(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function ha(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function va(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function pa(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function ma(s){let e,t,l="Set Voice",r,i,a,c,h,v,b=qe(s[6]),m=[];for(let p=0;p<b.length;p+=1)m[p]=ns(ss(s,b,p));return{c(){e=u("div"),t=u("div"),t.textContent=l,r=C(),i=u("div"),a=u("div"),c=u("select");for(let p=0;p<m.length;p+=1)m[p].c();this.h()},l(p){e=d(p,"DIV",{});var _=y(e);t=d(_,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1saas11"&&(t.textContent=l),r=I(_),i=d(_,"DIV",{class:!0});var g=y(i);a=d(g,"DIV",{class:!0});var w=y(a);c=d(w,"SELECT",{class:!0,placeholder:!0});var x=y(c);for(let T=0;T<m.length;T+=1)m[T].l(x);x.forEach(f),w.forEach(f),g.forEach(f),_.forEach(f),this.h()},h(){n(t,"class","mb-2.5 text-sm font-medium"),n(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(c,"placeholder","Select a voice"),s[7]===void 0&&pt(()=>s[22].call(c)),n(a,"class","flex-1"),n(i,"class","flex w-full")},m(p,_){R(p,e,_),o(e,t),o(e,r),o(e,i),o(i,a),o(a,c);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(c,null);tt(c,s[7],!0),h||(v=J(c,"change",s[22]),h=!0)},p(p,_){if(_&64){b=qe(p[6]);let g;for(g=0;g<b.length;g+=1){const w=ss(p,b,g);m[g]?m[g].p(w,_):(m[g]=ns(w),m[g].c(),m[g].m(c,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=b.length}_&192&&tt(c,p[7])},d(p){p&&f(e),it(m,p),h=!1,v()}}}function ga(s){let e,t,l="Set Voice",r,i,a,c,h,v="Default",b,m,p=qe(s[6].filter(os)),_=[];for(let g=0;g<p.length;g+=1)_[g]=as(rs(s,p,g));return{c(){e=u("div"),t=u("div"),t.textContent=l,r=C(),i=u("div"),a=u("div"),c=u("select"),h=u("option"),h.textContent=v;for(let g=0;g<_.length;g+=1)_[g].c();this.h()},l(g){e=d(g,"DIV",{});var w=y(e);t=d(w,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1saas11"&&(t.textContent=l),r=I(w),i=d(w,"DIV",{class:!0});var x=y(i);a=d(x,"DIV",{class:!0});var T=y(a);c=d(T,"SELECT",{class:!0,placeholder:!0});var H=y(c);h=d(H,"OPTION",{"data-svelte-h":!0}),P(h)!=="svelte-19tv5vy"&&(h.textContent=v);for(let L=0;L<_.length;L+=1)_[L].l(H);H.forEach(f),T.forEach(f),x.forEach(f),w.forEach(f),this.h()},h(){n(t,"class","mb-2.5 text-sm font-medium"),h.__value="",ne(h,h.__value),h.selected=!0,n(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(c,"placeholder","Select a voice"),s[7]===void 0&&pt(()=>s[21].call(c)),n(a,"class","flex-1"),n(i,"class","flex w-full")},m(g,w){R(g,e,w),o(e,t),o(e,r),o(e,i),o(i,a),o(a,c),o(c,h);for(let x=0;x<_.length;x+=1)_[x]&&_[x].m(c,null);tt(c,s[7],!0),b||(m=J(c,"change",s[21]),b=!0)},p(g,w){if(w&64){p=qe(g[6].filter(os));let x;for(x=0;x<p.length;x+=1){const T=rs(g,p,x);_[x]?_[x].p(T,w):(_[x]=as(T),_[x].c(),_[x].m(c,null))}for(;x<_.length;x+=1)_[x].d(1);_.length=p.length}w&192&&tt(c,g[7])},d(g){g&&f(e),it(_,g),b=!1,m()}}}function ns(s){let e,t=s[26].name+"",l,r;return{c(){e=u("option"),l=Ne(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var a=y(e);l=Pe(a,t),a.forEach(f),this.h()},h(){e.__value=r=s[26].name,ne(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,a){R(i,e,a),o(e,l)},p(i,a){a&64&&t!==(t=i[26].name+"")&&Ye(l,t),a&64&&r!==(r=i[26].name)&&(e.__value=r,ne(e,e.__value))},d(i){i&&f(e)}}}function as(s){let e,t=s[26].name+"",l,r;return{c(){e=u("option"),l=Ne(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var a=y(e);l=Pe(a,t),a.forEach(f),this.h()},h(){e.__value=r=s[26].name,ne(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,a){R(i,e,a),o(e,l)},p(i,a){a&64&&t!==(t=i[26].name+"")&&Ye(l,t),a&64&&r!==(r=i[26].name)&&(e.__value=r,ne(e,e.__value))},d(i){i&&f(e)}}}function _a(s){let e,t,l,r,i="STT Settings",a,c,h,v="Speech-to-Text Engine",b,m,p,_,g="Default (Web API)",w,x="Whisper (Local)",T,H,L,O="Conversation Mode",j,M,B,z,V,E="Auto-send input after 3 sec.",D,U,q,S,k,A="TTS Settings",Z,N,W,ee="Text-to-Speech Engine",G,Y,F,$,Q="Default (Web API)",K,le="Open AI",te,ie,ce,fe="Auto-playback response",ge,oe,we,ae,Me,ze,ye,De='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',se,_e;function Ce(re,Ee){return re[2]===!0?da:ua}let Te=Ce(s),be=Te(s);function xe(re,Ee){return re[3]===!0?ha:fa}let ve=xe(s),X=ve(s);function ue(re,Ee){return re[4]===!0?pa:va}let ke=ue(s),pe=ke(s);function Re(re,Ee){if(re[5]==="")return ga;if(re[5]==="openai")return ma}let Ae=Re(s),he=Ae&&Ae(s);return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,a=C(),c=u("div"),h=u("div"),h.textContent=v,b=C(),m=u("div"),p=u("select"),_=u("option"),_.textContent=g,w=u("option"),w.textContent=x,T=C(),H=u("div"),L=u("div"),L.textContent=O,j=C(),M=u("button"),be.c(),B=C(),z=u("div"),V=u("div"),V.textContent=E,D=C(),U=u("button"),X.c(),q=C(),S=u("div"),k=u("div"),k.textContent=A,Z=C(),N=u("div"),W=u("div"),W.textContent=ee,G=C(),Y=u("div"),F=u("select"),$=u("option"),$.textContent=Q,K=u("option"),K.textContent=le,te=C(),ie=u("div"),ce=u("div"),ce.textContent=fe,ge=C(),oe=u("button"),pe.c(),we=C(),ae=u("hr"),Me=C(),he&&he.c(),ze=C(),ye=u("div"),ye.innerHTML=De,this.h()},l(re){e=d(re,"FORM",{class:!0});var Ee=y(e);t=d(Ee,"DIV",{class:!0});var Ie=y(t);l=d(Ie,"DIV",{});var Je=y(l);r=d(Je,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-diomsv"&&(r.textContent=i),a=I(Je),c=d(Je,"DIV",{class:!0});var Be=y(c);h=d(Be,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1grxly3"&&(h.textContent=v),b=I(Be),m=d(Be,"DIV",{class:!0});var me=y(m);p=d(me,"SELECT",{class:!0,placeholder:!0});var de=y(p);_=d(de,"OPTION",{"data-svelte-h":!0}),P(_)!=="svelte-58m1fs"&&(_.textContent=g),w=d(de,"OPTION",{"data-svelte-h":!0}),P(w)!=="svelte-11bx7je"&&(w.textContent=x),de.forEach(f),me.forEach(f),Be.forEach(f),T=I(Je),H=d(Je,"DIV",{class:!0});var Oe=y(H);L=d(Oe,"DIV",{class:!0,"data-svelte-h":!0}),P(L)!=="svelte-149a4jz"&&(L.textContent=O),j=I(Oe),M=d(Oe,"BUTTON",{class:!0,type:!0});var Le=y(M);be.l(Le),Le.forEach(f),Oe.forEach(f),B=I(Je),z=d(Je,"DIV",{class:!0});var Se=y(z);V=d(Se,"DIV",{class:!0,"data-svelte-h":!0}),P(V)!=="svelte-1s78n2z"&&(V.textContent=E),D=I(Se),U=d(Se,"BUTTON",{class:!0,type:!0});var mt=y(U);X.l(mt),mt.forEach(f),Se.forEach(f),Je.forEach(f),q=I(Ie),S=d(Ie,"DIV",{});var lt=y(S);k=d(lt,"DIV",{class:!0,"data-svelte-h":!0}),P(k)!=="svelte-1hgogbz"&&(k.textContent=A),Z=I(lt),N=d(lt,"DIV",{class:!0});var dt=y(N);W=d(dt,"DIV",{class:!0,"data-svelte-h":!0}),P(W)!=="svelte-1c62htf"&&(W.textContent=ee),G=I(dt),Y=d(dt,"DIV",{class:!0});var gt=y(Y);F=d(gt,"SELECT",{class:!0,placeholder:!0});var ct=y(F);$=d(ct,"OPTION",{"data-svelte-h":!0}),P($)!=="svelte-58m1fs"&&($.textContent=Q),K=d(ct,"OPTION",{"data-svelte-h":!0}),P(K)!=="svelte-12xvqcc"&&(K.textContent=le),ct.forEach(f),gt.forEach(f),dt.forEach(f),te=I(lt),ie=d(lt,"DIV",{class:!0});var ft=y(ie);ce=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),P(ce)!=="svelte-lkaxwt"&&(ce.textContent=fe),ge=I(ft),oe=d(ft,"BUTTON",{class:!0,type:!0});var Ct=y(oe);pe.l(Ct),Ct.forEach(f),ft.forEach(f),lt.forEach(f),we=I(Ie),ae=d(Ie,"HR",{class:!0}),Me=I(Ie),he&&he.l(Ie),Ie.forEach(f),ze=I(Ee),ye=d(Ee,"DIV",{class:!0,"data-svelte-h":!0}),P(ye)!=="svelte-1w4736w"&&(ye.innerHTML=De),Ee.forEach(f),this.h()},h(){n(r,"class","mb-1 text-sm font-medium"),n(h,"class","self-center text-xs font-medium"),_.__value="",ne(_,_.__value),w.__value="whisper-local",ne(w,w.__value),n(p,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(p,"placeholder","Select a mode"),s[1]===void 0&&pt(()=>s[14].call(p)),n(m,"class","flex items-center relative"),n(c,"class","py-0.5 flex w-full justify-between"),n(L,"class","self-center text-xs font-medium"),n(M,"class","p-1 px-3 text-xs flex rounded transition"),n(M,"type","button"),n(H,"class","py-0.5 flex w-full justify-between"),n(V,"class","self-center text-xs font-medium"),n(U,"class","p-1 px-3 text-xs flex rounded transition"),n(U,"type","button"),n(z,"class","py-0.5 flex w-full justify-between"),n(k,"class","mb-1 text-sm font-medium"),n(W,"class","self-center text-xs font-medium"),$.__value="",ne($,$.__value),K.__value="openai",ne(K,K.__value),n(F,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),n(F,"placeholder","Select a mode"),s[5]===void 0&&pt(()=>s[18].call(F)),n(Y,"class","flex items-center relative"),n(N,"class","py-0.5 flex w-full justify-between"),n(ce,"class","self-center text-xs font-medium"),n(oe,"class","p-1 px-3 text-xs flex rounded transition"),n(oe,"type","button"),n(ie,"class","py-0.5 flex w-full justify-between"),n(ae,"class","dark:border-gray-700"),n(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),n(ye,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(re,Ee){R(re,e,Ee),o(e,t),o(t,l),o(l,r),o(l,a),o(l,c),o(c,h),o(c,b),o(c,m),o(m,p),o(p,_),o(p,w),tt(p,s[1],!0),o(l,T),o(l,H),o(H,L),o(H,j),o(H,M),be.m(M,null),o(l,B),o(l,z),o(z,V),o(z,D),o(z,U),X.m(U,null),o(t,q),o(t,S),o(S,k),o(S,Z),o(S,N),o(N,W),o(N,G),o(N,Y),o(Y,F),o(F,$),o(F,K),tt(F,s[5],!0),o(S,te),o(S,ie),o(ie,ce),o(ie,ge),o(ie,oe),pe.m(oe,null),o(t,we),o(t,ae),o(t,Me),he&&he.m(t,null),o(e,ze),o(e,ye),se||(_e=[J(p,"change",s[14]),J(p,"change",s[15]),J(M,"click",s[16]),J(U,"click",s[17]),J(F,"change",s[18]),J(F,"change",s[19]),J(oe,"click",s[20]),J(e,"submit",Lt(s[23]))],se=!0)},p(re,[Ee]){Ee&2&&tt(p,re[1]),Te!==(Te=Ce(re))&&(be.d(1),be=Te(re),be&&(be.c(),be.m(M,null))),ve!==(ve=xe(re))&&(X.d(1),X=ve(re),X&&(X.c(),X.m(U,null))),Ee&32&&tt(F,re[5]),ke!==(ke=ue(re))&&(pe.d(1),pe=ke(re),pe&&(pe.c(),pe.m(oe,null))),Ae===(Ae=Re(re))&&he?he.p(re,Ee):(he&&he.d(1),he=Ae&&Ae(re),he&&(he.c(),he.m(t,null)))},i:Ve,o:Ve,d(re){re&&f(e),be.d(),X.d(),pe.d(),he&&he.d(),se=!1,je(_e)}}}const os=s=>s.localService===!0;function ba(s,e,t){const l=Bt();let{saveSettings:r}=e,i="",a=!1,c=!1,h=!1,v="",b=[],m="";const p=()=>{t(6,b=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},_=()=>{const D=setInterval(async()=>{t(6,b=await speechSynthesis.getVoices()),b.length>0&&clearInterval(D)},100)},g=async()=>{t(2,a=!a),a&&(t(4,h=!0),t(3,c=!0)),r({conversationMode:a,responseAutoPlayback:h,speechAutoSend:c})},w=async()=>{t(4,h=!h),r({responseAutoPlayback:h})},x=async()=>{t(3,c=!c),r({speechAutoSend:c})};ut(async()=>{var U,q,S;let D=JSON.parse(localStorage.getItem("settings")??"{}");t(2,a=D.conversationMode??!1),t(3,c=D.speechAutoSend??!1),t(4,h=D.responseAutoPlayback??!1),t(1,i=((U=D==null?void 0:D.audio)==null?void 0:U.STTEngine)??""),t(5,v=((q=D==null?void 0:D.audio)==null?void 0:q.TTSEngine)??""),t(7,m=((S=D==null?void 0:D.audio)==null?void 0:S.speaker)??""),v==="openai"?p():_()});function T(){i=bt(this),t(1,i)}const H=D=>{D.target.value!==""&&navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(U){He.error(`Permission denied when accessing microphone: ${U}`),t(1,i="")})},L=()=>{g()},O=()=>{x()};function j(){v=bt(this),t(5,v)}const M=D=>{D.target.value==="openai"?(p(),t(7,m="alloy")):(_(),t(7,m=""))},B=()=>{w()};function z(){m=bt(this),t(7,m),t(6,b)}function V(){m=bt(this),t(7,m),t(6,b)}const E=()=>{r({audio:{STTEngine:i!==""?i:void 0,TTSEngine:v!==""?v:void 0,speaker:m!==""?m:void 0}}),l("save")};return s.$$set=D=>{"saveSettings"in D&&t(0,r=D.saveSettings)},[r,i,a,c,h,v,b,m,l,p,_,g,w,x,T,H,L,O,j,M,B,z,V,E]}class ya extends nt{constructor(e){super(),at(this,e,ba,_a,rt,{saveSettings:0})}}function wa(s){let e,t,l,r,i,a="Off";return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),r=C(),i=u("span"),i.textContent=a,this.h()},l(c){e=We(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var h=y(e);t=We(h,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(t).forEach(f),l=We(h,"path",{d:!0}),y(l).forEach(f),h.forEach(f),r=I(c),i=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-1u2ztdm"&&(i.textContent=a),this.h()},h(){n(t,"fill-rule","evenodd"),n(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),n(t,"clip-rule","evenodd"),n(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(i,"class","ml-2 self-center")},m(c,h){R(c,e,h),o(e,t),o(e,l),R(c,r,h),R(c,i,h)},d(c){c&&(f(e),f(r),f(i))}}}function xa(s){let e,t,l,r,i,a="On";return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),r=C(),i=u("span"),i.textContent=a,this.h()},l(c){e=We(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var h=y(e);t=We(h,"path",{d:!0}),y(t).forEach(f),l=We(h,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),y(l).forEach(f),h.forEach(f),r=I(c),i=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-1abjn3m"&&(i.textContent=a),this.h()},h(){n(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),n(l,"fill-rule","evenodd"),n(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),n(l,"clip-rule","evenodd"),n(e,"xmlns","http://www.w3.org/2000/svg"),n(e,"viewBox","0 0 16 16"),n(e,"fill","currentColor"),n(e,"class","w-4 h-4"),n(i,"class","ml-2 self-center")},m(c,h){R(c,e,h),o(e,t),o(e,l),R(c,r,h),R(c,i,h)},d(c){c&&(f(e),f(r),f(i))}}}function ka(s){let e,t='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Delete Chats</div>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-ki3yy5"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(i,a){R(i,e,a),l||(r=J(e,"click",s[17]),l=!0)},p:Ve,d(i){i&&f(e),l=!1,r()}}}function Ca(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path></svg> <span>Are you sure?</span>',r,i,a,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',h,v,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,p;return{c(){e=u("div"),t=u("div"),t.innerHTML=l,r=C(),i=u("div"),a=u("button"),a.innerHTML=c,h=C(),v=u("button"),v.innerHTML=b,this.h()},l(_){e=d(_,"DIV",{class:!0});var g=y(e);t=d(g,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1l0gtox"&&(t.innerHTML=l),r=I(g),i=d(g,"DIV",{class:!0});var w=y(i);a=d(w,"BUTTON",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-1yl80nf"&&(a.innerHTML=c),h=I(w),v=d(w,"BUTTON",{class:!0,"data-svelte-h":!0}),P(v)!=="svelte-7i2l1r"&&(v.innerHTML=b),w.forEach(f),g.forEach(f),this.h()},h(){n(t,"class","flex items-center space-x-3"),n(a,"class","hover:text-white transition"),n(v,"class","hover:text-white transition"),n(i,"class","flex space-x-1.5 items-center"),n(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(_,g){R(_,e,g),o(e,t),o(e,r),o(e,i),o(i,a),o(i,h),o(i,v),m||(p=[J(a,"click",s[15]),J(v,"click",s[16])],m=!0)},p:Ve,d(_){_&&f(e),m=!1,je(p)}}}function is(s){let e,t,l,r='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Export All Chats (All Users)</div>',i,a,c,h,v='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Reset Vector Storage</div>',b,m;return{c(){e=u("hr"),t=C(),l=u("button"),l.innerHTML=r,i=C(),a=u("hr"),c=C(),h=u("button"),h.innerHTML=v,this.h()},l(p){e=d(p,"HR",{class:!0}),t=I(p),l=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1qd63nu"&&(l.innerHTML=r),i=I(p),a=d(p,"HR",{class:!0}),c=I(p),h=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1v9vp97"&&(h.innerHTML=v),this.h()},h(){n(e,"class","dark:border-gray-700"),n(l,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(a,"class","dark:border-gray-700"),n(h,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(p,_){R(p,e,_),R(p,t,_),R(p,l,_),R(p,i,_),R(p,a,_),R(p,c,_),R(p,h,_),b||(m=[J(l,"click",s[18]),J(h,"click",s[19])],b=!0)},p:Ve,d(p){p&&(f(e),f(t),f(l),f(i),f(a),f(c),f(h)),b=!1,je(m)}}}function Ia(s){var ee;let e,t,l,r,i,a="Chat History",c,h,v,b,m="This setting does not sync across browsers or devices.",p,_,g,w,x,T,H,L='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Import Chats</div>',O,j,M='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Export Chats</div>',B,z,V,E,D,U;function q(G,Y){return G[1]===!0?xa:wa}let S=q(s),k=S(s);function A(G,Y){return G[2]?Ca:ka}let Z=A(s),N=Z(s),W=((ee=s[4])==null?void 0:ee.role)==="admin"&&is(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.textContent=a,c=C(),h=u("button"),k.c(),v=C(),b=u("div"),b.textContent=m,p=C(),_=u("hr"),g=C(),w=u("div"),x=u("input"),T=C(),H=u("button"),H.innerHTML=L,O=C(),j=u("button"),j.innerHTML=M,B=C(),z=u("hr"),V=C(),N.c(),E=C(),W&&W.c(),this.h()},l(G){e=d(G,"DIV",{class:!0});var Y=y(e);t=d(Y,"DIV",{class:!0});var F=y(t);l=d(F,"DIV",{class:!0});var $=y(l);r=d($,"DIV",{class:!0});var Q=y(r);i=d(Q,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-o25mcc"&&(i.textContent=a),c=I(Q),h=d(Q,"BUTTON",{class:!0,type:!0});var K=y(h);k.l(K),K.forEach(f),Q.forEach(f),v=I($),b=d($,"DIV",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-gmdy2e"&&(b.textContent=m),$.forEach(f),p=I(F),_=d(F,"HR",{class:!0}),g=I(F),w=d(F,"DIV",{class:!0});var le=y(w);x=d(le,"INPUT",{id:!0,type:!0,accept:!0}),T=I(le),H=d(le,"BUTTON",{class:!0,"data-svelte-h":!0}),P(H)!=="svelte-9mcypd"&&(H.innerHTML=L),O=I(le),j=d(le,"BUTTON",{class:!0,"data-svelte-h":!0}),P(j)!=="svelte-ki8nm3"&&(j.innerHTML=M),le.forEach(f),B=I(F),z=d(F,"HR",{class:!0}),V=I(F),N.l(F),E=I(F),W&&W.l(F),F.forEach(f),Y.forEach(f),this.h()},h(){n(i,"class","self-center text-sm font-medium"),n(h,"class","p-1 px-3 text-xs flex rounded transition"),n(h,"type","button"),n(r,"class","flex w-full justify-between"),n(b,"class","text-xs text-left w-full font-medium mt-0.5"),n(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),n(_,"class","dark:border-gray-700"),n(x,"id","chat-import-input"),n(x,"type","file"),n(x,"accept",".json"),x.hidden=!0,n(H,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(j,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),n(w,"class","flex flex-col"),n(z,"class","dark:border-gray-700"),n(t,"class","space-y-2"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(G,Y){R(G,e,Y),o(e,t),o(t,l),o(l,r),o(r,i),o(r,c),o(r,h),k.m(h,null),o(l,v),o(l,b),o(t,p),o(t,_),o(t,g),o(t,w),o(w,x),s[11](x),o(w,T),o(w,H),o(w,O),o(w,j),o(t,B),o(t,z),o(t,V),N.m(t,null),o(t,E),W&&W.m(t,null),D||(U=[J(h,"click",s[10]),J(x,"change",s[12]),J(H,"click",s[13]),J(j,"click",s[14])],D=!0)},p(G,[Y]){var F;S!==(S=q(G))&&(k.d(1),k=S(G),k&&(k.c(),k.m(h,null))),Z===(Z=A(G))&&N?N.p(G,Y):(N.d(1),N=Z(G),N&&(N.c(),N.m(t,E))),((F=G[4])==null?void 0:F.role)==="admin"?W?W.p(G,Y):(W=is(G),W.c(),W.m(t,null)):W&&(W.d(1),W=null)},i:Ve,o:Ve,d(G){G&&f(e),k.d(),s[11](null),N.d(),W&&W.d(),D=!1,je(U)}}}function Ta(s,e,t){let l;Ke(s,yt,V=>t(4,l=V));const{saveAs:r}=Os;let{saveSettings:i}=e,a=!0,c,h=!1,v;const b=async V=>{for(const E of V)console.log(E),E.chat?await wl(localStorage.token,E.chat):await wl(localStorage.token,E);await wt.set(await Tt(localStorage.token))},m=async()=>{let V=new Blob([JSON.stringify(await pr(localStorage.token))],{type:"application/json"});r(V,`chat-export-${Date.now()}.json`)},p=async()=>{let V=new Blob([JSON.stringify(await mr(localStorage.token))],{type:"application/json"});r(V,`all-chats-export-${Date.now()}.json`)},_=async()=>{await Et("/"),await gr(localStorage.token).catch(V=>{He.error(V)}),await wt.set(await Tt(localStorage.token))},g=async()=>{t(1,a=!a),console.log(a),a===!1&&await Et("/"),i({saveChatHistory:a})};ut(async()=>{let V=JSON.parse(localStorage.getItem("settings")??"{}");t(1,a=V.saveChatHistory??!0)});const w=()=>{g()};function x(V){vt[V?"unshift":"push"](()=>{v=V,t(3,v)})}function T(){c=this.files,t(0,c)}const H=()=>{v.click()},L=()=>{m()},O=()=>{_(),t(2,h=!1)},j=()=>{t(2,h=!1)},M=()=>{t(2,h=!0)},B=()=>{p()},z=()=>{qr(localStorage.token).catch(E=>(He.error(E),null))&&He.success("Success")};return s.$$set=V=>{"saveSettings"in V&&t(9,i=V.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&c){console.log(c);let V=new FileReader;V.onload=E=>{let D=JSON.parse(E.target.result);if(console.log(D),Hr(D)=="openai")try{D=Br(D)}catch(U){console.log("Unable to import chats:",U)}b(D)},c.length>0&&V.readAsText(c[0])}},[c,a,h,v,l,m,p,_,g,i,w,x,T,H,L,O,j,M,B,z]}class Ea extends nt{constructor(e){super(),at(this,e,Ta,Ia,rt,{saveSettings:9})}}function cs(s,e,t){const l=s.slice();return l[19]=e[t],l[20]=e,l[21]=t,l}function us(s,e,t){const l=s.slice();return l[19]=e[t],l[22]=e,l[21]=t,l}function ds(s){let e,t=qe(s[2]),l=[];for(let r=0;r<t.length;r+=1)l[r]=fs(us(s,t,r));return{c(){e=u("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=y(e);for(let a=0;a<l.length;a+=1)l[a].l(i);i.forEach(f),this.h()},h(){n(e,"class","flex flex-col gap-1")},m(r,i){R(r,e,i);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(r,i){if(i&6){t=qe(r[2]);let a;for(a=0;a<t.length;a+=1){const c=us(r,t,a);l[a]?l[a].p(c,i):(l[a]=fs(c),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(r){r&&f(e),it(l,r)}}}function Da(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function i(){return s[12](s[21])}return{c(){e=u("button"),e.innerHTML=t,this.h()},l(a){e=d(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(e)!=="svelte-q4z88n"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(a,c){R(a,e,c),l||(r=J(e,"click",i),l=!0)},p(a,c){s=a},d(a){a&&f(e),l=!1,r()}}}function Ma(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(e)!=="svelte-1k98qnf"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(i,a){R(i,e,a),l||(r=J(e,"click",s[11]),l=!0)},p:Ve,d(i){i&&f(e),l=!1,r()}}}function fs(s){let e,t,l,r,i,a,c,h,v,b,m,p,_,g=s[19]+"",w,x,T,H,L;function O(){s[9].call(l,s[22],s[21])}function j(){s[10].call(a,s[21])}function M(V,E){return V[21]===0?Ma:Da}let z=M(s)(s);return{c(){e=u("div"),t=u("div"),l=u("input"),r=C(),i=u("div"),a=u("input"),c=C(),h=u("div"),z.c(),v=C(),b=u("div"),m=Ne("WebUI will make requests to "),p=u("span"),_=Ne("'"),w=Ne(g),x=Ne("/models'"),T=C(),this.h()},l(V){e=d(V,"DIV",{class:!0});var E=y(e);t=d(E,"DIV",{class:!0});var D=y(t);l=d(D,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),D.forEach(f),r=I(E),i=d(E,"DIV",{class:!0});var U=y(i);a=d(U,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),U.forEach(f),c=I(E),h=d(E,"DIV",{class:!0});var q=y(h);z.l(q),q.forEach(f),E.forEach(f),v=I(V),b=d(V,"DIV",{class:!0});var S=y(b);m=Pe(S,"WebUI will make requests to "),p=d(S,"SPAN",{class:!0});var k=y(p);_=Pe(k,"'"),w=Pe(k,g),x=Pe(k,"/models'"),k.forEach(f),T=I(S),S.forEach(f),this.h()},h(){n(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(l,"placeholder","API Base URL"),n(l,"autocomplete","off"),n(t,"class","flex-1"),n(a,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(a,"placeholder","API Key"),n(a,"autocomplete","off"),n(i,"class","flex-1"),n(h,"class","self-center flex items-center"),n(e,"class","flex w-full gap-2"),n(p,"class","text-gray-200"),n(b,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(V,E){R(V,e,E),o(e,t),o(t,l),ne(l,s[19]),o(e,r),o(e,i),o(i,a),ne(a,s[1][s[21]]),o(e,c),o(e,h),z.m(h,null),R(V,v,E),R(V,b,E),o(b,m),o(b,p),o(p,_),o(p,w),o(p,x),o(b,T),H||(L=[J(l,"input",O),J(a,"input",j)],H=!0)},p(V,E){s=V,E&4&&l.value!==s[19]&&ne(l,s[19]),E&2&&a.value!==s[1][s[21]]&&ne(a,s[1][s[21]]),z.p(s,E),E&4&&g!==(g=s[19]+"")&&Ye(w,g)},d(V){V&&(f(e),f(v),f(b)),z.d(),H=!1,je(L)}}}function Va(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function i(){return s[15](s[21])}return{c(){e=u("button"),e.innerHTML=t,this.h()},l(a){e=d(a,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(e)!=="svelte-tjuou5"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(a,c){R(a,e,c),l||(r=J(e,"click",i),l=!0)},p(a,c){s=a},d(a){a&&f(e),l=!1,r()}}}function La(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(e)!=="svelte-1bpufq2"&&(e.innerHTML=t),this.h()},h(){n(e,"class","px-1"),n(e,"type","button")},m(i,a){R(i,e,a),l||(r=J(e,"click",s[14]),l=!0)},p:Ve,d(i){i&&f(e),l=!1,r()}}}function hs(s){let e,t,l,r,i,a,c;function h(){s[13].call(t,s[20],s[21])}function v(p,_){return p[21]===0?La:Va}let m=v(s)(s);return{c(){e=u("div"),t=u("input"),l=C(),r=u("div"),m.c(),i=C(),this.h()},l(p){e=d(p,"DIV",{class:!0});var _=y(e);t=d(_,"INPUT",{class:!0,placeholder:!0}),l=I(_),r=d(_,"DIV",{class:!0});var g=y(r);m.l(g),g.forEach(f),i=I(_),_.forEach(f),this.h()},h(){n(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),n(t,"placeholder","Enter URL (e.g. http://localhost:11434)"),n(r,"class","self-center flex items-center"),n(e,"class","flex gap-1.5")},m(p,_){R(p,e,_),o(e,t),ne(t,s[19]),o(e,l),o(e,r),m.m(r,null),o(e,i),a||(c=J(t,"input",h),a=!0)},p(p,_){s=p,_&1&&t.value!==s[19]&&ne(t,s[19]),m.p(s,_)},d(p){p&&f(e),m.d(),a=!1,c()}}}function Aa(s){let e,t,l,r,i,a,c="OpenAI API",h,v,b=s[3]?"Hide":"Show",m,p,_,g,w,x,T,H="LLM Base URL",L,O,j,M,B,z,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',E,D,U=`Trouble accessing LLM?
				<a class="text-gray-300 font-medium" href="https://legerlabs.com#troubleshooting" target="_blank">Click here for help.</a>`,q,S,k='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',A,Z,N=s[3]&&ds(s),W=qe(s[0]),ee=[];for(let G=0;G<W.length;G+=1)ee[G]=hs(cs(s,W,G));return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),a=u("div"),a.textContent=c,h=C(),v=u("button"),m=Ne(b),p=C(),N&&N.c(),_=C(),g=u("hr"),w=C(),x=u("div"),T=u("div"),T.textContent=H,L=C(),O=u("div"),j=u("div");for(let G=0;G<ee.length;G+=1)ee[G].c();M=C(),B=u("div"),z=u("button"),z.innerHTML=V,E=C(),D=u("div"),D.innerHTML=U,q=C(),S=u("div"),S.innerHTML=k,this.h()},l(G){e=d(G,"FORM",{class:!0});var Y=y(e);t=d(Y,"DIV",{class:!0});var F=y(t);l=d(F,"DIV",{class:!0});var $=y(l);r=d($,"DIV",{class:!0});var Q=y(r);i=d(Q,"DIV",{class:!0});var K=y(i);a=d(K,"DIV",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-1uilz16"&&(a.textContent=c),h=I(K),v=d(K,"BUTTON",{class:!0,type:!0});var le=y(v);m=Pe(le,b),le.forEach(f),K.forEach(f),p=I(Q),N&&N.l(Q),Q.forEach(f),$.forEach(f),_=I(F),g=d(F,"HR",{class:!0}),w=I(F),x=d(F,"DIV",{});var te=y(x);T=d(te,"DIV",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-1mj7rjm"&&(T.textContent=H),L=I(te),O=d(te,"DIV",{class:!0});var ie=y(O);j=d(ie,"DIV",{class:!0});var ce=y(j);for(let ge=0;ge<ee.length;ge+=1)ee[ge].l(ce);ce.forEach(f),M=I(ie),B=d(ie,"DIV",{class:!0});var fe=y(B);z=d(fe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(z)!=="svelte-1rngu5f"&&(z.innerHTML=V),fe.forEach(f),ie.forEach(f),E=I(te),D=d(te,"DIV",{class:!0,"data-svelte-h":!0}),P(D)!=="svelte-1iulyc4"&&(D.innerHTML=U),te.forEach(f),F.forEach(f),q=I(Y),S=d(Y,"DIV",{class:!0,"data-svelte-h":!0}),P(S)!=="svelte-1w4736w"&&(S.innerHTML=k),Y.forEach(f),this.h()},h(){n(a,"class","font-medium"),n(v,"class","text-xs font-medium text-gray-500"),n(v,"type","button"),n(i,"class","flex justify-between items-center text-sm"),n(r,"class","mt-2 space-y-2 pr-1.5"),n(l,"class","space-y-3"),n(g,"class","dark:border-gray-700"),n(T,"class","mb-2.5 text-sm font-medium"),n(j,"class","flex-1 flex flex-col gap-2"),n(z,"class","p-2.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-850 dark:hover:bg-gray-800 rounded-lg transition"),n(z,"type","button"),n(B,"class",""),n(O,"class","flex w-full gap-1.5"),n(D,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(t,"class","pr-1.5 overflow-y-scroll max-h-[20.5rem] space-y-3"),n(S,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between text-sm")},m(G,Y){R(G,e,Y),o(e,t),o(t,l),o(l,r),o(r,i),o(i,a),o(i,h),o(i,v),o(v,m),o(r,p),N&&N.m(r,null),o(t,_),o(t,g),o(t,w),o(t,x),o(x,T),o(x,L),o(x,O),o(O,j);for(let F=0;F<ee.length;F+=1)ee[F]&&ee[F].m(j,null);o(O,M),o(O,B),o(B,z),o(x,E),o(x,D),o(e,q),o(e,S),A||(Z=[J(v,"click",s[8]),J(z,"click",s[16]),J(e,"submit",Lt(s[17]))],A=!0)},p(G,[Y]){if(Y&8&&b!==(b=G[3]?"Hide":"Show")&&Ye(m,b),G[3]?N?N.p(G,Y):(N=ds(G),N.c(),N.m(r,null)):N&&(N.d(1),N=null),Y&1){W=qe(G[0]);let F;for(F=0;F<W.length;F+=1){const $=cs(G,W,F);ee[F]?ee[F].p($,Y):(ee[F]=hs($),ee[F].c(),ee[F].m(j,null))}for(;F<ee.length;F+=1)ee[F].d(1);ee.length=W.length}},i:Ve,o:Ve,d(G){G&&f(e),N&&N.d(),it(ee,G),A=!1,je(Z)}}}function Sa(s,e,t){let l;Ke(s,yt,M=>t(18,l=M));const r=Bt();let{getModels:i}=e,a=[""],c=[""],h=[""],v=!1;const b=async()=>{t(2,h=await ir(localStorage.token,h)),t(1,c=await cr(localStorage.token,c)),await ht.set(await i())},m=async()=>{t(0,a=await sr(localStorage.token,a)),await il(localStorage.token).catch(B=>(He.error(B),null))&&(He.success("Server connection verified"),await ht.set(await i()))};ut(async()=>{l.role==="admin"&&(t(0,a=await Ns(localStorage.token)),t(2,h=await ar(localStorage.token)),t(1,c=await or(localStorage.token)))});const p=()=>{t(3,v=!v)};function _(M,B){M[B]=this.value,t(2,h)}function g(M){c[M]=this.value,t(1,c)}const w=()=>{t(2,h=[...h,""]),t(1,c=[...c,""])},x=M=>{t(2,h=h.filter((B,z)=>M!==z)),t(1,c=c.filter((B,z)=>M!==z))};function T(M,B){M[B]=this.value,t(0,a)}const H=()=>{t(0,a=[...a,""])},L=M=>{t(0,a=a.filter((B,z)=>M!==z))},O=()=>{m()},j=()=>{b(),r("save")};return s.$$set=M=>{"getModels"in M&&t(7,i=M.getModels)},[a,c,h,v,r,b,m,i,p,_,g,w,x,T,H,L,O,j]}class Ha extends nt{constructor(e){super(),at(this,e,Sa,Aa,rt,{getModels:7})}}function vs(s,e,t){const l=s.slice();return l[20]=e[t],l}function Ba(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Oa(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function ps(s){let e,t,l,r,i="Set Default Model",a,c,h,v,b,m,p,_,g="Set Image Size",w,x,T,H,L,O,j,M="Set Steps",B,z,V,E,D,U,q=!s[3]&&ms(),S=qe(s[4]??[]),k=[];for(let A=0;A<S.length;A+=1)k[A]=gs(vs(s,S,A));return{c(){e=u("hr"),t=C(),l=u("div"),r=u("div"),r.textContent=i,a=C(),c=u("div"),h=u("div"),v=u("select"),q&&q.c(),b=st();for(let A=0;A<k.length;A+=1)k[A].c();m=C(),p=u("div"),_=u("div"),_.textContent=g,w=C(),x=u("div"),T=u("div"),H=u("input"),L=C(),O=u("div"),j=u("div"),j.textContent=M,B=C(),z=u("div"),V=u("div"),E=u("input"),this.h()},l(A){e=d(A,"HR",{class:!0}),t=I(A),l=d(A,"DIV",{});var Z=y(l);r=d(Z,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-1an7ol3"&&(r.textContent=i),a=I(Z),c=d(Z,"DIV",{class:!0});var N=y(c);h=d(N,"DIV",{class:!0});var W=y(h);v=d(W,"SELECT",{class:!0,placeholder:!0});var ee=y(v);q&&q.l(ee),b=st();for(let le=0;le<k.length;le+=1)k[le].l(ee);ee.forEach(f),W.forEach(f),N.forEach(f),Z.forEach(f),m=I(A),p=d(A,"DIV",{});var G=y(p);_=d(G,"DIV",{class:!0,"data-svelte-h":!0}),P(_)!=="svelte-1cj1un7"&&(_.textContent=g),w=I(G),x=d(G,"DIV",{class:!0});var Y=y(x);T=d(Y,"DIV",{class:!0});var F=y(T);H=d(F,"INPUT",{class:!0,placeholder:!0}),F.forEach(f),Y.forEach(f),G.forEach(f),L=I(A),O=d(A,"DIV",{});var $=y(O);j=d($,"DIV",{class:!0,"data-svelte-h":!0}),P(j)!=="svelte-8mnd18"&&(j.textContent=M),B=I($),z=d($,"DIV",{class:!0});var Q=y(z);V=d(Q,"DIV",{class:!0});var K=y(V);E=d(K,"INPUT",{class:!0,placeholder:!0}),K.forEach(f),Q.forEach(f),$.forEach(f),this.h()},h(){n(e,"class","dark:border-gray-700"),n(r,"class","mb-2.5 text-sm font-medium"),n(v,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(v,"placeholder","Select a model"),s[3]===void 0&&pt(()=>s[14].call(v)),n(h,"class","flex-1 mr-2"),n(c,"class","flex w-full"),n(_,"class","mb-2.5 text-sm font-medium"),n(H,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(H,"placeholder","Enter Image Size (e.g. 512x512)"),n(T,"class","flex-1 mr-2"),n(x,"class","flex w-full"),n(j,"class","mb-2.5 text-sm font-medium"),n(E,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(E,"placeholder","Enter Number of Steps (e.g. 50)"),n(V,"class","flex-1 mr-2"),n(z,"class","flex w-full")},m(A,Z){R(A,e,Z),R(A,t,Z),R(A,l,Z),o(l,r),o(l,a),o(l,c),o(c,h),o(h,v),q&&q.m(v,null),o(v,b);for(let N=0;N<k.length;N+=1)k[N]&&k[N].m(v,null);tt(v,s[3],!0),R(A,m,Z),R(A,p,Z),o(p,_),o(p,w),o(p,x),o(x,T),o(T,H),ne(H,s[5]),R(A,L,Z),R(A,O,Z),o(O,j),o(O,B),o(O,z),o(z,V),o(V,E),ne(E,s[6]),D||(U=[J(v,"change",s[14]),J(H,"input",s[15]),J(E,"input",s[16])],D=!0)},p(A,Z){if(A[3]?q&&(q.d(1),q=null):q||(q=ms(),q.c(),q.m(v,b)),Z&16){S=qe(A[4]??[]);let N;for(N=0;N<S.length;N+=1){const W=vs(A,S,N);k[N]?k[N].p(W,Z):(k[N]=gs(W),k[N].c(),k[N].m(v,null))}for(;N<k.length;N+=1)k[N].d(1);k.length=S.length}Z&24&&tt(v,A[3]),Z&32&&H.value!==A[5]&&ne(H,A[5]),Z&64&&E.value!==A[6]&&ne(E,A[6])},d(A){A&&(f(e),f(t),f(l),f(m),f(p),f(L),f(O)),q&&q.d(),it(k,A),D=!1,je(U)}}}function ms(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),P(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",ne(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function gs(s){let e,t=s[20].model_name+"",l,r;return{c(){e=u("option"),l=Ne(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var a=y(e);l=Pe(a,t),a.forEach(f),this.h()},h(){e.__value=r=s[20].title,ne(e,e.__value),n(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,a){R(i,e,a),o(e,l)},p(i,a){a&16&&t!==(t=i[20].model_name+"")&&Ye(l,t),a&16&&r!==(r=i[20].title)&&(e.__value=r,ne(e,e.__value))},d(i){i&&f(e)}}}function _s(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){n(e,"class","ml-2 self-center")},m(l,r){R(l,e,r)},d(l){l&&f(e)}}}function Na(s){let e,t,l,r,i="Image Settings",a,c,h,v,b="Image Generation (Experimental)",m,p,_,g,w,x,T="Base URL",H,L,O,j,M,B,z='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',V,E,D='Include `--api` flag when running stable-diffusion-webui\n			<a class="text-gray-300 font-medium" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734" target="_blank">(e.g. `sh webui.sh --api`)</a>',U,q,S,k,A,Z,N,W;function ee(Q,K){return Q[1]===!0?Oa:Ba}let G=ee(s),Y=G(s),F=s[1]&&ps(s),$=s[0]&&_s();return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,a=C(),c=u("div"),h=u("div"),v=u("div"),v.textContent=b,m=C(),p=u("button"),Y.c(),_=C(),g=u("hr"),w=C(),x=u("div"),x.textContent=T,H=C(),L=u("div"),O=u("div"),j=u("input"),M=C(),B=u("button"),B.innerHTML=z,V=C(),E=u("div"),E.innerHTML=D,U=C(),F&&F.c(),q=C(),S=u("div"),k=u("button"),A=Ne(`Save

			`),$&&$.c(),this.h()},l(Q){e=d(Q,"FORM",{class:!0});var K=y(e);t=d(K,"DIV",{class:!0});var le=y(t);l=d(le,"DIV",{});var te=y(l);r=d(te,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-clutkv"&&(r.textContent=i),a=I(te),c=d(te,"DIV",{});var ie=y(c);h=d(ie,"DIV",{class:!0});var ce=y(h);v=d(ce,"DIV",{class:!0,"data-svelte-h":!0}),P(v)!=="svelte-1hszkoj"&&(v.textContent=b),m=I(ce),p=d(ce,"BUTTON",{class:!0,type:!0});var fe=y(p);Y.l(fe),fe.forEach(f),ce.forEach(f),ie.forEach(f),te.forEach(f),_=I(le),g=d(le,"HR",{class:!0}),w=I(le),x=d(le,"DIV",{class:!0,"data-svelte-h":!0}),P(x)!=="svelte-tmyou5"&&(x.textContent=T),H=I(le),L=d(le,"DIV",{class:!0});var ge=y(L);O=d(ge,"DIV",{class:!0});var oe=y(O);j=d(oe,"INPUT",{class:!0,placeholder:!0}),oe.forEach(f),M=I(ge),B=d(ge,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(B)!=="svelte-1nzn2r4"&&(B.innerHTML=z),ge.forEach(f),V=I(le),E=d(le,"DIV",{class:!0,"data-svelte-h":!0}),P(E)!=="svelte-ii05ge"&&(E.innerHTML=D),U=I(le),F&&F.l(le),le.forEach(f),q=I(K),S=d(K,"DIV",{class:!0});var we=y(S);k=d(we,"BUTTON",{class:!0,type:!0});var ae=y(k);A=Pe(ae,`Save

			`),$&&$.l(ae),ae.forEach(f),we.forEach(f),K.forEach(f),this.h()},h(){n(r,"class","mb-1 text-sm font-medium"),n(v,"class","self-center text-xs font-medium"),n(p,"class","p-1 px-3 text-xs flex rounded transition"),n(p,"type","button"),n(h,"class","py-0.5 flex w-full justify-between"),n(g,"class","dark:border-gray-700"),n(x,"class","mb-2.5 text-sm font-medium"),n(j,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),n(j,"placeholder","Enter URL (e.g. http://127.0.0.1:7860/)"),n(O,"class","flex-1 mr-2"),n(B,"class","px-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 rounded transition"),n(B,"type","button"),n(L,"class","flex w-full"),n(E,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),n(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[20.5rem]"),n(k,"class",Z="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),n(k,"type","submit"),k.disabled=s[0],n(S,"class","flex justify-end pt-3 text-sm font-medium"),n(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Q,K){R(Q,e,K),o(e,t),o(t,l),o(l,r),o(l,a),o(l,c),o(c,h),o(h,v),o(h,m),o(h,p),Y.m(p,null),o(t,_),o(t,g),o(t,w),o(t,x),o(t,H),o(t,L),o(L,O),o(O,j),ne(j,s[2]),o(L,M),o(L,B),o(t,V),o(t,E),o(t,U),F&&F.m(t,null),o(e,q),o(e,S),o(S,k),o(k,A),$&&$.m(k,null),N||(W=[J(p,"click",s[11]),J(j,"input",s[12]),J(B,"click",s[13]),J(e,"submit",Lt(s[17]))],N=!0)},p(Q,[K]){G!==(G=ee(Q))&&(Y.d(1),Y=G(Q),Y&&(Y.c(),Y.m(p,null))),K&4&&j.value!==Q[2]&&ne(j,Q[2]),Q[1]?F?F.p(Q,K):(F=ps(Q),F.c(),F.m(t,null)):F&&(F.d(1),F=null),Q[0]?$||($=_s(),$.c(),$.m(k,null)):$&&($.d(1),$=null),K&1&&Z!==(Z="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded flex flex-row space-x-1 items-center "+(Q[0]?" cursor-not-allowed":""))&&n(k,"class",Z),K&1&&(k.disabled=Q[0])},i:Ve,o:Ve,d(Q){Q&&f(e),Y.d(),F&&F.d(),$&&$.d(),N=!1,je(W)}}}function Pa(s,e,t){let l;Ke(s,yt,B=>t(18,l=B));const r=Bt();let{saveSettings:i}=e,a=!1,c=!1,h="",v="",b=null,m="",p=50;const _=async()=>{t(4,b=await wr(localStorage.token).catch(B=>(He.error(B),null))),t(3,v=await xr(localStorage.token).catch(B=>""))},g=async()=>{const B=await kr(localStorage.token,h).catch(z=>(He.error(z),null));B?(t(2,h=B),await _(),b&&He.success("Server connection verified")):t(2,h=await xl(localStorage.token))},w=async()=>{h?(t(1,c=await Cr(localStorage.token).catch(B=>(He.error(B),!1))),c&&(St.set(await Zs()),_())):(t(1,c=!1),He.error("AUTOMATIC1111_BASE_URL not provided"))};ut(async()=>{l.role==="admin"&&(t(1,c=await _r(localStorage.token)),t(2,h=await xl(localStorage.token)),c&&h&&(t(5,m=await br(localStorage.token)),t(6,p=await yr(localStorage.token)),_()))});const x=()=>{w()};function T(){h=this.value,t(2,h)}const H=()=>{g()};function L(){v=bt(this),t(3,v),t(4,b)}function O(){m=this.value,t(5,m)}function j(){p=this.value,t(6,p)}const M=async()=>{t(0,a=!0),await Ir(localStorage.token,v),await Tr(localStorage.token,m).catch(B=>(He.error(B),null)),await Er(localStorage.token,p).catch(B=>(He.error(B),null)),r("save"),t(0,a=!1)};return s.$$set=B=>{"saveSettings"in B&&t(10,i=B.saveSettings)},[a,c,h,v,b,m,p,r,g,w,i,x,T,H,L,O,j,M]}class Ua extends nt{constructor(e){super(),at(this,e,Pa,Na,rt,{saveSettings:10})}}function bs(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',r,i,a="Connections",c,h,v,b,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',p,_,g="Models",w,x,T;return{c(){e=u("button"),t=u("div"),t.innerHTML=l,r=C(),i=u("div"),i.textContent=a,h=C(),v=u("button"),b=u("div"),b.innerHTML=m,p=C(),_=u("div"),_.textContent=g,this.h()},l(H){e=d(H,"BUTTON",{class:!0});var L=y(e);t=d(L,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1uuylbv"&&(t.innerHTML=l),r=I(L),i=d(L,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-yucnvi"&&(i.textContent=a),L.forEach(f),h=I(H),v=d(H,"BUTTON",{class:!0});var O=y(v);b=d(O,"DIV",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-1s8wpdu"&&(b.innerHTML=m),p=I(O),_=d(O,"DIV",{class:!0,"data-svelte-h":!0}),P(_)!=="svelte-1q0mgp9"&&(_.textContent=g),O.forEach(f),this.h()},h(){n(t,"class","self-center mr-2"),n(i,"class","self-center"),n(e,"class",c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n(b,"class","self-center mr-2"),n(_,"class","self-center"),n(v,"class",w="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(H,L){R(H,e,L),o(e,t),o(e,r),o(e,i),R(H,h,L),R(H,v,L),o(v,b),o(v,p),o(v,_),x||(T=[J(e,"click",s[7]),J(v,"click",s[8])],x=!0)},p(H,L){L&2&&c!==(c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(H[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&n(e,"class",c),L&2&&w!==(w="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(H[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&n(v,"class",w)},d(H){H&&(f(e),f(h),f(v)),x=!1,je(T)}}}function ys(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',r,i,a="Images",c,h,v;return{c(){e=u("button"),t=u("div"),t.innerHTML=l,r=C(),i=u("div"),i.textContent=a,this.h()},l(b){e=d(b,"BUTTON",{class:!0});var m=y(e);t=d(m,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-11xeywu"&&(t.innerHTML=l),r=I(m),i=d(m,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-ticdod"&&(i.textContent=a),m.forEach(f),this.h()},h(){n(t,"class","self-center mr-2"),n(i,"class","self-center"),n(e,"class",c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(b,m){R(b,e,m),o(e,t),o(e,r),o(e,i),h||(v=J(e,"click",s[11]),h=!0)},p(b,m){m&2&&c!==(c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(b[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&n(e,"class",c)},d(b){b&&f(e),h=!1,v()}}}function ja(s){let e,t;return e=new gn({}),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ve,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ze(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function za(s){let e,t;return e=new vn({props:{saveHandler:s[20]}}),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.saveHandler=l[20]),e.$set(i)},i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ze(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Ra(s){let e,t;return e=new Ea({props:{saveSettings:s[3]}}),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ve,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ze(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Za(s){let e,t;return e=new Ua({props:{saveSettings:s[3]}}),e.$on("save",s[19]),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ve,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ze(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function qa(s){let e,t;return e=new ya({props:{saveSettings:s[3]}}),e.$on("save",s[18]),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ve,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ze(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Ga(s){let e,t;return e=new ca({props:{saveSettings:s[3]}}),e.$on("save",s[17]),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ve,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ze(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Fa(s){let e,t;return e=new Ha({props:{getModels:s[4]}}),e.$on("save",s[16]),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ve,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ze(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Wa(s){let e,t;return e=new zn({props:{getModels:s[4]}}),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ve,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ze(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Ja(s){let e,t;return e=new Qn({props:{getModels:s[4],saveSettings:s[3]}}),e.$on("save",s[15]),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ve,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ze(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Ka(s){var Be;let e,t,l,r="Settings",i,a,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,v,b,m,p,_,g,w='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',x,T,H="General",L,O,j,M,B,z='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',V,E,D="Interface",U,q,S,k,A='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',Z,N,W="Audio",ee,G,Y,F,$,Q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',K,le,te="Chats",ie,ce,fe,ge,oe='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',we,ae,Me="Account",ze,ye,De,se,_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',Ce,Te,be="About",xe,ve,X,ue,ke,pe,Re,Ae,he=((Be=s[2])==null?void 0:Be.role)==="admin"&&bs(s),re=s[2].role==="admin"&&ys(s);const Ee=[Ja,Wa,Fa,Ga,qa,Za,Ra,za,ja],Ie=[];function Je(me,de){return me[1]==="general"?0:me[1]==="models"?1:me[1]==="connections"?2:me[1]==="interface"?3:me[1]==="audio"?4:me[1]==="images"?5:me[1]==="chats"?6:me[1]==="account"?7:me[1]==="about"?8:-1}return~(ue=Je(s))&&(ke=Ie[ue]=Ee[ue](s)),{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=C(),a=u("button"),a.innerHTML=c,h=C(),v=u("hr"),b=C(),m=u("div"),p=u("div"),_=u("button"),g=u("div"),g.innerHTML=w,x=C(),T=u("div"),T.textContent=H,O=C(),he&&he.c(),j=C(),M=u("button"),B=u("div"),B.innerHTML=z,V=C(),E=u("div"),E.textContent=D,q=C(),S=u("button"),k=u("div"),k.innerHTML=A,Z=C(),N=u("div"),N.textContent=W,G=C(),re&&re.c(),Y=C(),F=u("button"),$=u("div"),$.innerHTML=Q,K=C(),le=u("div"),le.textContent=te,ce=C(),fe=u("button"),ge=u("div"),ge.innerHTML=oe,we=C(),ae=u("div"),ae.textContent=Me,ye=C(),De=u("button"),se=u("div"),se.innerHTML=_e,Ce=C(),Te=u("div"),Te.textContent=be,ve=C(),X=u("div"),ke&&ke.c(),this.h()},l(me){e=d(me,"DIV",{});var de=y(e);t=d(de,"DIV",{class:!0});var Oe=y(t);l=d(Oe,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-dx4bdu"&&(l.textContent=r),i=I(Oe),a=d(Oe,"BUTTON",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-745w2y"&&(a.innerHTML=c),Oe.forEach(f),h=I(de),v=d(de,"HR",{class:!0}),b=I(de),m=d(de,"DIV",{class:!0});var Le=y(m);p=d(Le,"DIV",{class:!0});var Se=y(p);_=d(Se,"BUTTON",{class:!0});var mt=y(_);g=d(mt,"DIV",{class:!0,"data-svelte-h":!0}),P(g)!=="svelte-qy1dha"&&(g.innerHTML=w),x=I(mt),T=d(mt,"DIV",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-115rgpl"&&(T.textContent=H),mt.forEach(f),O=I(Se),he&&he.l(Se),j=I(Se),M=d(Se,"BUTTON",{class:!0});var lt=y(M);B=d(lt,"DIV",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-16cea28"&&(B.innerHTML=z),V=I(lt),E=d(lt,"DIV",{class:!0,"data-svelte-h":!0}),P(E)!=="svelte-1e0rlw4"&&(E.textContent=D),lt.forEach(f),q=I(Se),S=d(Se,"BUTTON",{class:!0});var dt=y(S);k=d(dt,"DIV",{class:!0,"data-svelte-h":!0}),P(k)!=="svelte-36jwmy"&&(k.innerHTML=A),Z=I(dt),N=d(dt,"DIV",{class:!0,"data-svelte-h":!0}),P(N)!=="svelte-c2twnz"&&(N.textContent=W),dt.forEach(f),G=I(Se),re&&re.l(Se),Y=I(Se),F=d(Se,"BUTTON",{class:!0});var gt=y(F);$=d(gt,"DIV",{class:!0,"data-svelte-h":!0}),P($)!=="svelte-1gtbwe5"&&($.innerHTML=Q),K=I(gt),le=d(gt,"DIV",{class:!0,"data-svelte-h":!0}),P(le)!=="svelte-2d7hr4"&&(le.textContent=te),gt.forEach(f),ce=I(Se),fe=d(Se,"BUTTON",{class:!0});var ct=y(fe);ge=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),P(ge)!=="svelte-amityv"&&(ge.innerHTML=oe),we=I(ct),ae=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),P(ae)!=="svelte-f0e2nc"&&(ae.textContent=Me),ct.forEach(f),ye=I(Se),De=d(Se,"BUTTON",{class:!0});var ft=y(De);se=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),P(se)!=="svelte-15t8s7e"&&(se.innerHTML=_e),Ce=I(ft),Te=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),P(Te)!=="svelte-1nc16iq"&&(Te.textContent=be),ft.forEach(f),Se.forEach(f),ve=I(Le),X=d(Le,"DIV",{class:!0});var Ct=y(X);ke&&ke.l(Ct),Ct.forEach(f),Le.forEach(f),de.forEach(f),this.h()},h(){n(l,"class","text-lg font-medium self-center"),n(a,"class","self-center"),n(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),n(v,"class","dark:border-gray-800"),n(g,"class","self-center mr-2"),n(T,"class","self-center"),n(_,"class",L="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n(B,"class","self-center mr-2"),n(E,"class","self-center"),n(M,"class",U="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n(k,"class","self-center mr-2"),n(N,"class","self-center"),n(S,"class",ee="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n($,"class","self-center mr-2"),n(le,"class","self-center"),n(F,"class",ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n(ge,"class","self-center mr-2"),n(ae,"class","self-center"),n(fe,"class",ze="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n(se,"class","self-center mr-2"),n(Te,"class","self-center"),n(De,"class",xe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n(p,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),n(X,"class","flex-1 md:min-h-[380px]"),n(m,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(me,de){R(me,e,de),o(e,t),o(t,l),o(t,i),o(t,a),o(e,h),o(e,v),o(e,b),o(e,m),o(m,p),o(p,_),o(_,g),o(_,x),o(_,T),o(p,O),he&&he.m(p,null),o(p,j),o(p,M),o(M,B),o(M,V),o(M,E),o(p,q),o(p,S),o(S,k),o(S,Z),o(S,N),o(p,G),re&&re.m(p,null),o(p,Y),o(p,F),o(F,$),o(F,K),o(F,le),o(p,ce),o(p,fe),o(fe,ge),o(fe,we),o(fe,ae),o(p,ye),o(p,De),o(De,se),o(De,Ce),o(De,Te),o(m,ve),o(m,X),~ue&&Ie[ue].m(X,null),pe=!0,Re||(Ae=[J(a,"click",s[5]),J(_,"click",s[6]),J(M,"click",s[9]),J(S,"click",s[10]),J(F,"click",s[12]),J(fe,"click",s[13]),J(De,"click",s[14])],Re=!0)},p(me,de){var Le;(!pe||de&2&&L!==(L="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&n(_,"class",L),((Le=me[2])==null?void 0:Le.role)==="admin"?he?he.p(me,de):(he=bs(me),he.c(),he.m(p,j)):he&&(he.d(1),he=null),(!pe||de&2&&U!==(U="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&n(M,"class",U),(!pe||de&2&&ee!==(ee="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&n(S,"class",ee),me[2].role==="admin"?re?re.p(me,de):(re=ys(me),re.c(),re.m(p,Y)):re&&(re.d(1),re=null),(!pe||de&2&&ie!==(ie="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&n(F,"class",ie),(!pe||de&2&&ze!==(ze="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&n(fe,"class",ze),(!pe||de&2&&xe!==(xe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&n(De,"class",xe);let Oe=ue;ue=Je(me),ue===Oe?~ue&&Ie[ue].p(me,de):(ke&&(al(),Ze(Ie[Oe],1,1,()=>{Ie[Oe]=null}),ol()),~ue?(ke=Ie[ue],ke?ke.p(me,de):(ke=Ie[ue]=Ee[ue](me),ke.c()),Ue(ke,1),ke.m(X,null)):ke=null)},i(me){pe||(Ue(ke),pe=!0)},o(me){Ze(ke),pe=!1},d(me){me&&f(e),he&&he.d(),re&&re.d(),~ue&&Ie[ue].d(),Re=!1,je(Ae)}}}function Ya(s){let e,t,l;function r(a){s[21](a)}let i={$$slots:{default:[Ka]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new ul({props:i}),vt.push(()=>Mt(e,"show",r)),{c(){Xe(e.$$.fragment)},l(a){Qe(e.$$.fragment,a)},m(a,c){$e(e,a,c),l=!0},p(a,[c]){const h={};c&8388615&&(h.$$scope={dirty:c,ctx:a}),!t&&c&1&&(t=!0,h.show=a[0],Dt(()=>t=!1)),e.$set(h)},i(a){l||(Ue(e.$$.fragment,a),l=!0)},o(a){Ze(e.$$.fragment,a),l=!1},d(a){et(e,a)}}}function Xa(s,e,t){let l,r;Ke(s,Ht,E=>t(22,l=E)),Ke(s,yt,E=>t(2,r=E));let{show:i=!1}=e;const a=async E=>{console.log(E),await Ht.set({...l,...E}),await ht.set(await h()),localStorage.setItem("settings",JSON.stringify(l))};let c="general";const h=async()=>{let E=await Promise.all([await Ps(localStorage.token).catch(D=>(console.log(D),null)),await Us(localStorage.token).catch(D=>(console.log(D),null)),await Fs(localStorage.token).catch(D=>(console.log(D),null))]);return E=E.filter(D=>D).reduce((D,U,q,S)=>D.concat(U,...q<S.length-1?[{name:"hr"}]:[]),[]),E},v=()=>{t(0,i=!1)},b=()=>{t(1,c="general")},m=()=>{t(1,c="connections")},p=()=>{t(1,c="models")},_=()=>{t(1,c="interface")},g=()=>{t(1,c="audio")},w=()=>{t(1,c="images")},x=()=>{t(1,c="chats")},T=()=>{t(1,c="account")},H=()=>{t(1,c="about")},L=()=>{t(0,i=!1)},O=()=>{t(0,i=!1)},j=()=>{t(0,i=!1)},M=()=>{t(0,i=!1)},B=()=>{t(0,i=!1)},z=()=>{t(0,i=!1)};function V(E){i=E,t(0,i)}return s.$$set=E=>{"show"in E&&t(0,i=E.show)},[i,c,r,a,h,v,b,m,p,_,g,w,x,T,H,L,O,j,M,B,z,V]}class Qa extends nt{constructor(e){super(),at(this,e,Xa,Ya,rt,{show:0})}}function ws(s,e,t){const l=s.slice();return l[42]=e[t],l[44]=t,l}function xs(s,e,t){const l=s.slice();return l[45]=e[t],l}function ks(s){let e,t='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/modelfiles"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Customizations</div></div></a>',l,r,i='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/documents"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Knowledge Base</div></div></a>',a,c,h='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/prompts"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Integrations</div></div></a>';return{c(){e=u("div"),e.innerHTML=t,l=C(),r=u("div"),r.innerHTML=i,a=C(),c=u("div"),c.innerHTML=h,this.h()},l(v){e=d(v,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-a26i62"&&(e.innerHTML=t),l=I(v),r=d(v,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-3cumbp"&&(r.innerHTML=i),a=I(v),c=d(v,"DIV",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-1dte694"&&(c.innerHTML=h),this.h()},h(){n(e,"class","px-2 flex justify-center mt-0.5"),n(r,"class","px-2 flex justify-center mb-1"),n(c,"class","px-2 flex justify-center")},m(v,b){R(v,e,b),R(v,l,b),R(v,r,b),R(v,a,b),R(v,c,b)},d(v){v&&(f(e),f(l),f(r),f(a),f(c))}}}function Cs(s){let e,t,l,r="Chat History is off for this browser.",i,a,c=`When history is turned off, new chats on this browser won&#39;t appear in your history on
							any of your devices. <span class="font-semibold">This setting does not sync across browsers or devices.</span>`,h,v,b,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3 h-3"><path fill-rule="evenodd" d="M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path></svg> <div>Enable Chat History</div>',p,_;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=C(),a=u("div"),a.innerHTML=c,h=C(),v=u("div"),b=u("button"),b.innerHTML=m,this.h()},l(g){e=d(g,"DIV",{class:!0});var w=y(e);t=d(w,"DIV",{class:!0});var x=y(t);l=d(x,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1yilfmk"&&(l.textContent=r),i=I(x),a=d(x,"DIV",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-1i6nvzg"&&(a.innerHTML=c),h=I(x),v=d(x,"DIV",{class:!0});var T=y(v);b=d(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(b)!=="svelte-1jjlsr2"&&(b.innerHTML=m),T.forEach(f),x.forEach(f),w.forEach(f),this.h()},h(){n(l,"class","font-medium"),n(a,"class","text-xs mt-2"),n(b,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-200 hover:bg-gray-300 transition text-gray-800 font-medium w-full"),n(b,"type","button"),n(v,"class","mt-3"),n(t,"class","text-left px-5 py-2"),n(e,"class","absolute z-40 w-full h-full bg-black/90 flex justify-center")},m(g,w){R(g,e,w),o(e,t),o(t,l),o(t,i),o(t,a),o(t,h),o(t,v),o(v,b),p||(_=J(b,"click",s[17]),p=!0)},p:Ve,d(g){g&&f(e),p=!1,_()}}}function Is(s){let e,t,l="all",r,i,a,c=qe(s[10]),h=[];for(let v=0;v<c.length;v+=1)h[v]=Ts(xs(s,c,v));return{c(){e=u("div"),t=u("button"),t.textContent=l,r=C();for(let v=0;v<h.length;v+=1)h[v].c();this.h()},l(v){e=d(v,"DIV",{class:!0});var b=y(e);t=d(b,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-55i6gh"&&(t.textContent=l),r=I(b);for(let m=0;m<h.length;m+=1)h[m].l(b);b.forEach(f),this.h()},h(){n(t,"class","px-2.5 text-xs font-medium bg-gray-900 hover:bg-gray-800 transition rounded-full"),n(e,"class","px-2.5 mt-0.5 mb-2 flex gap-1 flex-wrap")},m(v,b){R(v,e,b),o(e,t),o(e,r);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(e,null);i||(a=J(t,"click",s[20]),i=!0)},p(v,b){if(b[0]&1024){c=qe(v[10]);let m;for(m=0;m<c.length;m+=1){const p=xs(v,c,m);h[m]?h[m].p(p,b):(h[m]=Ts(p),h[m].c(),h[m].m(e,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=c.length}},d(v){v&&f(e),it(h,v),i=!1,a()}}}function Ts(s){let e,t=s[45].name+"",l,r,i,a;function c(){return s[21](s[45])}return{c(){e=u("button"),l=Ne(t),r=C(),this.h()},l(h){e=d(h,"BUTTON",{class:!0});var v=y(e);l=Pe(v,t),r=I(v),v.forEach(f),this.h()},h(){n(e,"class","px-2.5 text-xs font-medium bg-gray-900 hover:bg-gray-800 transition rounded-full")},m(h,v){R(h,e,v),o(e,l),o(e,r),i||(a=J(e,"click",c),i=!0)},p(h,v){s=h,v[0]&1024&&t!==(t=s[45].name+"")&&Ye(l,t)},d(h){h&&f(e),i=!1,a()}}}function $a(s){let e,t,l,r=s[42].title+"",i,a,c,h,v,b;return{c(){e=u("a"),t=u("div"),l=u("div"),i=Ne(r),this.h()},l(m){e=d(m,"A",{class:!0,href:!0});var p=y(e);t=d(p,"DIV",{class:!0});var _=y(t);l=d(_,"DIV",{class:!0});var g=y(l);i=Pe(g,r),g.forEach(f),_.forEach(f),p.forEach(f),this.h()},h(){n(l,"class",a="text-left self-center overflow-hidden "+(s[42].id===s[11]?"w-[160px]":"w-full")),n(t,"class","flex self-center flex-1 w-full"),n(e,"class",c="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(s[42].id===s[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis"),n(e,"href",h="/c/"+s[42].id)},m(m,p){R(m,e,p),o(e,t),o(t,l),o(l,i),v||(b=J(e,"click",s[24]),v=!0)},p(m,p){p[0]&516&&r!==(r=m[42].title+"")&&Ye(i,r),p[0]&2564&&a!==(a="text-left self-center overflow-hidden "+(m[42].id===m[11]?"w-[160px]":"w-full"))&&n(l,"class",a),p[0]&2564&&c!==(c="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(m[42].id===m[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")&&n(e,"class",c),p[0]&516&&h!==(h="/c/"+m[42].id)&&n(e,"href",h)},d(m){m&&f(e),v=!1,b()}}}function eo(s){let e,t,l,r,i;return{c(){e=u("div"),t=u("input"),this.h()},l(a){e=d(a,"DIV",{class:!0});var c=y(e);t=d(c,"INPUT",{class:!0}),c.forEach(f),this.h()},h(){n(t,"class","bg-transparent w-full outline-none mr-10"),n(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(s[42].id===s[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")},m(a,c){R(a,e,c),o(e,t),ne(t,s[5]),r||(i=J(t,"input",s[23]),r=!0)},p(a,c){c[0]&32&&t.value!==a[5]&&ne(t,a[5]),c[0]&2564&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(a[42].id===a[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")&&n(e,"class",l)},d(a){a&&f(e),r=!1,i()}}}function Es(s){let e;function t(i,a){return i[4]===i[42].id?so:i[3]===i[42].id?lo:to}let l=t(s),r=l(s);return{c(){e=u("div"),r.c(),this.h()},l(i){e=d(i,"DIV",{class:!0});var a=y(e);r.l(a),a.forEach(f),this.h()},h(){n(e,"class","absolute right-[22px] top-[10px]")},m(i,a){R(i,e,a),r.m(e,null)},p(i,a){l===(l=t(i))&&r?r.p(i,a):(r.d(1),r=l(i),r&&(r.c(),r.m(e,null)))},d(i){i&&f(e),r.d()}}}function to(s){let e,t,l,r,i='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',a,c,h='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',v,b;function m(){return s[29](s[42])}function p(){return s[30](s[42])}function _(){return s[31](s[42])}return{c(){e=u("div"),t=u("button"),l=C(),r=u("button"),r.innerHTML=i,a=C(),c=u("button"),c.innerHTML=h,this.h()},l(g){e=d(g,"DIV",{class:!0});var w=y(e);t=d(w,"BUTTON",{id:!0,class:!0}),y(t).forEach(f),l=I(w),r=d(w,"BUTTON",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-16dz98b"&&(r.innerHTML=i),a=I(w),c=d(w,"BUTTON",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-tt1xf4"&&(c.innerHTML=h),w.forEach(f),this.h()},h(){n(t,"id","delete-chat-button"),n(t,"class","hidden"),n(r,"class","self-center hover:text-white transition"),n(c,"class","self-center hover:text-white transition"),n(e,"class","flex self-center space-x-1.5")},m(g,w){R(g,e,w),o(e,t),o(e,l),o(e,r),o(e,a),o(e,c),v||(b=[J(t,"click",m),J(r,"click",p),J(c,"click",_)],v=!0)},p(g,w){s=g},d(g){g&&f(e),v=!1,je(b)}}}function lo(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,i,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,h;function v(){return s[27](s[42])}return{c(){e=u("div"),t=u("button"),t.innerHTML=l,r=C(),i=u("button"),i.innerHTML=a,this.h()},l(b){e=d(b,"DIV",{class:!0});var m=y(e);t=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1nssieh"&&(t.innerHTML=l),r=I(m),i=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-18m8lql"&&(i.innerHTML=a),m.forEach(f),this.h()},h(){n(t,"class","self-center hover:text-white transition"),n(i,"class","self-center hover:text-white transition"),n(e,"class","flex self-center space-x-1.5")},m(b,m){R(b,e,m),o(e,t),o(e,r),o(e,i),c||(h=[J(t,"click",v),J(i,"click",s[28])],c=!0)},p(b,m){s=b},d(b){b&&f(e),c=!1,je(h)}}}function so(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,i,a='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,h;function v(){return s[25](s[42])}return{c(){e=u("div"),t=u("button"),t.innerHTML=l,r=C(),i=u("button"),i.innerHTML=a,this.h()},l(b){e=d(b,"DIV",{class:!0});var m=y(e);t=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-17xmshs"&&(t.innerHTML=l),r=I(m),i=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-14l2ssm"&&(i.innerHTML=a),m.forEach(f),this.h()},h(){n(t,"class","self-center hover:text-white transition"),n(i,"class","self-center hover:text-white transition"),n(e,"class","flex self-center space-x-1.5")},m(b,m){R(b,e,m),o(e,t),o(e,r),o(e,i),c||(h=[J(t,"click",v),J(i,"click",s[26])],c=!0)},p(b,m){s=b},d(b){b&&f(e),c=!1,je(h)}}}function Ds(s){let e,t,l;function r(h,v){return h[4]===h[42].id?eo:$a}let i=r(s),a=i(s),c=s[42].id===s[11]&&Es(s);return{c(){e=u("div"),a.c(),t=C(),c&&c.c(),l=C(),this.h()},l(h){e=d(h,"DIV",{class:!0});var v=y(e);a.l(v),t=I(v),c&&c.l(v),l=I(v),v.forEach(f),this.h()},h(){n(e,"class","w-full pr-2 relative")},m(h,v){R(h,e,v),a.m(e,null),o(e,t),c&&c.m(e,null),o(e,l)},p(h,v){i===(i=r(h))&&a?a.p(h,v):(a.d(1),a=i(h),a&&(a.c(),a.m(e,t))),h[42].id===h[11]?c?c.p(h,v):(c=Es(h),c.c(),c.m(e,l)):c&&(c.d(1),c=null)},d(h){h&&f(e),a.d(),c&&c.d()}}}function Ms(s){let e,t,l,r,i,a,c=s[8].name+"",h,v,b,m,p,_=s[6]&&Vs(s);return{c(){e=u("button"),t=u("div"),l=u("img"),i=C(),a=u("div"),h=Ne(c),v=C(),_&&_.c(),b=st(),this.h()},l(g){e=d(g,"BUTTON",{class:!0});var w=y(e);t=d(w,"DIV",{class:!0});var x=y(t);l=d(x,"IMG",{src:!0,class:!0,alt:!0}),x.forEach(f),i=I(w),a=d(w,"DIV",{class:!0});var T=y(a);h=Pe(T,c),T.forEach(f),w.forEach(f),v=I(g),_&&_.l(g),b=st(),this.h()},h(){Rt(l.src,r=s[8].profile_image_url)||n(l,"src",r),n(l,"class","max-w-[30px] object-cover rounded-full"),n(l,"alt","User profile"),n(t,"class","self-center mr-3"),n(a,"class","self-center font-semibold"),n(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-900 transition")},m(g,w){R(g,e,w),o(e,t),o(t,l),o(e,i),o(e,a),o(a,h),R(g,v,w),_&&_.m(g,w),R(g,b,w),m||(p=J(e,"click",s[32]),m=!0)},p(g,w){w[0]&256&&!Rt(l.src,r=g[8].profile_image_url)&&n(l,"src",r),w[0]&256&&c!==(c=g[8].name+"")&&Ye(h,c),g[6]?_?(_.p(g,w),w[0]&64&&Ue(_,1)):(_=Vs(g),_.c(),Ue(_,1),_.m(b.parentNode,b)):_&&(_.d(1),_=null)},d(g){g&&(f(e),f(v),f(b)),_&&_.d(g),m=!1,p()}}}function Vs(s){let e,t,l,r,i='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <div class="self-center font-medium">Settings</div>',a,c,h,v,b,m='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z" clip-rule="evenodd"></path></svg></div> <div class="self-center font-medium">Sign Out</div>',p,_,g,w=s[8].role==="admin"&&Ls(s);return{c(){e=u("div"),t=u("div"),w&&w.c(),l=C(),r=u("button"),r.innerHTML=i,a=C(),c=u("hr"),h=C(),v=u("div"),b=u("button"),b.innerHTML=m,this.h()},l(x){e=d(x,"DIV",{id:!0,class:!0});var T=y(e);t=d(T,"DIV",{class:!0});var H=y(t);w&&w.l(H),l=I(H),r=d(H,"BUTTON",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-1qgf4kj"&&(r.innerHTML=i),H.forEach(f),a=I(T),c=d(T,"HR",{class:!0}),h=I(T),v=d(T,"DIV",{class:!0});var L=y(v);b=d(L,"BUTTON",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-1bssfs0"&&(b.innerHTML=m),L.forEach(f),T.forEach(f),this.h()},h(){n(r,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),n(t,"class","py-2 w-full"),n(c,"class","border-gray-700 m-0 p-0"),n(b,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),n(v,"class","py-2 w-full"),n(e,"id","dropdownDots"),n(e,"class","absolute z-40 bottom-[70px] 4.5rem rounded-xl shadow w-[240px] bg-gray-900")},m(x,T){R(x,e,T),o(e,t),w&&w.m(t,null),o(t,l),o(t,r),o(e,a),o(e,c),o(e,h),o(e,v),o(v,b),_||(g=[J(r,"click",s[35]),J(b,"click",s[36])],_=!0)},p(x,T){x[8].role==="admin"?w?w.p(x,T):(w=Ls(x),w.c(),w.m(t,l)):w&&(w.d(1),w=null)},i(x){x&&(p||pt(()=>{p=$s(e,Or,{duration:150}),p.start()}))},o:Ve,d(x){x&&f(e),w&&w.d(),_=!1,je(g)}}}function Ls(s){let e,t='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <div class="self-center font-medium">Admin Panel</div>',l,r,i='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg></div> <div class="self-center font-medium">Playground</div>',a,c;return{c(){e=u("button"),e.innerHTML=t,l=C(),r=u("button"),r.innerHTML=i,this.h()},l(h){e=d(h,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-afwvzp"&&(e.innerHTML=t),l=I(h),r=d(h,"BUTTON",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-wfj5gr"&&(r.innerHTML=i),this.h()},h(){n(e,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),n(r,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition")},m(h,v){R(h,e,v),R(h,l,v),R(h,r,v),a||(c=[J(e,"click",s[33]),J(r,"click",s[34])],a=!0)},p:Ve,d(h){h&&(f(e),f(l),f(r)),a=!1,je(c)}}}function ro(s){let e,t,l,r,i,a,c,h,v,b,m;return{c(){e=u("button"),t=u("span"),l=u("div"),r=u("div"),i=u("div"),c=C(),h=u("div"),this.h()},l(p){e=d(p,"BUTTON",{id:!0,class:!0});var _=y(e);t=d(_,"SPAN",{class:!0,"data-state":!0});var g=y(t);l=d(g,"DIV",{class:!0});var w=y(l);r=d(w,"DIV",{class:!0});var x=y(r);i=d(x,"DIV",{class:!0}),y(i).forEach(f),c=I(x),h=d(x,"DIV",{class:!0}),y(h).forEach(f),x.forEach(f),w.forEach(f),g.forEach(f),_.forEach(f),this.h()},h(){n(i,"class",a="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(s[0]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]")),n(h,"class",v="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(s[0]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]")),n(r,"class","flex h-6 w-6 flex-col items-center"),n(l,"class","flex h-[72px] w-8 items-center justify-center opacity-20 group-hover:opacity-100 transition"),n(t,"class",""),n(t,"data-state","closed"),n(e,"id","sidebar-toggle-button"),n(e,"class","group")},m(p,_){R(p,e,_),o(e,t),o(t,l),o(l,r),o(r,i),o(r,c),o(r,h),b||(m=J(e,"click",s[37]),b=!0)},p(p,_){_[0]&1&&a!==(a="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(p[0]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]"))&&n(i,"class",a),_[0]&1&&v!==(v="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(p[0]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]"))&&n(h,"class",v)},d(p){p&&f(e),b=!1,m()}}}function no(s){var ee;let e,t,l,r,i=`<div class="flex self-center"><div class="self-center mr-1.5"><img src="${js}/static/leger-symbol-inverted.png" class="w-7 -translate-x-1.5 rounded-full" alt="logo"/></div> <div class="self-center font-medium text-sm">New Chat</div></div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg></div>`,a,c,h,v,b,m,p,_='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',g,w,x,T,H,L,O,j,M,B,z,V,E,D,U,q,S=((ee=s[8])==null?void 0:ee.role)==="admin"&&ks(),k=!(s[7].saveChatHistory??!0)&&Cs(s),A=s[10].length>0&&Is(s),Z=qe(s[9].filter(s[22])),N=[];for(let G=0;G<Z.length;G+=1)N[G]=Ds(ws(s,Z,G));let W=s[8]!==void 0&&Ms(s);return V=new zs({props:{placement:"right",content:`${s[0]?"Close":"Open"} sidebar`,touch:!1,$$slots:{default:[ro]},$$scope:{ctx:s}}}),{c(){e=u("div"),t=u("div"),l=u("div"),r=u("a"),r.innerHTML=i,a=C(),S&&S.c(),c=C(),h=u("div"),k&&k.c(),v=C(),b=u("div"),m=u("div"),p=u("div"),p.innerHTML=_,g=C(),w=u("input"),x=C(),A&&A.c(),T=C(),H=u("div");for(let G=0;G<N.length;G+=1)N[G].c();L=C(),O=u("div"),j=u("div"),W&&W.c(),B=C(),z=u("div"),Xe(V.$$.fragment),this.h()},l(G){e=d(G,"DIV",{class:!0});var Y=y(e);t=d(Y,"DIV",{class:!0});var F=y(t);l=d(F,"DIV",{class:!0});var $=y(l);r=d($,"A",{id:!0,class:!0,href:!0,"data-svelte-h":!0}),P(r)!=="svelte-eq8g1t"&&(r.innerHTML=i),$.forEach(f),a=I(F),S&&S.l(F),c=I(F),h=d(F,"DIV",{class:!0});var Q=y(h);k&&k.l(Q),v=I(Q),b=d(Q,"DIV",{class:!0});var K=y(b);m=d(K,"DIV",{class:!0,id:!0});var le=y(m);p=d(le,"DIV",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-3funz9"&&(p.innerHTML=_),g=I(le),w=d(le,"INPUT",{class:!0,placeholder:!0}),le.forEach(f),K.forEach(f),x=I(Q),A&&A.l(Q),T=I(Q),H=d(Q,"DIV",{class:!0});var te=y(H);for(let ge=0;ge<N.length;ge+=1)N[ge].l(te);te.forEach(f),Q.forEach(f),L=I(F),O=d(F,"DIV",{class:!0});var ie=y(O);j=d(ie,"DIV",{class:!0});var ce=y(j);W&&W.l(ce),ce.forEach(f),ie.forEach(f),F.forEach(f),B=I(Y),z=d(Y,"DIV",{class:!0});var fe=y(z);Qe(V.$$.fragment,fe),fe.forEach(f),Y.forEach(f),this.h()},h(){n(r,"id","sidebar-new-chat-button"),n(r,"class","flex-grow flex justify-between rounded-xl px-3.5 py-2 hover:bg-gray-900 transition"),n(r,"href","/"),n(l,"class","px-2 flex justify-center space-x-2"),n(p,"class","self-center pl-3 py-2 rounded-l-xl bg-gray-950"),n(w,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm text-gray-300 bg-gray-950 outline-none"),n(w,"placeholder","Search"),n(m,"class","flex w-full"),n(m,"id","chat-search"),n(b,"class","px-2 mt-1 mb-2 flex justify-center space-x-2"),n(H,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto"),n(h,"class","relative flex flex-col flex-1 overflow-y-auto"),n(j,"class","flex flex-col"),n(O,"class","px-2.5"),n(t,"class",M="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(s[0]?"":"invisible")),n(z,"class","fixed left-0 top-[50dvh] z-40 -translate-y-1/2 transition-transform translate-x-[255px] md:translate-x-[260px] rotate-0"),n(e,"class",E="h-screen max-h-[100dvh] min-h-screen "+(s[0]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-black text-gray-200 shadow-2xl text-sm transition z-40 fixed top-0 left-0")},m(G,Y){R(G,e,Y),o(e,t),o(t,l),o(l,r),o(t,a),S&&S.m(t,null),o(t,c),o(t,h),k&&k.m(h,null),o(h,v),o(h,b),o(b,m),o(m,p),o(m,g),o(m,w),ne(w,s[2]),o(h,x),A&&A.m(h,null),o(h,T),o(h,H);for(let F=0;F<N.length;F+=1)N[F]&&N[F].m(H,null);o(t,L),o(t,O),o(O,j),W&&W.m(j,null),o(e,B),o(e,z),$e(V,z,null),s[38](e),D=!0,U||(q=[J(r,"click",s[16]),J(w,"input",s[18]),J(w,"focus",s[19])],U=!0)},p(G,Y){var $;if((($=G[8])==null?void 0:$.role)==="admin"?S||(S=ks(),S.c(),S.m(t,c)):S&&(S.d(1),S=null),G[7].saveChatHistory??!0?k&&(k.d(1),k=null):k?k.p(G,Y):(k=Cs(G),k.c(),k.m(h,v)),Y[0]&4&&w.value!==G[2]&&ne(w,G[2]),G[10].length>0?A?A.p(G,Y):(A=Is(G),A.c(),A.m(h,T)):A&&(A.d(1),A=null),Y[0]&27197){Z=qe(G[9].filter(G[22]));let Q;for(Q=0;Q<Z.length;Q+=1){const K=ws(G,Z,Q);N[Q]?N[Q].p(K,Y):(N[Q]=Ds(K),N[Q].c(),N[Q].m(H,null))}for(;Q<N.length;Q+=1)N[Q].d(1);N.length=Z.length}G[8]!==void 0?W?W.p(G,Y):(W=Ms(G),W.c(),W.m(j,null)):W&&(W.d(1),W=null),(!D||Y[0]&1&&M!==(M="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(G[0]?"":"invisible")))&&n(t,"class",M);const F={};Y[0]&1&&(F.content=`${G[0]?"Close":"Open"} sidebar`),Y[0]&1|Y[1]&131072&&(F.$$scope={dirty:Y,ctx:G}),V.$set(F),(!D||Y[0]&1&&E!==(E="h-screen max-h-[100dvh] min-h-screen "+(G[0]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-black text-gray-200 shadow-2xl text-sm transition z-40 fixed top-0 left-0"))&&n(e,"class",E)},i(G){D||(Ue(V.$$.fragment,G),D=!0)},o(G){Ze(V.$$.fragment,G),D=!1},d(G){G&&f(e),S&&S.d(),k&&k.d(),A&&A.d(),it(N,G),W&&W.d(),et(V),s[38](null),U=!1,je(q)}}}function ao(s,e,t){let l,r,i,a,c;Ke(s,Ht,K=>t(7,l=K)),Ke(s,yt,K=>t(8,r=K)),Ke(s,wt,K=>t(9,i=K)),Ke(s,Xt,K=>t(10,a=K)),Ke(s,ur,K=>t(11,c=K));let h=!1,v,b="",m=null,p=null,_="",g=!1;ut(async()=>{window.innerWidth>1024&&t(0,h=!0),await wt.set(await Tt(localStorage.token))});const w=async K=>{const le=await Promise.all(K.map(async te=>{const ie=await Dr(localStorage.token,te.id).catch(ce=>null);return ie&&(te.chat=ie.chat),te}));await wt.set(le)},x=async(K,le)=>{await Mr(localStorage.token,K,{title:le}),await wt.set(await Tt(localStorage.token))},T=async K=>{await Vr(localStorage.token,K).catch(te=>(He.error(te),t(3,m=null),null))&&(Et("/"),await wt.set(await Tt(localStorage.token)))},H=async K=>{await Ht.set({...l,...K}),localStorage.setItem("settings",JSON.stringify(l)),location.href="/"},L=async()=>{await Et("/");const K=document.getElementById("new-chat-button");setTimeout(()=>{K==null||K.click()},0)},O=()=>{H({saveChatHistory:!0})};function j(){b=this.value,t(2,b)}const M=()=>{w(i)},B=async()=>{await wt.set(await Tt(localStorage.token))},z=async K=>{let le=await Lr(localStorage.token,K.name);le.length===0&&(await Xt.set(await Rs(localStorage.token)),le=await Tt(localStorage.token)),await wt.set(le)},V=K=>{if(b==="")return!0;{let le=K.title.toLowerCase();const te=b.toLowerCase();let ie=!1;return K.chat&&K.chat.messages&&Array.isArray(K.chat.messages)&&(ie=K.chat.messages.some(ce=>ce.content&&ce.content.toLowerCase().includes(te))),le.includes(te)||ie}};function E(){_=this.value,t(5,_)}const D=()=>{window.innerWidth<1024&&t(0,h=!1)},U=K=>{x(K.id,_),t(4,p=null),t(5,_="")},q=()=>{t(4,p=null),t(5,_="")},S=K=>{T(K.id)},k=()=>{t(3,m=null)},A=K=>{T(K.id)},Z=K=>{t(5,_=K.title),t(4,p=K.id)},N=K=>{t(3,m=K.id)},W=()=>{t(6,g=!g)},ee=()=>{Et("/admin"),t(6,g=!1)},G=()=>{Et("/playground"),t(6,g=!1)},Y=async()=>{await Qt.set(!0),t(6,g=!1)},F=()=>{localStorage.removeItem("token"),location.href="/auth",t(6,g=!1)},$=()=>{t(0,h=!h)};function Q(K){vt[K?"unshift":"push"](()=>{v=K,t(1,v)})}return[h,v,b,m,p,_,g,l,r,i,a,c,w,x,T,H,L,O,j,M,B,z,V,E,D,U,q,S,k,A,Z,N,W,ee,G,Y,F,$,Q]}class oo extends nt{constructor(e){super(),at(this,e,ao,no,rt,{},null,[-1,-1])}}function io(s){let e,t,l,r="Keyboard shortcuts",i,a,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,v,b,m,p='<div class="flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><div class="flex flex-col space-y-3 w-full self-start"><div class="w-full flex justify-between items-center"><div class="text-sm">Open new chat</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">O</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Focus chat input</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Esc</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Copy last code block</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">;</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Copy last response</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">C</div></div></div></div> <div class="flex flex-col space-y-3 w-full self-start"><div class="w-full flex justify-between items-center"><div class="text-sm">Toggle settings</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">.</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Toggle sidebar</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">S</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Delete chat</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300"></div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Show shortcuts</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">/</div></div></div></div></div>',_,g;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=C(),a=u("button"),a.innerHTML=c,h=C(),v=u("hr"),b=C(),m=u("div"),m.innerHTML=p,this.h()},l(w){e=d(w,"DIV",{});var x=y(e);t=d(x,"DIV",{class:!0});var T=y(t);l=d(T,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1kiv0rh"&&(l.textContent=r),i=I(T),a=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-745w2y"&&(a.innerHTML=c),T.forEach(f),h=I(x),v=d(x,"HR",{class:!0}),b=I(x),m=d(x,"DIV",{class:!0,"data-svelte-h":!0}),P(m)!=="svelte-1qbe2xr"&&(m.innerHTML=p),x.forEach(f),this.h()},h(){n(l,"class","text-lg font-medium self-center"),n(a,"class","self-center"),n(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),n(v,"class","dark:border-gray-800"),n(m,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200")},m(w,x){R(w,e,x),o(e,t),o(t,l),o(t,i),o(t,a),o(e,h),o(e,v),o(e,b),o(e,m),_||(g=J(a,"click",s[1]),_=!0)},p:Ve,d(w){w&&f(e),_=!1,g()}}}function co(s){let e,t,l;function r(a){s[2](a)}let i={$$slots:{default:[io]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new ul({props:i}),vt.push(()=>Mt(e,"show",r)),{c(){Xe(e.$$.fragment)},l(a){Qe(e.$$.fragment,a)},m(a,c){$e(e,a,c),l=!0},p(a,[c]){const h={};c&9&&(h.$$scope={dirty:c,ctx:a}),!t&&c&1&&(t=!0,h.show=a[0],Dt(()=>t=!1)),e.$set(h)},i(a){l||(Ue(e.$$.fragment,a),l=!0)},o(a){Ze(e.$$.fragment,a),l=!1},d(a){et(e,a)}}}function uo(s,e,t){let{show:l=!1}=e;const r=()=>{t(0,l=!1)};function i(a){l=a,t(0,l)}return s.$$set=a=>{"show"in a&&t(0,l=a.show)},[l,r,i]}class fo extends nt{constructor(e){super(),at(this,e,uo,co,rt,{show:0})}}function As(s,e,t){const l=s.slice();return l[19]=e[t],l}function Ss(s){let e,t=qe({length:s[6]}),l=[];for(let r=0;r<t.length;r+=1)l[r]=Hs(As(s,t,r));return{c(){e=u("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=y(e);for(let a=0;a<l.length;a+=1)l[a].l(i);i.forEach(f),this.h()},h(){n(e,"class","confetti-holder svelte-15ksp55"),It(e,"rounded",s[9]),It(e,"cone",s[10]),It(e,"no-gravity",s[11]),It(e,"reduced-motion",s[13])},m(r,i){R(r,e,i);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(r,i){if(i&37375){t=qe({length:r[6]});let a;for(a=0;a<t.length;a+=1){const c=As(r,t,a);l[a]?l[a].p(c,i):(l[a]=Hs(c),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}i&512&&It(e,"rounded",r[9]),i&1024&&It(e,"cone",r[10]),i&2048&&It(e,"no-gravity",r[11]),i&8192&&It(e,"reduced-motion",r[13])},d(r){r&&f(e),it(l,r)}}}function Hs(s){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0,style:!0}),y(e).forEach(f),this.h()},h(){n(e,"class","confetti svelte-15ksp55"),Ge(e,"--fall-distance",s[8]),Ge(e,"--size",s[0]+"px"),Ge(e,"--color",s[15]()),Ge(e,"--skew",ot(-45,45)+"deg,"+ot(-45,45)+"deg"),Ge(e,"--rotation-xyz",ot(-10,10)+", "+ot(-10,10)+", "+ot(-10,10)),Ge(e,"--rotation-deg",ot(0,360)+"deg"),Ge(e,"--translate-y-multiplier",ot(s[2][0],s[2][1])),Ge(e,"--translate-x-multiplier",ot(s[1][0],s[1][1])),Ge(e,"--scale",.1*ot(2,10)),Ge(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),Ge(e,"--transition-delay",ot(s[5][0],s[5][1])+"ms"),Ge(e,"--transition-iteration-count",s[4]?"infinite":s[7]),Ge(e,"--x-spread",1-s[12])},m(t,l){R(t,e,l)},p(t,l){l&256&&Ge(e,"--fall-distance",t[8]),l&1&&Ge(e,"--size",t[0]+"px"),l&4&&Ge(e,"--translate-y-multiplier",ot(t[2][0],t[2][1])),l&2&&Ge(e,"--translate-x-multiplier",ot(t[1][0],t[1][1])),l&24&&Ge(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&Ge(e,"--transition-delay",ot(t[5][0],t[5][1])+"ms"),l&144&&Ge(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&Ge(e,"--x-spread",1-t[12])},d(t){t&&f(e)}}}function ho(s){let e,t=!s[14]&&Ss(s);return{c(){t&&t.c(),e=st()},l(l){t&&t.l(l),e=st()},m(l,r){t&&t.m(l,r),R(l,e,r)},p(l,[r]){l[14]?t&&(t.d(1),t=null):t?t.p(l,r):(t=Ss(l),t.c(),t.m(e.parentNode,e))},i:Ve,o:Ve,d(l){l&&f(e),t&&t.d(l)}}}function ot(s,e){return Math.random()*(e-s)+s}function vo(s,e,t){let{size:l=10}=e,{x:r=[-.5,.5]}=e,{y:i=[.25,1]}=e,{duration:a=2e3}=e,{infinite:c=!1}=e,{delay:h=[0,50]}=e,{colorRange:v=[0,360]}=e,{colorArray:b=[]}=e,{amount:m=50}=e,{iterationCount:p=1}=e,{fallDistance:_="100px"}=e,{rounded:g=!1}=e,{cone:w=!1}=e,{noGravity:x=!1}=e,{xSpread:T=.15}=e,{destroyOnComplete:H=!0}=e,{disableForReducedMotion:L=!1}=e,O=!1;ut(()=>{!H||c||p=="infinite"||setTimeout(()=>t(14,O=!0),(a+h[1])*p)});function j(){return b.length?b[Math.round(Math.random()*(b.length-1))]:`hsl(${Math.round(ot(v[0],v[1]))}, 75%, 50%)`}return s.$$set=M=>{"size"in M&&t(0,l=M.size),"x"in M&&t(1,r=M.x),"y"in M&&t(2,i=M.y),"duration"in M&&t(3,a=M.duration),"infinite"in M&&t(4,c=M.infinite),"delay"in M&&t(5,h=M.delay),"colorRange"in M&&t(16,v=M.colorRange),"colorArray"in M&&t(17,b=M.colorArray),"amount"in M&&t(6,m=M.amount),"iterationCount"in M&&t(7,p=M.iterationCount),"fallDistance"in M&&t(8,_=M.fallDistance),"rounded"in M&&t(9,g=M.rounded),"cone"in M&&t(10,w=M.cone),"noGravity"in M&&t(11,x=M.noGravity),"xSpread"in M&&t(12,T=M.xSpread),"destroyOnComplete"in M&&t(18,H=M.destroyOnComplete),"disableForReducedMotion"in M&&t(13,L=M.disableForReducedMotion)},[l,r,i,a,c,h,m,p,_,g,w,x,T,L,O,j,v,b,H]}class po extends nt{constructor(e){super(),at(this,e,vo,ho,rt,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:16,colorArray:17,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:18,disableForReducedMotion:13})}}function mo(s){let e,t,l,r,i,a,c,h,v,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,p,_='<div class="text-sm dark:text-gray-200">Release Notes</div> <div class="flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"></div> <div class="text-sm dark:text-gray-200">v1.0.0</div>',g,w,x,T,H,L='<div class="mb-3">Shoot us an email and let us know what you think: founders@legerlabs.com</div>',O,j,M,B='<span class="relative">Okay, Let&#39;s Go!</span>',z,V,E;return c=new po({props:{x:[-1,-.25],y:[0,.5]}}),{c(){e=u("div"),t=u("div"),l=u("div"),r=Ne("Welcome to "),i=Ne(s[1]),a=C(),Xe(c.$$.fragment),h=C(),v=u("button"),v.innerHTML=b,m=C(),p=u("div"),p.innerHTML=_,g=C(),w=u("hr"),x=C(),T=u("div"),H=u("div"),H.innerHTML=L,O=C(),j=u("div"),M=u("button"),M.innerHTML=B,this.h()},l(D){e=d(D,"DIV",{class:!0});var U=y(e);t=d(U,"DIV",{class:!0});var q=y(t);l=d(q,"DIV",{class:!0});var S=y(l);r=Pe(S,"Welcome to "),i=Pe(S,s[1]),a=I(S),Qe(c.$$.fragment,S),S.forEach(f),h=I(q),v=d(q,"BUTTON",{class:!0,"data-svelte-h":!0}),P(v)!=="svelte-745w2y"&&(v.innerHTML=b),q.forEach(f),m=I(U),p=d(U,"DIV",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-1qbdvhg"&&(p.innerHTML=_),U.forEach(f),g=I(D),w=d(D,"HR",{class:!0}),x=I(D),T=d(D,"DIV",{class:!0});var k=y(T);H=d(k,"DIV",{class:!0,"data-svelte-h":!0}),P(H)!=="svelte-mpum82"&&(H.innerHTML=L),O=I(k),j=d(k,"DIV",{class:!0});var A=y(j);M=d(A,"BUTTON",{class:!0,"data-svelte-h":!0}),P(M)!=="svelte-d24sb8"&&(M.innerHTML=B),A.forEach(f),k.forEach(f),this.h()},h(){n(l,"class","text-xl font-bold"),n(v,"class","self-center"),n(t,"class","flex justify-between items-start"),n(p,"class","flex items-center mt-1"),n(e,"class","px-5 py-4 dark:text-gray-300"),n(w,"class","dark:border-gray-800"),n(H,"class","overflow-y-scroll max-h-80"),n(M,"class","px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded"),n(j,"class","flex justify-end pt-3 text-sm font-medium"),n(T,"class","w-full p-4 px-5")},m(D,U){R(D,e,U),o(e,t),o(t,l),o(l,r),o(l,i),o(l,a),$e(c,l,null),o(t,h),o(t,v),o(e,m),o(e,p),R(D,g,U),R(D,w,U),R(D,x,U),R(D,T,U),o(T,H),o(T,O),o(T,j),o(j,M),z=!0,V||(E=[J(v,"click",s[3]),J(M,"click",s[4])],V=!0)},p(D,U){(!z||U&2)&&Ye(i,D[1])},i(D){z||(Ue(c.$$.fragment,D),z=!0)},o(D){Ze(c.$$.fragment,D),z=!1},d(D){D&&(f(e),f(g),f(w),f(x),f(T)),et(c),V=!1,je(E)}}}function go(s){let e,t,l;function r(a){s[5](a)}let i={$$slots:{default:[mo]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new ul({props:i}),vt.push(()=>Mt(e,"show",r)),{c(){Xe(e.$$.fragment)},l(a){Qe(e.$$.fragment,a)},m(a,c){$e(e,a,c),l=!0},p(a,[c]){const h={};c&135&&(h.$$scope={dirty:c,ctx:a}),!t&&c&1&&(t=!0,h.show=a[0],Dt(()=>t=!1)),e.$set(h)},i(a){l||(Ue(e.$$.fragment,a),l=!0)},o(a){Ze(e.$$.fragment,a),l=!1},d(a){et(e,a)}}}function _o(s,e,t){let l,r;Ke(s,cl,v=>t(1,l=v)),Ke(s,St,v=>t(2,r=v));let{show:i=!1}=e;ut(async()=>{await zr()});const a=()=>{t(0,i=!1)},c=()=>{localStorage.version=r.version,t(0,i=!1)};function h(v){i=v,t(0,i)}return s.$$set=v=>{"show"in v&&t(0,i=v.show)},[i,l,r,a,c,h]}class bo extends nt{constructor(e){super(),at(this,e,_o,go,rt,{show:0})}}function Bs(s){let e,t,l,r,i,a,c,h,v,b,m,p,_,g,w,x,T,H,L;t=new zs({props:{content:"help",placement:"left",$$slots:{default:[yo]},$$scope:{ctx:s}}});function O(k){s[12](k)}let j={};s[4]!==void 0&&(j.show=s[4]),r=new fo({props:j}),vt.push(()=>Mt(r,"show",O));function M(k,A){if(A&32&&(h=null),h==null&&(h=!["user","admin"].includes(k[5].role)),h)return xo;if(k[3].length>0)return wo}let B=M(s,-1),z=B&&B(s);m=new oo({});function V(k){s[17](k)}let E={};s[6]!==void 0&&(E.show=s[6]),_=new Qa({props:E}),vt.push(()=>Mt(_,"show",V));function D(k){s[18](k)}let U={};s[7]!==void 0&&(U.show=s[7]),x=new bo({props:U}),vt.push(()=>Mt(x,"show",D));const q=s[9].default,S=Ks(q,s,s[19],null);return{c(){e=u("div"),Xe(t.$$.fragment),l=C(),Xe(r.$$.fragment),a=C(),c=u("div"),z&&z.c(),v=C(),b=u("div"),Xe(m.$$.fragment),p=C(),Xe(_.$$.fragment),w=C(),Xe(x.$$.fragment),H=C(),S&&S.c(),this.h()},l(k){e=d(k,"DIV",{class:!0});var A=y(e);Qe(t.$$.fragment,A),A.forEach(f),l=I(k),Qe(r.$$.fragment,k),a=I(k),c=d(k,"DIV",{class:!0});var Z=y(c);z&&z.l(Z),v=I(Z),b=d(Z,"DIV",{class:!0});var N=y(b);Qe(m.$$.fragment,N),p=I(N),Qe(_.$$.fragment,N),w=I(N),Qe(x.$$.fragment,N),H=I(N),S&&S.l(N),N.forEach(f),Z.forEach(f),this.h()},h(){n(e,"class","hidden lg:flex fixed bottom-0 right-0 px-3 py-3 z-10"),n(b,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 min-h-screen overflow-auto flex flex-row"),n(c,"class","app relative")},m(k,A){R(k,e,A),$e(t,e,null),R(k,l,A),$e(r,k,A),R(k,a,A),R(k,c,A),z&&z.m(c,null),o(c,v),o(c,b),$e(m,b,null),o(b,p),$e(_,b,null),o(b,w),$e(x,b,null),o(b,H),S&&S.m(b,null),L=!0},p(k,A){const Z={};A&524306&&(Z.$$scope={dirty:A,ctx:k}),t.$set(Z);const N={};!i&&A&16&&(i=!0,N.show=k[4],Dt(()=>i=!1)),r.$set(N),B===(B=M(k,A))&&z?z.p(k,A):(z&&z.d(1),z=B&&B(k),z&&(z.c(),z.m(c,v)));const W={};!g&&A&64&&(g=!0,W.show=k[6],Dt(()=>g=!1)),_.$set(W);const ee={};!T&&A&128&&(T=!0,ee.show=k[7],Dt(()=>T=!1)),x.$set(ee),S&&S.p&&(!L||A&524288)&&Ys(S,q,k,k[19],L?Qs(q,k[19],A,null):Xs(k[19]),null)},i(k){L||(Ue(t.$$.fragment,k),Ue(r.$$.fragment,k),Ue(m.$$.fragment,k),Ue(_.$$.fragment,k),Ue(x.$$.fragment,k),Ue(S,k),L=!0)},o(k){Ze(t.$$.fragment,k),Ze(r.$$.fragment,k),Ze(m.$$.fragment,k),Ze(_.$$.fragment,k),Ze(x.$$.fragment,k),Ze(S,k),L=!1},d(k){k&&(f(e),f(l),f(a),f(c)),et(t),et(r,k),z&&z.d(),et(m),et(_),et(x),S&&S.d(k)}}}function yo(s){let e,t="?",l,r;return{c(){e=u("button"),e.textContent=t,this.h()},l(i){e=d(i,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1hfyx97"&&(e.textContent=t),this.h()},h(){n(e,"id","show-shortcuts-button"),n(e,"class","text-gray-600 dark:text-gray-300 bg-gray-300/20 w-6 h-6 flex items-center justify-center text-xs rounded-full")},m(i,a){R(i,e,a),s[10](e),l||(r=J(e,"click",s[11]),l=!0)},p:Ve,d(i){i&&f(e),s[10](null),l=!1,r()}}}function wo(s){let e,t,l,r,i,a="Important Update<br/> Action Required for Chat Log Storage",c,h,v=`Saving chat logs directly to your browser&#39;s storage is no longer supported. Please
								take a moment to download and delete your chat logs by clicking the button below.
								Don&#39;t worry, you can easily re-import your chat logs to the backend through <span class="font-semibold dark:text-white">Settings &gt; Chats &gt; Import Chats</span>. This ensures that your valuable conversations are securely saved to your backend
								database. Thank you!`,b,m,p,_="Download & Delete",g,w,x="Close",T,H;return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.innerHTML=a,c=C(),h=u("div"),h.innerHTML=v,b=C(),m=u("div"),p=u("button"),p.textContent=_,g=C(),w=u("button"),w.textContent=x,this.h()},l(L){e=d(L,"DIV",{class:!0});var O=y(e);t=d(O,"DIV",{class:!0});var j=y(t);l=d(j,"DIV",{class:!0});var M=y(l);r=d(M,"DIV",{class:!0});var B=y(r);i=d(B,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-7mhb6e"&&(i.innerHTML=a),c=I(B),h=d(B,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1uwjxvd"&&(h.innerHTML=v),b=I(B),m=d(B,"DIV",{class:!0});var z=y(m);p=d(z,"BUTTON",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-1rvuhik"&&(p.textContent=_),g=I(z),w=d(z,"BUTTON",{class:!0,"data-svelte-h":!0}),P(w)!=="svelte-16xtti5"&&(w.textContent=x),z.forEach(f),B.forEach(f),M.forEach(f),j.forEach(f),O.forEach(f),this.h()},h(){n(i,"class","text-center dark:text-white text-2xl font-medium z-50"),n(h,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),n(p,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),n(w,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),n(m,"class","mt-6 mx-auto relative group w-fit"),n(r,"class","max-w-md"),n(l,"class","m-auto pb-44 flex flex-col justify-center"),n(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),n(e,"class","fixed w-full h-full flex z-50")},m(L,O){R(L,e,O),o(e,t),o(t,l),o(l,r),o(r,i),o(r,c),o(r,h),o(r,b),o(r,m),o(m,p),o(m,g),o(m,w),T||(H=[J(p,"click",s[15]),J(w,"click",s[16])],T=!0)},p:Ve,d(L){L&&f(e),T=!1,je(H)}}}function xo(s){let e,t,l,r,i,a="Account Activation Pending<br/> Contact Admin for WebUI Access",c,h,v=`Your account status is currently pending activation. To access the WebUI, please
								reach out to the administrator. Admins can manage user statuses from the Admin
								Panel.`,b,m,p,_="Check Again",g,w,x="Sign Out",T,H;return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.innerHTML=a,c=C(),h=u("div"),h.textContent=v,b=C(),m=u("div"),p=u("button"),p.textContent=_,g=C(),w=u("button"),w.textContent=x,this.h()},l(L){e=d(L,"DIV",{class:!0});var O=y(e);t=d(O,"DIV",{class:!0});var j=y(t);l=d(j,"DIV",{class:!0});var M=y(l);r=d(M,"DIV",{class:!0});var B=y(r);i=d(B,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-1g11t2m"&&(i.innerHTML=a),c=I(B),h=d(B,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1jln5qd"&&(h.textContent=v),b=I(B),m=d(B,"DIV",{class:!0});var z=y(m);p=d(z,"BUTTON",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-gsehe4"&&(p.textContent=_),g=I(z),w=d(z,"BUTTON",{class:!0,"data-svelte-h":!0}),P(w)!=="svelte-9mmxir"&&(w.textContent=x),z.forEach(f),B.forEach(f),M.forEach(f),j.forEach(f),O.forEach(f),this.h()},h(){n(i,"class","text-center dark:text-white text-2xl font-medium z-50"),n(h,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),n(p,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),n(w,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),n(m,"class","mt-6 mx-auto relative group w-fit"),n(r,"class","max-w-md"),n(l,"class","m-auto pb-44 flex flex-col justify-center"),n(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),n(e,"class","fixed w-full h-full flex z-50")},m(L,O){R(L,e,O),o(e,t),o(t,l),o(l,r),o(r,i),o(r,c),o(r,h),o(r,b),o(r,m),o(m,p),o(m,g),o(m,w),T||(H=[J(p,"click",s[13]),J(w,"click",s[14])],T=!0)},p:Ve,d(L){L&&f(e),T=!1,je(H)}}}function ko(s){let e,t,l=s[0]&&Bs(s);return{c(){l&&l.c(),e=st()},l(r){l&&l.l(r),e=st()},m(r,i){l&&l.m(r,i),R(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&Ue(l,1)):(l=Bs(r),l.c(),Ue(l,1),l.m(e.parentNode,e)):l&&(al(),Ze(l,1,1,()=>{l=null}),ol())},i(r){t||(Ue(l),t=!0)},o(r){Ze(l),t=!1},d(r){r&&f(e),l&&l.d(r)}}}function Co(s,e,t){let l,r,i,a;Ke(s,St,V=>t(21,l=V)),Ke(s,yt,V=>t(5,r=V)),Ke(s,Qt,V=>t(6,i=V)),Ke(s,zt,V=>t(7,a=V));let{$$slots:c={},$$scope:h}=e;const{saveAs:v}=Os;let b=!1,m,p=null,_=[],g=!1;const w=async()=>{let V=await Promise.all([await Ps(localStorage.token).catch(E=>(console.log(E),null)),await Us(localStorage.token).catch(E=>(console.log(E),null)),await Fs(localStorage.token).catch(E=>(console.log(E),null))]);return V=V.filter(E=>E).reduce((E,D,U,q)=>E.concat(D,...U<q.length-1?[{name:"hr"}]:[]),[]),V};ut(async()=>{if(r===void 0)await Et("/auth");else if(["user","admin"].includes(r.role)){try{if(t(2,p=await $r("Chats",1)),p){const V=await p.getAllFromIndex("chats","timestamp");t(3,_=V.map((E,D)=>V[V.length-1-D])),_.length===0&&await Il("Chats")}console.log(p)}catch{}console.log(),await ht.set(await w()),await gl(),await Ht.set(JSON.parse(localStorage.getItem("settings")??"{}")),await yl.set(await rr(localStorage.token)),await dr.set(await nr(localStorage.token)),await fr.set(await hr(localStorage.token)),await Xt.set(await Rs(localStorage.token)),yl.subscribe(async()=>{await ht.set(await w())}),document.addEventListener("keydown",function(V){var U,q,S,k,A;const E=V.ctrlKey||V.metaKey,D=V.shiftKey;if(E&&D&&V.key.toLowerCase()==="o"&&(V.preventDefault(),console.log("newChat"),(U=document.getElementById("sidebar-new-chat-button"))==null||U.click()),D&&V.key==="Escape"&&(V.preventDefault(),console.log("focusInput"),(q=document.getElementById("chat-textarea"))==null||q.focus()),E&&D&&V.key===";"){V.preventDefault(),console.log("copyLastCodeBlock");const Z=[...document.getElementsByClassName("copy-code-button")].at(-1);Z==null||Z.click()}if(E&&D&&V.key.toLowerCase()==="c"){V.preventDefault(),console.log("copyLastResponse");const Z=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(Z),Z==null||Z.click()}E&&D&&V.key.toLowerCase()==="s"&&(V.preventDefault(),console.log("toggleSidebar"),(S=document.getElementById("sidebar-toggle-button"))==null||S.click()),E&&D&&V.key==="Backspace"&&(V.preventDefault(),console.log("deleteChat"),(k=document.getElementById("delete-chat-button"))==null||k.click()),E&&V.key==="."&&(V.preventDefault(),console.log("openSettings"),(A=document.getElementById("open-settings-button"))==null||A.click()),E&&V.key==="/"&&(V.preventDefault(),console.log("showShortcuts"),m.click())}),r.role==="admin"&&zt.set(localStorage.version!==l.version),await gl()}t(0,b=!0)});function x(V){vt[V?"unshift":"push"](()=>{m=V,t(1,m)})}const T=()=>{t(4,g=!g)};function H(V){g=V,t(4,g)}const L=async()=>{location.href="/"},O=async()=>{localStorage.removeItem("token"),location.href="/auth"},j=async()=>{let V=new Blob([JSON.stringify(_)],{type:"application/json"});v(V,`chat-export-${Date.now()}.json`);const E=p.transaction("chats","readwrite");await Promise.all([E.store.clear(),E.done]),await Il("Chats"),t(3,_=[])},M=async()=>{t(3,_=[])};function B(V){i=V,Qt.set(i)}function z(V){a=V,zt.set(a)}return s.$$set=V=>{"$$scope"in V&&t(19,h=V.$$scope)},[b,m,p,_,g,r,i,a,v,c,x,T,H,L,O,j,M,B,z,h]}class Wo extends nt{constructor(e){super(),at(this,e,Co,ko,rt,{})}}export{Wo as component};
