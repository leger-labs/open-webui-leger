import{s as nt,f as u,a as C,l as Me,g as d,h as w,N as P,c as I,m as Ve,d as f,j as o,i as U,r as a,u as J,O as At,n as Ze,C as Ae,v as ze,P as ne,Q as Zt,w as Ye,o as ut,p as vt,z as Fe,A as Je,e as lt,R as pt,S as tt,K as st,k as We,T as bt,U as Bt,V as Et,W as Vt,E as rr,F as nr,G as ar,H as or,t as _l}from"../chunks/scheduler.67abc04a.js";import{S as at,i as ot,b as Xe,d as Qe,m as $e,a as Ue,t as Ge,e as et,g as ol,c as il,f as Dt,h as ir}from"../chunks/index.89481181.js";import{a as Be}from"../chunks/Toaster.svelte_svelte_type_style_lang.9328e92b.js";import{f as Gs}from"../chunks/FileSaver.min.898eb36f.js";import{g as Tt}from"../chunks/navigation.924571f4.js";import{g as cl,p as cr,a as Ws,c as ur,d as dr,u as fr,b as Fs}from"../chunks/index.f336c7fe.js";import{g as hr}from"../chunks/index.be20f64e.js";import{g as vr}from"../chunks/index.7d0a2a5e.js";import{g as pr,a as mr,u as gr,b as _r,c as Js}from"../chunks/index.9ef00845.js";import{L as qt,u as wt,b as Lt,W as ul,s as Rt,m as ht,a as Ks,d as bl,c as Ot,e as yt,f as Ht,g as Qt,h as br,i as $t,j as wl,p as wr,k as yr}from"../chunks/index.9eb23429.js";import{g as xr}from"../chunks/index.8a90eb33.js";import{s as kr,g as Cr,a as Ir,d as Tr,b as It,c as yl,e as Er,f as xl,h as Dr,i as Mr,j as Vr,k as Lr,u as Ar,t as Sr,l as Or,m as Hr,n as Br,T as Ys,o as Nr,p as Pr,q as jr,r as Ur,v as Xs}from"../chunks/Tooltip.aaea65fd.js";import{c as zr,a as Rr,s as Ft,g as Zr,b as qr}from"../chunks/index.496e36ff.js";import{M as dl,s as Gr}from"../chunks/Modal.dd5e69df.js";import{u as Wr,a as Fr}from"../chunks/index.f7b3cf36.js";import{g as Jr}from"../chunks/index.17b05224.js";import{a as Kr,g as Qs,b as Yr}from"../chunks/index.9822f31e.js";import{e as Ne}from"../chunks/each.a99ffc78.js";import{g as Xr}from"../chunks/_commonjsHelpers.de833af9.js";import{A as Qr}from"../chunks/AdvancedParams.efc5f764.js";import{r as $r}from"../chunks/index.3c366d73.js";import"../chunks/singletons.9164d752.js";const en=(s,e)=>e.some(t=>s instanceof t);let kl,Cl;function tn(){return kl||(kl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ln(){return Cl||(Cl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $s=new WeakMap,el=new WeakMap,er=new WeakMap,Jt=new WeakMap,fl=new WeakMap;function sn(s){const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("success",i),s.removeEventListener("error",n)},i=()=>{t(xt(s.result)),r()},n=()=>{l(s.error),r()};s.addEventListener("success",i),s.addEventListener("error",n)});return e.then(t=>{t instanceof IDBCursor&&$s.set(t,s)}).catch(()=>{}),fl.set(e,s),e}function rn(s){if(el.has(s))return;const e=new Promise((t,l)=>{const r=()=>{s.removeEventListener("complete",i),s.removeEventListener("error",n),s.removeEventListener("abort",n)},i=()=>{t(),r()},n=()=>{l(s.error||new DOMException("AbortError","AbortError")),r()};s.addEventListener("complete",i),s.addEventListener("error",n),s.addEventListener("abort",n)});el.set(s,e)}let tl={get(s,e,t){if(s instanceof IDBTransaction){if(e==="done")return el.get(s);if(e==="objectStoreNames")return s.objectStoreNames||er.get(s);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return xt(s[e])},set(s,e,t){return s[e]=t,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function nn(s){tl=s(tl)}function an(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const l=s.call(Kt(this),e,...t);return er.set(l,e.sort?e.sort():[e]),xt(l)}:ln().includes(s)?function(...e){return s.apply(Kt(this),e),xt($s.get(this))}:function(...e){return xt(s.apply(Kt(this),e))}}function on(s){return typeof s=="function"?an(s):(s instanceof IDBTransaction&&rn(s),en(s,tn())?new Proxy(s,tl):s)}function xt(s){if(s instanceof IDBRequest)return sn(s);if(Jt.has(s))return Jt.get(s);const e=on(s);return e!==s&&(Jt.set(s,e),fl.set(e,s)),e}const Kt=s=>fl.get(s);function cn(s,e,{blocked:t,upgrade:l,blocking:r,terminated:i}={}){const n=indexedDB.open(s,e),c=xt(n);return l&&n.addEventListener("upgradeneeded",h=>{l(xt(n.result),h.oldVersion,h.newVersion,xt(n.transaction),h)}),t&&n.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{i&&h.addEventListener("close",()=>i()),r&&h.addEventListener("versionchange",v=>r(v.oldVersion,v.newVersion,v))}).catch(()=>{}),c}function Il(s,{blocked:e}={}){const t=indexedDB.deleteDatabase(s);return e&&t.addEventListener("blocked",l=>e(l.oldVersion,l)),xt(t).then(()=>{})}const un=["get","getKey","getAll","getAllKeys","count"],dn=["put","add","delete","clear"],Yt=new Map;function Tl(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Yt.get(e))return Yt.get(e);const t=e.replace(/FromIndex$/,""),l=e!==t,r=dn.includes(t);if(!(t in(l?IDBIndex:IDBObjectStore).prototype)||!(r||un.includes(t)))return;const i=async function(n,...c){const h=this.transaction(n,r?"readwrite":"readonly");let v=h.store;return l&&(v=v.index(c.shift())),(await Promise.all([v[t](...c),r&&h.done]))[0]};return Yt.set(e,i),i}nn(s=>({...s,get:(e,t,l)=>Tl(e,t)||s.get(e,t,l),has:(e,t)=>!!Tl(e,t)||s.has(e,t)}));const tr=async(s="")=>{let e=null;const t=await fetch(`${qt}/v1/models`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),e=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(e)throw e;const l=Array.isArray(t)?t:(t==null?void 0:t.data)??null;return l&&l.map(r=>({id:r.id,name:r.name??r.id,external:!0,source:"litellm"})).sort((r,i)=>r.name.localeCompare(i.name))},Xt=async(s="")=>{let e=null;const t=await fetch(`${qt}/model/info`,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}}}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),e=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(e)throw e;return Array.isArray(t)?t:(t==null?void 0:t.data)??null},fn=async(s="",e)=>{let t=null;const l=await fetch(`${qt}/model/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}},body:JSON.stringify({model_name:e.name,litellm_params:{model:e.model,...e.api_base===""?{}:{api_base:e.api_base},...e.api_key===""?{}:{api_key:e.api_key},...isNaN(parseInt(e.rpm))?{}:{rpm:parseInt(e.rpm)}}})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),t=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(t)throw t;return l},hn=async(s="",e)=>{let t=null;const l=await fetch(`${qt}/model/delete`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...s&&{authorization:`Bearer ${s}`}},body:JSON.stringify({id:e})}).then(async r=>{if(!r.ok)throw await r.json();return r.json()}).catch(r=>{var i;return console.log(r),t=`LiteLLM: ${((i=r==null?void 0:r.error)==null?void 0:i.message)??"Network Problem"}`,[]});if(t)throw t;return l};function El(s){let e,t,l,r="Current Password",i,n,c,h,v,g,m="New Password",p,b,_,y,x,T,S="Confirm Password",L,N,O,z,B,j='<button class="px-4 py-2 text-xs bg-gray-800 hover:bg-gray-900 dark:bg-gray-700 dark:hover:bg-gray-800 text-gray-100 transition rounded-md font-medium">Update password</button>',V,E;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=C(),n=u("div"),c=u("input"),h=C(),v=u("div"),g=u("div"),g.textContent=m,p=C(),b=u("div"),_=u("input"),y=C(),x=u("div"),T=u("div"),T.textContent=S,L=C(),N=u("div"),O=u("input"),z=C(),B=u("div"),B.innerHTML=j,this.h()},l(M){e=d(M,"DIV",{class:!0});var R=w(e);t=d(R,"DIV",{class:!0});var W=w(t);l=d(W,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1oy1m4o"&&(l.textContent=r),i=I(W),n=d(W,"DIV",{class:!0});var H=w(n);c=d(H,"INPUT",{class:!0,type:!0,autocomplete:!0}),H.forEach(f),W.forEach(f),h=I(R),v=d(R,"DIV",{class:!0});var k=w(v);g=d(k,"DIV",{class:!0,"data-svelte-h":!0}),P(g)!=="svelte-1jv7gzz"&&(g.textContent=m),p=I(k),b=d(k,"DIV",{class:!0});var D=w(b);_=d(D,"INPUT",{class:!0,type:!0,autocomplete:!0}),D.forEach(f),k.forEach(f),y=I(R),x=d(R,"DIV",{class:!0});var q=w(x);T=d(q,"DIV",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-6hovb9"&&(T.textContent=S),L=I(q),N=d(q,"DIV",{class:!0});var A=w(N);O=d(A,"INPUT",{class:!0,type:!0,autocomplete:!0}),A.forEach(f),q.forEach(f),R.forEach(f),z=I(M),B=d(M,"DIV",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-1qol27q"&&(B.innerHTML=j),this.h()},h(){o(l,"class","mb-1 text-xs text-gray-500"),o(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(c,"type","password"),o(c,"autocomplete","current-password"),c.required=!0,o(n,"class","flex-1"),o(t,"class","flex flex-col w-full"),o(g,"class","mb-1 text-xs text-gray-500"),o(_,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(_,"type","password"),o(_,"autocomplete","new-password"),_.required=!0,o(b,"class","flex-1"),o(v,"class","flex flex-col w-full"),o(T,"class","mb-1 text-xs text-gray-500"),o(O,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(O,"type","password"),o(O,"autocomplete","off"),O.required=!0,o(N,"class","flex-1"),o(x,"class","flex flex-col w-full"),o(e,"class","py-2.5 space-y-1.5"),o(B,"class","mt-3 flex justify-end")},m(M,R){U(M,e,R),a(e,t),a(t,l),a(t,i),a(t,n),a(n,c),ne(c,s[1]),a(e,h),a(e,v),a(v,g),a(v,p),a(v,b),a(b,_),ne(_,s[2]),a(e,y),a(e,x),a(x,T),a(x,L),a(x,N),a(N,O),ne(O,s[3]),U(M,z,R),U(M,B,R),V||(E=[J(c,"input",s[6]),J(_,"input",s[7]),J(O,"input",s[8])],V=!0)},p(M,R){R&2&&c.value!==M[1]&&ne(c,M[1]),R&4&&_.value!==M[2]&&ne(_,M[2]),R&8&&O.value!==M[3]&&ne(O,M[3])},d(M){M&&(f(e),f(z),f(B)),V=!1,ze(E)}}}function vn(s){let e,t,l,r="Change Password",i,n,c=s[0]?"Hide":"Show",h,v,g,m,p=s[0]&&El(s);return{c(){e=u("form"),t=u("div"),l=u("div"),l.textContent=r,i=C(),n=u("button"),h=Me(c),v=C(),p&&p.c(),this.h()},l(b){e=d(b,"FORM",{class:!0});var _=w(e);t=d(_,"DIV",{class:!0});var y=w(t);l=d(y,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1ofgszb"&&(l.textContent=r),i=I(y),n=d(y,"BUTTON",{class:!0,type:!0});var x=w(n);h=Ve(x,c),x.forEach(f),y.forEach(f),v=I(_),p&&p.l(_),_.forEach(f),this.h()},h(){o(l,"class","font-medium"),o(n,"class","text-xs font-medium text-gray-500"),o(n,"type","button"),o(t,"class","flex justify-between items-center text-sm"),o(e,"class","flex flex-col text-sm")},m(b,_){U(b,e,_),a(e,t),a(t,l),a(t,i),a(t,n),a(n,h),a(e,v),p&&p.m(e,null),g||(m=[J(n,"click",s[5]),J(e,"submit",At(s[9]))],g=!0)},p(b,[_]){_&1&&c!==(c=b[0]?"Hide":"Show")&&Ze(h,c),b[0]?p?p.p(b,_):(p=El(b),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},i:Ae,o:Ae,d(b){b&&f(e),p&&p.d(),g=!1,ze(m)}}}function pn(s,e,t){let l=!1,r="",i="",n="";const c=async()=>{i===n?(await Wr(localStorage.token,r,i).catch(_=>(Be.error(_),null))&&Be.success("Successfully updated."),t(1,r=""),t(2,i=""),t(3,n="")):(Be.error("The passwords you entered don't quite match. Please double-check and try again."),t(2,i=""),t(3,n=""))},h=()=>{t(0,l=!l)};function v(){r=this.value,t(1,r)}function g(){i=this.value,t(2,i)}function m(){n=this.value,t(3,n)}return[l,r,i,n,c,h,v,g,m,()=>{c()}]}class mn extends at{constructor(e){super(),ot(this,e,pn,vn,nt,{})}}function gn(s){let e,t,l;return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=w(e);t=Je(i,"path",{d:!0}),w(t).forEach(f),l=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){U(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function _n(s){let e,t,l;return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=w(e);t=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(f),l=Je(i,"path",{d:!0}),w(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){U(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function bn(s){let e,t,l;return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=w(e);t=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(f),l=Je(i,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M11.986 3H12a2 2 0 0 1 2 2v6a2 2 0 0 1-1.5 1.937V7A2.5 2.5 0 0 0 10 4.5H4.063A2 2 0 0 1 6 3h.014A2.25 2.25 0 0 1 8.25 1h1.5a2.25 2.25 0 0 1 2.236 2ZM10.5 4v-.75a.75.75 0 0 0-.75-.75h-1.5a.75.75 0 0 0-.75.75V4h3Z"),o(t,"clip-rule","evenodd"),o(l,"fill-rule","evenodd"),o(l,"d","M3 6a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1H3Zm1.75 2.5a.75.75 0 0 0 0 1.5h3.5a.75.75 0 0 0 0-1.5h-3.5ZM4 11.75a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 0 1.5h-3.5a.75.75 0 0 1-.75-.75Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){U(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function wn(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(l){e=Je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=w(e);t=Je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(f),r.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,r){U(l,e,r),a(e,t)},d(l){l&&f(e)}}}function yn(s){let e,t,l,r,i,n="Profile",c,h,v,g,m,p,b,_,y,x='<div class="my-auto text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="m2.695 14.762-1.262 3.155a.5.5 0 0 0 .65.65l3.155-1.262a4 4 0 0 0 1.343-.886L17.5 5.501a2.121 2.121 0 0 0-3-3L3.58 13.419a4 4 0 0 0-.885 1.343Z"></path></svg></div>',T,S,L="Use Gravatar",N,O,z,B,j="Name",V,E,M,R,W,H,k,D,q,A,F,X,Z='<div class="self-center text-xs font-medium">JWT Token</div>',K,G,$,Q,Y,le,te,oe,ce,fe,ge,ie,ye="Save",ae,Le,Re;k=new mn({});function we(be,xe){return be[3]?_n:gn}let De=we(s),se=De(s);function _e(be,xe){return be[4]?wn:bn}let Ce=_e(s),Te=Ce(s);return{c(){e=u("div"),t=u("div"),l=u("input"),r=C(),i=u("div"),i.textContent=n,c=C(),h=u("div"),v=u("div"),g=u("div"),m=u("button"),p=u("img"),_=C(),y=u("div"),y.innerHTML=x,T=C(),S=u("button"),S.textContent=L,N=C(),O=u("div"),z=u("div"),B=u("div"),B.textContent=j,V=C(),E=u("div"),M=u("input"),R=C(),W=u("hr"),H=C(),Xe(k.$$.fragment),D=C(),q=u("hr"),A=C(),F=u("div"),X=u("div"),X.innerHTML=Z,K=C(),G=u("div"),$=u("div"),Q=u("input"),le=C(),te=u("button"),se.c(),oe=C(),ce=u("button"),Te.c(),fe=C(),ge=u("div"),ie=u("button"),ie.textContent=ye,this.h()},l(be){e=d(be,"DIV",{class:!0});var xe=w(e);t=d(xe,"DIV",{class:!0});var ve=w(t);l=d(ve,"INPUT",{id:!0,type:!0,accept:!0}),r=I(ve),i=d(ve,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-i4kc7u"&&(i.textContent=n),c=I(ve),h=d(ve,"DIV",{class:!0});var ee=w(h);v=d(ee,"DIV",{class:!0});var ue=w(v);g=d(ue,"DIV",{class:!0});var ke=w(g);m=d(ke,"BUTTON",{class:!0,type:!0});var pe=w(m);p=d(pe,"IMG",{src:!0,alt:!0,class:!0}),_=I(pe),y=d(pe,"DIV",{class:!0,"data-svelte-h":!0}),P(y)!=="svelte-1lmkrrg"&&(y.innerHTML=x),pe.forEach(f),ke.forEach(f),T=I(ue),S=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),P(S)!=="svelte-1u4yo8f"&&(S.textContent=L),ue.forEach(f),N=I(ee),O=d(ee,"DIV",{class:!0});var qe=w(O);z=d(qe,"DIV",{class:!0});var Oe=w(z);B=d(Oe,"DIV",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-guynw3"&&(B.textContent=j),V=I(Oe),E=d(Oe,"DIV",{class:!0});var he=w(E);M=d(he,"INPUT",{class:!0,type:!0}),he.forEach(f),Oe.forEach(f),qe.forEach(f),ee.forEach(f),R=I(ve),W=d(ve,"HR",{class:!0}),H=I(ve),Qe(k.$$.fragment,ve),D=I(ve),q=d(ve,"HR",{class:!0}),A=I(ve),F=d(ve,"DIV",{class:!0});var re=w(F);X=d(re,"DIV",{class:!0,"data-svelte-h":!0}),P(X)!=="svelte-1rcg0br"&&(X.innerHTML=Z),K=I(re),G=d(re,"DIV",{class:!0});var Ee=w(G);$=d(Ee,"DIV",{class:!0});var Ie=w($);Q=d(Ie,"INPUT",{class:!0,type:!0}),le=I(Ie),te=d(Ie,"BUTTON",{class:!0});var Ke=w(te);se.l(Ke),Ke.forEach(f),Ie.forEach(f),oe=I(Ee),ce=d(Ee,"BUTTON",{class:!0});var Pe=w(ce);Te.l(Pe),Pe.forEach(f),Ee.forEach(f),re.forEach(f),ve.forEach(f),fe=I(xe),ge=d(xe,"DIV",{class:!0});var me=w(ge);ie=d(me,"BUTTON",{class:!0,"data-svelte-h":!0}),P(ie)!=="svelte-1p9akpb"&&(ie.textContent=ye),me.forEach(f),xe.forEach(f),this.h()},h(){o(l,"id","profile-image-input"),o(l,"type","file"),l.hidden=!0,o(l,"accept","image/*"),o(i,"class","mb-2.5 text-sm font-medium"),Zt(p.src,b=s[1]!==""?s[1]:"/user.png")||o(p,"src",b),o(p,"alt","profile"),o(p,"class","rounded-full w-16 h-16 object-cover"),o(y,"class","absolute flex justify-center rounded-full bottom-0 left-0 right-0 top-0 h-full w-full overflow-hidden bg-gray-700 bg-fixed opacity-0 transition duration-300 ease-in-out hover:opacity-50"),o(m,"class","relative rounded-full dark:bg-gray-700"),o(m,"type","button"),o(g,"class","self-center"),o(S,"class","text-xs text-gray-600"),o(v,"class","flex flex-col"),o(B,"class","mb-1 text-xs text-gray-500"),o(M,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(M,"type","text"),M.required=!0,o(E,"class","flex-1"),o(z,"class","flex flex-col w-full"),o(O,"class","flex-1"),o(h,"class","flex space-x-5"),o(W,"class","dark:border-gray-700 my-4"),o(q,"class","dark:border-gray-700 my-4"),o(X,"class","flex w-full justify-between"),o(Q,"class","w-full rounded-l-lg py-1.5 pl-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(Q,"type",Y=s[3]?"text":"password"),Q.value=localStorage.token,Q.disabled=!0,o(te,"class","dark:bg-gray-800 px-2 transition rounded-r-lg"),o($,"class","flex w-full"),o(ce,"class","ml-1.5 px-1.5 py-1 hover:bg-gray-800 transition rounded-lg"),o(G,"class","flex mt-2"),o(F,"class","w-full justify-between"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),o(ie,"class","px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded"),o(ge,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(be,xe){U(be,e,xe),a(e,t),a(t,l),s[8](l),a(t,r),a(t,i),a(t,c),a(t,h),a(h,v),a(v,g),a(g,m),a(m,p),a(m,_),a(m,y),a(v,T),a(v,S),a(h,N),a(h,O),a(O,z),a(z,B),a(z,V),a(z,E),a(E,M),ne(M,s[2]),a(t,R),a(t,W),a(t,H),$e(k,t,null),a(t,D),a(t,q),a(t,A),a(t,F),a(F,X),a(F,K),a(F,G),a(G,$),a($,Q),a($,le),a($,te),se.m(te,null),a(G,oe),a(G,ce),Te.m(ce,null),a(e,fe),a(e,ge),a(ge,ie),ae=!0,Le||(Re=[J(l,"change",s[9]),J(m,"click",s[10]),J(S,"click",s[11]),J(M,"input",s[12]),J(te,"click",s[13]),J(ce,"click",s[14]),J(ie,"click",s[15])],Le=!0)},p(be,[xe]){(!ae||xe&2&&!Zt(p.src,b=be[1]!==""?be[1]:"/user.png"))&&o(p,"src",b),xe&4&&M.value!==be[2]&&ne(M,be[2]),(!ae||xe&8&&Y!==(Y=be[3]?"text":"password"))&&o(Q,"type",Y),De!==(De=we(be))&&(se.d(1),se=De(be),se&&(se.c(),se.m(te,null))),Ce!==(Ce=_e(be))&&(Te.d(1),Te=Ce(be),Te&&(Te.c(),Te.m(ce,null)))},i(be){ae||(Ue(k.$$.fragment,be),ae=!0)},o(be){Ge(k.$$.fragment,be),ae=!1},d(be){be&&f(e),s[8](null),et(k),se.d(),Te.d(),Le=!1,ze(Re)}}}function xn(s,e,t){let l;Ye(s,wt,L=>t(6,l=L));let{saveHandler:r}=e,i="",n="",c=!1,h=!1,v;const g=async()=>{const L=await Fr(localStorage.token,n,i).catch(N=>{Be.error(N)});return L?(await wt.set(L),!0):!1};ut(()=>{t(2,n=l.name),t(1,i=l.profile_image_url)});function m(L){vt[L?"unshift":"push"](()=>{v=L,t(5,v)})}const p=L=>{const N=v.files??[];let O=new FileReader;O.onload=z=>{let B=`${z.target.result}`;const j=new Image;j.src=B,j.onload=function(){const V=document.createElement("canvas"),E=V.getContext("2d"),M=j.width/j.height;let R,W;M>1?(R=100*M,W=100):(R=100,W=100/M),V.width=100,V.height=100;const H=(100-R)/2,k=(100-W)/2;E.drawImage(j,H,k,R,W);const D=V.toDataURL("image/jpeg");t(1,i=D),t(5,v.files=null,v)}},N.length>0&&["image/gif","image/jpeg","image/png"].includes(N[0].type)&&O.readAsDataURL(N[0])},b=()=>{v.click()},_=async()=>{const L=await Jr(l.email);t(1,i=L)};function y(){n=this.value,t(2,n)}const x=()=>{t(3,c=!c)},T=()=>{zr(localStorage.token),t(4,h=!0),setTimeout(()=>{t(4,h=!1)},2e3)},S=async()=>{await g()&&r()};return s.$$set=L=>{"saveHandler"in L&&t(0,r=L.saveHandler)},[r,i,n,c,h,v,l,g,m,p,b,_,y,x,T,S]}class kn extends at{constructor(e){super(),ot(this,e,xn,yn,nt,{saveHandler:0})}}function Dl(s){let e,t,l,r,i="Ollama Version",n,c,h,v=(s[0]??"N/A")+"",g;return{c(){e=u("hr"),t=C(),l=u("div"),r=u("div"),r.textContent=i,n=C(),c=u("div"),h=u("div"),g=Me(v),this.h()},l(m){e=d(m,"HR",{class:!0}),t=I(m),l=d(m,"DIV",{});var p=w(l);r=d(p,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-d3hsg3"&&(r.textContent=i),n=I(p),c=d(p,"DIV",{class:!0});var b=w(c);h=d(b,"DIV",{class:!0});var _=w(h);g=Ve(_,v),_.forEach(f),b.forEach(f),p.forEach(f),this.h()},h(){o(e,"class","dark:border-gray-700"),o(r,"class","mb-2.5 text-sm font-medium"),o(h,"class","flex-1 text-xs text-gray-700 dark:text-gray-200"),o(c,"class","flex w-full")},m(m,p){U(m,e,p),U(m,t,p),U(m,l,p),a(l,r),a(l,n),a(l,c),a(c,h),a(h,g)},p(m,p){p&1&&v!==(v=(m[0]??"N/A")+"")&&Ze(g,v)},d(m){m&&(f(e),f(t),f(l))}}}function Cn(s){let e,t,l,r,i,n,c,h,v,g,m,p,b,_,y,x=s[1]===null?"Checking for updates...":s[1]?`(v${s[2].latest} available!)`:"(latest)",T,S,L,N,O="<div>See what&#39;s new</div>",z,B,j="Check for updates",V,E,M,R,W,H='<a href="https://discord.gg/5rJgQTnV4s" target="_blank"><img alt="Discord" src="https://img.shields.io/badge/Discord-Open_WebUI-blue?logo=discord&amp;logoColor=white"/></a> <a href="https://twitter.com/OpenWebUI" target="_blank"><img alt="X (formerly Twitter) Follow" src="https://img.shields.io/twitter/follow/OpenWebUI"/></a> <a href="https://github.com/open-webui/open-webui" target="_blank"><img alt="Github Repo" src="https://img.shields.io/github/stars/open-webui/open-webui?style=social&amp;label=Star us on Github"/></a>',k,D,q='Created by <a class="text-gray-500 dark:text-gray-300 font-medium" href="https://github.com/tjbck" target="_blank">Timothy J. Baek</a>',A,F,X=s[0]&&Dl(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),n=Me(s[3]),c=Me(" Version"),h=C(),v=u("div"),g=u("div"),m=u("div"),p=Me("v"),b=Me(Lt),_=C(),y=u("a"),T=Me(x),L=C(),N=u("button"),N.innerHTML=O,z=C(),B=u("button"),B.textContent=j,V=C(),X&&X.c(),E=C(),M=u("hr"),R=C(),W=u("div"),W.innerHTML=H,k=C(),D=u("div"),D.innerHTML=q,this.h()},l(Z){e=d(Z,"DIV",{class:!0});var K=w(e);t=d(K,"DIV",{class:!0});var G=w(t);l=d(G,"DIV",{});var $=w(l);r=d($,"DIV",{class:!0});var Q=w(r);i=d(Q,"DIV",{});var Y=w(i);n=Ve(Y,s[3]),c=Ve(Y," Version"),Y.forEach(f),Q.forEach(f),h=I($),v=d($,"DIV",{class:!0});var le=w(v);g=d(le,"DIV",{class:!0});var te=w(g);m=d(te,"DIV",{});var oe=w(m);p=Ve(oe,"v"),b=Ve(oe,Lt),_=I(oe),y=d(oe,"A",{href:!0,target:!0});var ce=w(y);T=Ve(ce,x),ce.forEach(f),oe.forEach(f),L=I(te),N=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),P(N)!=="svelte-2o6fm0"&&(N.innerHTML=O),te.forEach(f),z=I(le),B=d(le,"BUTTON",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-1hlhpm5"&&(B.textContent=j),le.forEach(f),$.forEach(f),V=I(G),X&&X.l(G),E=I(G),M=d(G,"HR",{class:!0}),R=I(G),W=d(G,"DIV",{class:!0,"data-svelte-h":!0}),P(W)!=="svelte-1hy20dm"&&(W.innerHTML=H),k=I(G),D=d(G,"DIV",{class:!0,"data-svelte-h":!0}),P(D)!=="svelte-8eq1yl"&&(D.innerHTML=q),G.forEach(f),K.forEach(f),this.h()},h(){o(r,"class","mb-2.5 text-sm font-medium flex space-x-2 items-center"),o(y,"href",S="https://github.com/open-webui/open-webui/releases/tag/v"+s[2].latest),o(y,"target","_blank"),o(N,"class","underline flex items-center space-x-1 text-xs text-gray-500 dark:text-gray-500"),o(g,"class","flex flex-col text-xs text-gray-700 dark:text-gray-200"),o(B,"class","text-xs px-3 py-1.5 bg-gray-100 hover:bg-gray-200 dark:bg-gray-850 dark:hover:bg-gray-800 transition rounded-lg font-medium"),o(v,"class","flex w-full justify-between items-center"),o(M,"class","dark:border-gray-700"),o(W,"class","flex space-x-1"),o(D,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","space-y-3"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm mb-6")},m(Z,K){U(Z,e,K),a(e,t),a(t,l),a(l,r),a(r,i),a(i,n),a(i,c),a(l,h),a(l,v),a(v,g),a(g,m),a(m,p),a(m,b),a(m,_),a(m,y),a(y,T),a(g,L),a(g,N),a(v,z),a(v,B),a(t,V),X&&X.m(t,null),a(t,E),a(t,M),a(t,R),a(t,W),a(t,k),a(t,D),A||(F=[J(N,"click",s[5]),J(B,"click",s[6])],A=!0)},p(Z,[K]){K&8&&Ze(n,Z[3]),K&6&&x!==(x=Z[1]===null?"Checking for updates...":Z[1]?`(v${Z[2].latest} available!)`:"(latest)")&&Ze(T,x),K&4&&S!==(S="https://github.com/open-webui/open-webui/releases/tag/v"+Z[2].latest)&&o(y,"href",S),Z[0]?X?X.p(Z,K):(X=Dl(Z),X.c(),X.m(t,E)):X&&(X.d(1),X=null)},i:Ae,o:Ae,d(Z){Z&&f(e),X&&X.d(),A=!1,ze(F)}}}function In(s,e,t){let l;Ye(s,ul,g=>t(3,l=g));let r="",i=null,n={current:"",latest:""};const c=async()=>{t(1,i=null),t(2,n=await Kr().catch(g=>({current:Lt,latest:Lt}))),console.log(n),t(1,i=Rr(n.latest,n.current)),console.log(i)};return ut(async()=>{t(0,r=await cl(localStorage.token).catch(g=>"")),c()}),[r,i,n,l,c,()=>{Rt.set(!0)},()=>{c()}]}class Tn extends at{constructor(e){super(),ot(this,e,In,Cn,nt,{})}}var ll={exports:{}},sl={exports:{}},rl={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=t;function t(l){return function(...r){if(l===null)throw new Error("Callback was already called.");var i=l;l=null,i.apply(this,r)}}s.exports=e.default})(rl,rl.exports);var En=rl.exports,kt={};Object.defineProperty(kt,"__esModule",{value:!0});kt.fallback=lr;kt.wrap=sr;var Dn=kt.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,Mn=kt.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,Vn=kt.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function lr(s){setTimeout(s,0)}function sr(s){return(e,...t)=>s(()=>e(...t))}var St;Dn?St=queueMicrotask:Mn?St=setImmediate:Vn?St=process.nextTick:St=lr;kt.default=sr(St);var nl={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0});class t{constructor(){this.head=this.tail=null,this.length=0}removeLink(i){return i.prev?i.prev.next=i.next:this.head=i.next,i.next?i.next.prev=i.prev:this.tail=i.prev,i.prev=i.next=null,this.length-=1,i}empty(){for(;this.head;)this.shift();return this}insertAfter(i,n){n.prev=i,n.next=i.next,i.next?i.next.prev=n:this.tail=n,i.next=n,this.length+=1}insertBefore(i,n){n.prev=i.prev,n.next=i,i.prev?i.prev.next=n:this.head=n,i.prev=n,this.length+=1}unshift(i){this.head?this.insertBefore(this.head,i):l(this,i)}push(i){this.tail?this.insertAfter(this.tail,i):l(this,i)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var i=this.head;i;)yield i.data,i=i.next}remove(i){for(var n=this.head;n;){var{next:c}=n;i(n)&&this.removeLink(n),n=c}return this}}e.default=t;function l(r,i){r.length=1,r.head=r.tail=i}s.exports=e.default})(nl,nl.exports);var Ln=nl.exports,_t={},zt={exports:{}},al={exports:{}};(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(...l){var r=l.pop();return t.call(this,l,r)}},s.exports=e.default})(al,al.exports);var An=al.exports,Ml;function Sn(){return Ml||(Ml=1,function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;var t=An,l=c(t),r=kt,i=c(r),n=hl();function c(m){return m&&m.__esModule?m:{default:m}}function h(m){return(0,n.isAsync)(m)?function(...p){const b=p.pop(),_=m.apply(this,p);return v(_,b)}:(0,l.default)(function(p,b){var _;try{_=m.apply(this,p)}catch(y){return b(y)}if(_&&typeof _.then=="function")return v(_,b);b(null,_)})}function v(m,p){return m.then(b=>{g(p,null,b)},b=>{g(p,b&&(b instanceof Error||b.message)?b:new Error(b))})}function g(m,p,b){try{m(p,b)}catch(_){(0,i.default)(y=>{throw y},_)}}s.exports=e.default}(zt,zt.exports)),zt.exports}var Vl;function hl(){if(Vl)return _t;Vl=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.isAsyncIterable=_t.isAsyncGenerator=_t.isAsync=void 0;var s=Sn(),e=t(s);function t(c){return c&&c.__esModule?c:{default:c}}function l(c){return c[Symbol.toStringTag]==="AsyncFunction"}function r(c){return c[Symbol.toStringTag]==="AsyncGenerator"}function i(c){return typeof c[Symbol.asyncIterator]=="function"}function n(c){if(typeof c!="function")throw new Error("expected a function");return l(c)?(0,e.default)(c):c}return _t.default=n,_t.isAsync=l,_t.isAsyncGenerator=r,_t.isAsyncIterable=i,_t}(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=m;var t=En,l=g(t),r=kt,i=g(r),n=Ln,c=g(n),h=hl(),v=g(h);function g(p){return p&&p.__esModule?p:{default:p}}function m(p,b,_){if(b==null)b=1;else if(b===0)throw new RangeError("Concurrency must not be zero");var y=(0,v.default)(p),x=0,T=[];const S={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function L(H,k){S[H].push(k)}function N(H,k){const D=(...q)=>{O(H,D),k(...q)};S[H].push(D)}function O(H,k){if(!H)return Object.keys(S).forEach(D=>S[D]=[]);if(!k)return S[H]=[];S[H]=S[H].filter(D=>D!==k)}function z(H,...k){S[H].forEach(D=>D(...k))}var B=!1;function j(H,k,D,q){if(q!=null&&typeof q!="function")throw new Error("task callback must be a function");W.started=!0;var A,F;function X(K,...G){if(K)return D?F(K):A();if(G.length<=1)return A(G[0]);A(G)}var Z=W._createTaskItem(H,D?X:q||X);if(k?W._tasks.unshift(Z):W._tasks.push(Z),B||(B=!0,(0,i.default)(()=>{B=!1,W.process()})),D||!q)return new Promise((K,G)=>{A=K,F=G})}function V(H){return function(k,...D){x-=1;for(var q=0,A=H.length;q<A;q++){var F=H[q],X=T.indexOf(F);X===0?T.shift():X>0&&T.splice(X,1),F.callback(k,...D),k!=null&&z("error",k,F.data)}x<=W.concurrency-W.buffer&&z("unsaturated"),W.idle()&&z("drain"),W.process()}}function E(H){return H.length===0&&W.idle()?((0,i.default)(()=>z("drain")),!0):!1}const M=H=>k=>{if(!k)return new Promise((D,q)=>{N(H,(A,F)=>{if(A)return q(A);D(F)})});O(H),L(H,k)};var R=!1,W={_tasks:new c.default,_createTaskItem(H,k){return{data:H,callback:k}},*[Symbol.iterator](){yield*W._tasks[Symbol.iterator]()},concurrency:b,payload:_,buffer:b/4,started:!1,paused:!1,push(H,k){return Array.isArray(H)?E(H)?void 0:H.map(D=>j(D,!1,!1,k)):j(H,!1,!1,k)},pushAsync(H,k){return Array.isArray(H)?E(H)?void 0:H.map(D=>j(D,!1,!0,k)):j(H,!1,!0,k)},kill(){O(),W._tasks.empty()},unshift(H,k){return Array.isArray(H)?E(H)?void 0:H.map(D=>j(D,!0,!1,k)):j(H,!0,!1,k)},unshiftAsync(H,k){return Array.isArray(H)?E(H)?void 0:H.map(D=>j(D,!0,!0,k)):j(H,!0,!0,k)},remove(H){W._tasks.remove(H)},process(){if(!R){for(R=!0;!W.paused&&x<W.concurrency&&W._tasks.length;){var H=[],k=[],D=W._tasks.length;W.payload&&(D=Math.min(D,W.payload));for(var q=0;q<D;q++){var A=W._tasks.shift();H.push(A),T.push(A),k.push(A.data)}x+=1,W._tasks.length===0&&z("empty"),x===W.concurrency&&z("saturated");var F=(0,l.default)(V(H));y(k,F)}R=!1}},length(){return W._tasks.length},running(){return x},workersList(){return T},idle(){return W._tasks.length+x===0},pause(){W.paused=!0},resume(){W.paused!==!1&&(W.paused=!1,(0,i.default)(W.process))}};return Object.defineProperties(W,{saturated:{writable:!1,value:M("saturated")},unsaturated:{writable:!1,value:M("unsaturated")},empty:{writable:!1,value:M("empty")},drain:{writable:!1,value:M("drain")},error:{writable:!1,value:M("error")}}),W}s.exports=e.default})(sl,sl.exports);var On=sl.exports;(function(s,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(c,h){var v=(0,i.default)(c);return(0,l.default)((g,m)=>{v(g[0],m)},h,1)};var t=On,l=n(t),r=hl(),i=n(r);function n(c){return c&&c.__esModule?c:{default:c}}s.exports=e.default})(ll,ll.exports);var Hn=ll.exports;const Bn=Xr(Hn);function Ll(s,e,t){const l=s.slice();return l[60]=e[t],l}function Al(s,e,t){const l=s.slice();return l[60]=e[t],l}function Sl(s,e,t){const l=s.slice();return l[60]=e[t],l}function Ol(s,e,t){const l=s.slice();return l[67]=e[t],l[69]=t,l}function Hl(s){let e,t,l="Manage Ollama Models",r,i,n,c,h,v="Pull a model from Ollama.com",g,m,p,b,_,y,x,T,S='To access the available model names for downloading, <a class="text-gray-500 dark:text-gray-300 font-medium underline" href="https://ollama.com/library" target="_blank">click here.</a>',L,N=Object.keys(s[13]).length>0,O,z,B,j="Delete a model",V,E,M,R,W,H,k,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',q,A,F,X,Z="Experimental",K,G,$=s[11]?"Hide":"Show",Q,Y,le,te,oe,ce,fe=s[9].length>1&&Bl(s);function ge(se,_e){return se[14]?Pn:Nn}let ie=ge(s),ye=ie(s),ae=N&&Pl(s),Le=!s[22]&&Ul(),Re=Ne(s[23].filter(s[33])),we=[];for(let se=0;se<Re.length;se+=1)we[se]=zl(Al(s,Re,se));let De=s[11]&&Rl(s);return{c(){e=u("div"),t=u("div"),t.textContent=l,r=C(),fe&&fe.c(),i=C(),n=u("div"),c=u("div"),h=u("div"),h.textContent=v,g=C(),m=u("div"),p=u("div"),b=u("input"),_=C(),y=u("button"),ye.c(),x=C(),T=u("div"),T.innerHTML=S,L=C(),ae&&ae.c(),O=C(),z=u("div"),B=u("div"),B.textContent=j,V=C(),E=u("div"),M=u("div"),R=u("select"),Le&&Le.c(),W=lt();for(let se=0;se<we.length;se+=1)we[se].c();H=C(),k=u("button"),k.innerHTML=D,q=C(),A=u("div"),F=u("div"),X=u("div"),X.textContent=Z,K=C(),G=u("button"),Q=Me($),Y=C(),De&&De.c(),le=C(),te=u("hr"),this.h()},l(se){e=d(se,"DIV",{class:!0});var _e=w(e);t=d(_e,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-17t8qb7"&&(t.textContent=l),r=I(_e),fe&&fe.l(_e),i=I(_e),n=d(_e,"DIV",{class:!0});var Ce=w(n);c=d(Ce,"DIV",{});var Te=w(c);h=d(Te,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1ipic0a"&&(h.textContent=v),g=I(Te),m=d(Te,"DIV",{class:!0});var be=w(m);p=d(be,"DIV",{class:!0});var xe=w(p);b=d(xe,"INPUT",{class:!0,placeholder:!0}),xe.forEach(f),_=I(be),y=d(be,"BUTTON",{class:!0});var ve=w(y);ye.l(ve),ve.forEach(f),be.forEach(f),x=I(Te),T=d(Te,"DIV",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-1lmeggt"&&(T.innerHTML=S),L=I(Te),ae&&ae.l(Te),Te.forEach(f),O=I(Ce),z=d(Ce,"DIV",{});var ee=w(z);B=d(ee,"DIV",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-kr6ajt"&&(B.textContent=j),V=I(ee),E=d(ee,"DIV",{class:!0});var ue=w(E);M=d(ue,"DIV",{class:!0});var ke=w(M);R=d(ke,"SELECT",{class:!0,placeholder:!0});var pe=w(R);Le&&Le.l(pe),W=lt();for(let re=0;re<we.length;re+=1)we[re].l(pe);pe.forEach(f),ke.forEach(f),H=I(ue),k=d(ue,"BUTTON",{class:!0,"data-svelte-h":!0}),P(k)!=="svelte-1u0ox72"&&(k.innerHTML=D),ue.forEach(f),ee.forEach(f),q=I(Ce),A=d(Ce,"DIV",{class:!0});var qe=w(A);F=d(qe,"DIV",{class:!0});var Oe=w(F);X=d(Oe,"DIV",{class:!0,"data-svelte-h":!0}),P(X)!=="svelte-17gcyvk"&&(X.textContent=Z),K=I(Oe),G=d(Oe,"BUTTON",{class:!0,type:!0});var he=w(G);Q=Ve(he,$),he.forEach(f),Oe.forEach(f),qe.forEach(f),Y=I(Ce),De&&De.l(Ce),Ce.forEach(f),_e.forEach(f),le=I(se),te=d(se,"HR",{class:!0}),this.h()},h(){o(t,"class","text-sm font-medium"),o(h,"class","mb-2 text-sm font-medium"),o(b,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(b,"placeholder","Enter model tag (e.g. mistral:7b)"),o(p,"class","flex-1 mr-2"),o(y,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),y.disabled=s[14],o(m,"class","flex w-full"),o(T,"class","mt-2 mb-1 text-xs text-gray-400 dark:text-gray-500"),o(B,"class","mb-2 text-sm font-medium"),o(R,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(R,"placeholder","Select a model"),s[22]===void 0&&pt(()=>s[34].call(R)),o(M,"class","flex-1 mr-2"),o(k,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(E,"class","flex w-full"),o(X,"class","text-sm font-medium"),o(G,"class","text-xs font-medium text-gray-500"),o(G,"type","button"),o(F,"class","flex justify-between items-center text-xs"),o(A,"class","pt-1"),o(n,"class","space-y-2"),o(e,"class","space-y-2 pr-1.5"),o(te,"class","dark:border-gray-700 my-2")},m(se,_e){U(se,e,_e),a(e,t),a(e,r),fe&&fe.m(e,null),a(e,i),a(e,n),a(n,c),a(c,h),a(c,g),a(c,m),a(m,p),a(p,b),ne(b,s[15]),a(m,_),a(m,y),ye.m(y,null),a(c,x),a(c,T),a(c,L),ae&&ae.m(c,null),a(n,O),a(n,z),a(z,B),a(z,V),a(z,E),a(E,M),a(M,R),Le&&Le.m(R,null),a(R,W);for(let Ce=0;Ce<we.length;Ce+=1)we[Ce]&&we[Ce].m(R,null);tt(R,s[22],!0),a(E,H),a(E,k),a(n,q),a(n,A),a(A,F),a(F,X),a(F,K),a(F,G),a(G,Q),a(n,Y),De&&De.m(n,null),U(se,le,_e),U(se,te,_e),oe||(ce=[J(b,"input",s[31]),J(y,"click",s[32]),J(R,"change",s[34]),J(k,"click",s[35]),J(G,"click",s[36])],oe=!0)},p(se,_e){if(se[9].length>1?fe?fe.p(se,_e):(fe=Bl(se),fe.c(),fe.m(e,i)):fe&&(fe.d(1),fe=null),_e[0]&32768&&b.value!==se[15]&&ne(b,se[15]),ie!==(ie=ge(se))&&(ye.d(1),ye=ie(se),ye&&(ye.c(),ye.m(y,null))),_e[0]&16384&&(y.disabled=se[14]),_e[0]&8192&&(N=Object.keys(se[13]).length>0),N?ae?ae.p(se,_e):(ae=Pl(se),ae.c(),ae.m(c,null)):ae&&(ae.d(1),ae=null),se[22]?Le&&(Le.d(1),Le=null):Le||(Le=Ul(),Le.c(),Le.m(R,W)),_e[0]&8389632){Re=Ne(se[23].filter(se[33]));let Ce;for(Ce=0;Ce<Re.length;Ce+=1){const Te=Al(se,Re,Ce);we[Ce]?we[Ce].p(Te,_e):(we[Ce]=zl(Te),we[Ce].c(),we[Ce].m(R,null))}for(;Ce<we.length;Ce+=1)we[Ce].d(1);we.length=Re.length}_e[0]&12583936&&tt(R,se[22]),_e[0]&2048&&$!==($=se[11]?"Hide":"Show")&&Ze(Q,$),se[11]?De?De.p(se,_e):(De=Rl(se),De.c(),De.m(n,null)):De&&(De.d(1),De=null)},d(se){se&&(f(e),f(le),f(te)),fe&&fe.d(),ye.d(),ae&&ae.d(),Le&&Le.d(),st(we,se),De&&De.d(),oe=!1,ze(ce)}}}function Bl(s){let e,t,l,r,i=Ne(s[9]),n=[];for(let c=0;c<i.length;c+=1)n[c]=Nl(Ol(s,i,c));return{c(){e=u("div"),t=u("select");for(let c=0;c<n.length;c+=1)n[c].c();this.h()},l(c){e=d(c,"DIV",{class:!0});var h=w(e);t=d(h,"SELECT",{class:!0,placeholder:!0});var v=w(t);for(let g=0;g<n.length;g+=1)n[g].l(v);v.forEach(f),h.forEach(f),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"placeholder","Select an Ollama instance"),s[10]===void 0&&pt(()=>s[30].call(t)),o(e,"class","flex-1 pb-1")},m(c,h){U(c,e,h),a(e,t);for(let v=0;v<n.length;v+=1)n[v]&&n[v].m(t,null);tt(t,s[10],!0),l||(r=J(t,"change",s[30]),l=!0)},p(c,h){if(h[0]&512){i=Ne(c[9]);let v;for(v=0;v<i.length;v+=1){const g=Ol(c,i,v);n[v]?n[v].p(g,h):(n[v]=Nl(g),n[v].c(),n[v].m(t,null))}for(;v<n.length;v+=1)n[v].d(1);n.length=i.length}h[0]&1024&&tt(t,c[10])},d(c){c&&f(e),st(n,c),l=!1,r()}}}function Nl(s){let e,t=s[67]+"",l;return{c(){e=u("option"),l=Me(t),this.h()},l(r){e=d(r,"OPTION",{class:!0});var i=w(e);l=Ve(i,t),i.forEach(f),this.h()},h(){e.__value=s[69],ne(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(r,i){U(r,e,i),a(e,l)},p(r,i){i[0]&512&&t!==(t=r[67]+"")&&Ze(l,t)},d(r){r&&f(e)}}}function Nn(s){let e,t,l;return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=w(e);t=Je(i,"path",{d:!0}),w(t).forEach(f),l=Je(i,"path",{d:!0}),w(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M8.75 2.75a.75.75 0 0 0-1.5 0v5.69L5.03 6.22a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06L8.75 8.44V2.75Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){U(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function Pn(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
													transform-origin: center;
													animation: spinner_AtaB 0.75s infinite linear;
												}
												@keyframes spinner_AtaB {
													100% {
														transform: rotate(360deg);
													}
												}
											</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1lfba08"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function Pl(s){let e,t=Ne(Object.keys(s[13])),l=[];for(let r=0;r<t.length;r+=1)l[r]=jl(Sl(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=lt()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=lt()},m(r,i){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(r,i);U(r,e,i)},p(r,i){if(i[0]&8192){t=Ne(Object.keys(r[13]));let n;for(n=0;n<t.length;n+=1){const c=Sl(r,t,n);l[n]?l[n].p(c,i):(l[n]=jl(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&f(e),st(l,r)}}}function jl(s){let e,t,l=s[60]+"",r,i,n,c,h=(s[13][s[60]].pullProgress??0)+"",v,g,m,p,b=s[13][s[60]].digest+"",_,y;return{c(){e=u("div"),t=u("div"),r=Me(l),i=C(),n=u("div"),c=u("div"),v=Me(h),g=Me("%"),m=C(),p=u("div"),_=Me(b),y=C(),this.h()},l(x){e=d(x,"DIV",{class:!0});var T=w(e);t=d(T,"DIV",{class:!0});var S=w(t);r=Ve(S,l),S.forEach(f),i=I(T),n=d(T,"DIV",{class:!0});var L=w(n);c=d(L,"DIV",{class:!0,style:!0});var N=w(c);v=Ve(N,h),g=Ve(N,"%"),N.forEach(f),m=I(L),p=d(L,"DIV",{class:!0,style:!0});var O=w(p);_=Ve(O,b),O.forEach(f),L.forEach(f),y=I(T),T.forEach(f),this.h()},h(){o(t,"class","font-medium mb-1"),o(c,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),We(c,"width",Math.max(15,s[13][s[60]].pullProgress??0)+"%"),o(p,"class","mt-1 text-xs dark:text-gray-500"),We(p,"font-size","0.5rem"),o(n,"class",""),o(e,"class","flex flex-col")},m(x,T){U(x,e,T),a(e,t),a(t,r),a(e,i),a(e,n),a(n,c),a(c,v),a(c,g),a(n,m),a(n,p),a(p,_),a(e,y)},p(x,T){T[0]&8192&&l!==(l=x[60]+"")&&Ze(r,l),T[0]&8192&&h!==(h=(x[13][x[60]].pullProgress??0)+"")&&Ze(v,h),T[0]&8192&&We(c,"width",Math.max(15,x[13][x[60]].pullProgress??0)+"%"),T[0]&8192&&b!==(b=x[13][x[60]].digest+"")&&Ze(_,b)},d(x){x&&f(e)}}}function Ul(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),P(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",ne(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function zl(s){let e,t=s[60].name+" ("+(s[60].size/1073741824).toFixed(1)+" GB)",l,r;return{c(){e=u("option"),l=Me(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=w(e);l=Ve(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[60].name,ne(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){U(i,e,n),a(e,l)},p(i,n){n[0]&8389632&&t!==(t=i[60].name+" ("+(i[60].size/1024**3).toFixed(1)+" GB)")&&Ze(l,t),n[0]&8389632&&r!==(r=i[60].name)&&(e.__value=r,ne(e,e.__value))},d(i){i&&f(e)}}}function Rl(s){let e,t,l,r="Upload a GGUF model",i,n,c,h,v,g,m,p,b,_='To access the GGUF models available for downloading, <a class="text-gray-500 dark:text-gray-300 font-medium underline" href="https://huggingface.co/models?search=gguf" target="_blank">click here.</a>',y,x,T;function S(M,R){return M[16]==="file"?Un:jn}let L=S(s),N=L(s);function O(M,R){return M[16]==="file"?Rn:zn}let z=O(s),B=z(s),j=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&Zl(s),V=(s[16]==="file"&&s[17]&&s[17].length>0||s[16]==="url"&&s[18]!=="")&&ql(s),E=s[21]!==null&&Gl(s);return{c(){e=u("form"),t=u("div"),l=u("div"),l.textContent=r,i=C(),n=u("button"),N.c(),c=C(),h=u("div"),v=u("div"),B.c(),g=C(),j&&j.c(),m=C(),V&&V.c(),p=C(),b=u("div"),b.innerHTML=_,y=C(),E&&E.c(),this.h()},l(M){e=d(M,"FORM",{});var R=w(e);t=d(R,"DIV",{class:!0});var W=w(t);l=d(W,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-rqd4vq"&&(l.textContent=r),i=I(W),n=d(W,"BUTTON",{class:!0,type:!0});var H=w(n);N.l(H),H.forEach(f),W.forEach(f),c=I(R),h=d(R,"DIV",{class:!0});var k=w(h);v=d(k,"DIV",{class:!0});var D=w(v);B.l(D),D.forEach(f),g=I(k),j&&j.l(k),k.forEach(f),m=I(R),V&&V.l(R),p=I(R),b=d(R,"DIV",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-qmcvsw"&&(b.innerHTML=_),y=I(R),E&&E.l(R),R.forEach(f),this.h()},h(){o(l,"class","text-sm font-medium"),o(n,"class","p-1 px-3 text-xs flex rounded transition"),o(n,"type","button"),o(t,"class","mb-2 flex w-full justify-between"),o(v,"class","flex flex-col w-full"),o(h,"class","flex w-full mb-1.5"),o(b,"class","mt-1 text-xs text-gray-400 dark:text-gray-500")},m(M,R){U(M,e,R),a(e,t),a(t,l),a(t,i),a(t,n),N.m(n,null),a(e,c),a(e,h),a(h,v),B.m(v,null),a(h,g),j&&j.m(h,null),a(e,m),V&&V.m(e,null),a(e,p),a(e,b),a(e,y),E&&E.m(e,null),x||(T=[J(n,"click",s[37]),J(e,"submit",At(s[44]))],x=!0)},p(M,R){L!==(L=S(M))&&(N.d(1),N=L(M),N&&(N.c(),N.m(n,null))),z===(z=O(M))&&B?B.p(M,R):(B.d(1),B=z(M),B&&(B.c(),B.m(v,null))),M[16]==="file"&&M[17]&&M[17].length>0||M[16]==="url"&&M[18]!==""?j?j.p(M,R):(j=Zl(M),j.c(),j.m(h,null)):j&&(j.d(1),j=null),M[16]==="file"&&M[17]&&M[17].length>0||M[16]==="url"&&M[18]!==""?V?V.p(M,R):(V=ql(M),V.c(),V.m(e,p)):V&&(V.d(1),V=null),M[21]!==null?E?E.p(M,R):(E=Gl(M),E.c(),E.m(e,null)):E&&(E.d(1),E=null)},d(M){M&&f(e),N.d(),B.d(),j&&j.d(),V&&V.d(),E&&E.d(),x=!1,ze(T)}}}function jn(s){let e,t="URL Mode";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1uzmer3"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function Un(s){let e,t="File Mode";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-9j1d9a"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function zn(s){let e,t,l,r,i,n;return{c(){e=u("div"),t=u("input"),this.h()},l(c){e=d(c,"DIV",{class:!0});var h=w(e);t=d(h,"INPUT",{class:!0,type:!0,placeholder:!0}),h.forEach(f),this.h()},h(){o(t,"class",l="w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850 outline-none "+(s[18]!==""?"mr-2":"")),o(t,"type","url"),t.required=!0,o(t,"placeholder","Type Hugging Face Resolve (Download) URL"),o(e,"class",r="flex-1 "+(s[18]!==""?"mr-2":""))},m(c,h){U(c,e,h),a(e,t),ne(t,s[18]),i||(n=J(t,"input",s[42]),i=!0)},p(c,h){h[0]&262144&&l!==(l="w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850 outline-none "+(c[18]!==""?"mr-2":""))&&o(t,"class",l),h[0]&262144&&t.value!==c[18]&&ne(t,c[18]),h[0]&262144&&r!==(r="flex-1 "+(c[18]!==""?"mr-2":""))&&o(e,"class",r)},d(c){c&&f(e),i=!1,n()}}}function Rn(s){let e,t,l,r,i,n,c;function h(m,p){return m[17]&&m[17].length>0?qn:Zn}let v=h(s),g=v(s);return{c(){e=u("div"),t=u("input"),l=C(),r=u("button"),g.c(),this.h()},l(m){e=d(m,"DIV",{class:!0});var p=w(e);t=d(p,"INPUT",{id:!0,type:!0,accept:!0}),l=I(p),r=d(p,"BUTTON",{type:!0,class:!0});var b=w(r);g.l(b),b.forEach(f),p.forEach(f),this.h()},h(){o(t,"id","model-upload-input"),o(t,"type","file"),o(t,"accept",".gguf"),t.required=!0,t.hidden=!0,o(r,"type","button"),o(r,"class","w-full rounded-lg text-left py-2 px-4 dark:text-gray-300 dark:bg-gray-850"),o(e,"class",i="flex-1 "+(s[17]&&s[17].length>0?"mr-2":""))},m(m,p){U(m,e,p),a(e,t),s[38](t),a(e,l),a(e,r),g.m(r,null),n||(c=[J(t,"change",s[39]),J(t,"change",s[40]),J(r,"click",s[41])],n=!0)},p(m,p){v===(v=h(m))&&g?g.p(m,p):(g.d(1),g=v(m),g&&(g.c(),g.m(r,null))),p[0]&131072&&i!==(i="flex-1 "+(m[17]&&m[17].length>0?"mr-2":""))&&o(e,"class",i)},d(m){m&&f(e),s[38](null),g.d(),n=!1,ze(c)}}}function Zn(s){let e;return{c(){e=Me("Click here to select")},l(t){e=Ve(t,"Click here to select")},m(t,l){U(t,e,l)},p:Ae,d(t){t&&f(e)}}}function qn(s){let e=s[17][0].name+"",t;return{c(){t=Me(e)},l(l){t=Ve(l,e)},m(l,r){U(l,t,r)},p(l,r){r[0]&131072&&e!==(e=l[17][0].name+"")&&Ze(t,e)},d(l){l&&f(t)}}}function Zl(s){let e;function t(i,n){return i[14]?Wn:Gn}let l=t(s),r=l(s);return{c(){e=u("button"),r.c(),this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0});var n=w(e);r.l(n),n.forEach(f),this.h()},h(){o(e,"class","px-3 text-gray-100 bg-emerald-600 hover:bg-emerald-700 disabled:bg-gray-700 disabled:cursor-not-allowed rounded transition"),o(e,"type","submit"),e.disabled=s[14]},m(i,n){U(i,e,n),r.m(e,null)},p(i,n){l!==(l=t(i))&&(r.d(1),r=l(i),r&&(r.c(),r.m(e,null))),n[0]&16384&&(e.disabled=i[14])},d(i){i&&f(e),r.d()}}}function Gn(s){let e,t,l;return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),this.h()},l(r){e=Je(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var i=w(e);t=Je(i,"path",{d:!0}),w(t).forEach(f),l=Je(i,"path",{d:!0}),w(l).forEach(f),i.forEach(f),this.h()},h(){o(t,"d","M7.25 10.25a.75.75 0 0 0 1.5 0V4.56l2.22 2.22a.75.75 0 1 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 0 0 1.06 1.06l2.22-2.22v5.69Z"),o(l,"d","M3.5 9.75a.75.75 0 0 0-1.5 0v1.5A2.75 2.75 0 0 0 4.75 14h6.5A2.75 2.75 0 0 0 14 11.25v-1.5a.75.75 0 0 0-1.5 0v1.5c0 .69-.56 1.25-1.25 1.25h-6.5c-.69 0-1.25-.56-1.25-1.25v-1.5Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(r,i){U(r,e,i),a(e,t),a(e,l)},d(r){r&&f(e)}}}function Wn(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
															transform-origin: center;
															animation: spinner_AtaB 0.75s infinite linear;
														}
														@keyframes spinner_AtaB {
															100% {
																transform: rotate(360deg);
															}
														}
													</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-23bxbk"&&(e.innerHTML=t),this.h()},h(){o(e,"class","self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function ql(s){let e,t,l,r="Modelfile Content",i,n,c,h;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=C(),n=u("textarea"),this.h()},l(v){e=d(v,"DIV",{});var g=w(e);t=d(g,"DIV",{});var m=w(t);l=d(m,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-18egiyi"&&(l.textContent=r),i=I(m),n=d(m,"TEXTAREA",{class:!0,rows:!0}),w(n).forEach(f),m.forEach(f),g.forEach(f),this.h()},h(){o(l,"class","my-2.5 text-sm font-medium"),o(n,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none resize-none"),o(n,"rows","6")},m(v,g){U(v,e,g),a(e,t),a(t,l),a(t,i),a(t,n),ne(n,s[19]),c||(h=J(n,"input",s[43]),c=!0)},p(v,g){g[0]&524288&&ne(n,v[19])},d(v){v&&f(e),c=!1,h()}}}function Gl(s){let e,t,l="Upload Progress",r,i,n,c=(s[21]??0)+"",h,v,g,m,p;return{c(){e=u("div"),t=u("div"),t.textContent=l,r=C(),i=u("div"),n=u("div"),h=Me(c),v=Me("%"),g=C(),m=u("div"),p=Me(s[20]),this.h()},l(b){e=d(b,"DIV",{class:!0});var _=w(e);t=d(_,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-mf9p1m"&&(t.textContent=l),r=I(_),i=d(_,"DIV",{class:!0});var y=w(i);n=d(y,"DIV",{class:!0,style:!0});var x=w(n);h=Ve(x,c),v=Ve(x,"%"),x.forEach(f),y.forEach(f),g=I(_),m=d(_,"DIV",{class:!0,style:!0});var T=w(m);p=Ve(T,s[20]),T.forEach(f),_.forEach(f),this.h()},h(){o(t,"class","mb-2 text-xs"),o(n,"class","dark:bg-gray-600 bg-gray-500 text-xs font-medium text-gray-100 text-center p-0.5 leading-none rounded-full"),We(n,"width",Math.max(15,s[21]??0)+"%"),o(i,"class","w-full rounded-full dark:bg-gray-800"),o(m,"class","mt-1 text-xs dark:text-gray-500"),We(m,"font-size","0.5rem"),o(e,"class","mt-2")},m(b,_){U(b,e,_),a(e,t),a(e,r),a(e,i),a(i,n),a(n,h),a(n,v),a(e,g),a(e,m),a(m,p)},p(b,_){_[0]&2097152&&c!==(c=(b[21]??0)+"")&&Ze(h,c),_[0]&2097152&&We(n,"width",Math.max(15,b[21]??0)+"%"),_[0]&1048576&&Ze(p,b[20])},d(b){b&&f(e)}}}function Wl(s){let e,t,l="Model Name",r,i,n,c,h,v,g,m="API Base URL",p,b,_,y,x,T,S,L="API Key",N,O,z,B,j,V,E,M="API RPM",R,W,H,k,D,q;return{c(){e=u("div"),t=u("div"),t.textContent=l,r=C(),i=u("div"),n=u("div"),c=u("input"),h=C(),v=u("div"),g=u("div"),g.textContent=m,p=C(),b=u("div"),_=u("div"),y=u("input"),x=C(),T=u("div"),S=u("div"),S.textContent=L,N=C(),O=u("div"),z=u("div"),B=u("input"),j=C(),V=u("div"),E=u("div"),E.textContent=M,R=C(),W=u("div"),H=u("div"),k=u("input"),this.h()},l(A){e=d(A,"DIV",{});var F=w(e);t=d(F,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-6ir36y"&&(t.textContent=l),r=I(F),i=d(F,"DIV",{class:!0});var X=w(i);n=d(X,"DIV",{class:!0});var Z=w(n);c=d(Z,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),Z.forEach(f),X.forEach(f),F.forEach(f),h=I(A),v=d(A,"DIV",{});var K=w(v);g=d(K,"DIV",{class:!0,"data-svelte-h":!0}),P(g)!=="svelte-1kyw6ri"&&(g.textContent=m),p=I(K),b=d(K,"DIV",{class:!0});var G=w(b);_=d(G,"DIV",{class:!0});var $=w(_);y=d($,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),$.forEach(f),G.forEach(f),K.forEach(f),x=I(A),T=d(A,"DIV",{});var Q=w(T);S=d(Q,"DIV",{class:!0,"data-svelte-h":!0}),P(S)!=="svelte-mms6ub"&&(S.textContent=L),N=I(Q),O=d(Q,"DIV",{class:!0});var Y=w(O);z=d(Y,"DIV",{class:!0});var le=w(z);B=d(le,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),le.forEach(f),Y.forEach(f),Q.forEach(f),j=I(A),V=d(A,"DIV",{});var te=w(V);E=d(te,"DIV",{class:!0,"data-svelte-h":!0}),P(E)!=="svelte-1f69sq3"&&(E.textContent=M),R=I(te),W=d(te,"DIV",{class:!0});var oe=w(W);H=d(oe,"DIV",{class:!0});var ce=w(H);k=d(ce,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),ce.forEach(f),oe.forEach(f),te.forEach(f),this.h()},h(){o(t,"class","mb-1.5 text-sm font-medium"),o(c,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(c,"placeholder","Enter Model Name (model_name)"),o(c,"autocomplete","off"),o(n,"class","flex-1"),o(i,"class","flex w-full"),o(g,"class","mb-1.5 text-sm font-medium"),o(y,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(y,"placeholder","Enter LiteLLM API Base URL (litellm_params.api_base)"),o(y,"autocomplete","off"),o(_,"class","flex-1"),o(b,"class","flex w-full"),o(S,"class","mb-1.5 text-sm font-medium"),o(B,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(B,"placeholder","Enter LiteLLM API Key (litellm_params.api_key)"),o(B,"autocomplete","off"),o(z,"class","flex-1"),o(O,"class","flex w-full"),o(E,"class","mb-1.5 text-sm font-medium"),o(k,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(k,"placeholder","Enter LiteLLM API RPM (litellm_params.rpm)"),o(k,"autocomplete","off"),o(H,"class","flex-1"),o(W,"class","flex w-full")},m(A,F){U(A,e,F),a(e,t),a(e,r),a(e,i),a(i,n),a(n,c),ne(c,s[4]),U(A,h,F),U(A,v,F),a(v,g),a(v,p),a(v,b),a(b,_),a(_,y),ne(y,s[5]),U(A,x,F),U(A,T,F),a(T,S),a(T,N),a(T,O),a(O,z),a(z,B),ne(B,s[6]),U(A,j,F),U(A,V,F),a(V,E),a(V,R),a(V,W),a(W,H),a(H,k),ne(k,s[7]),D||(q=[J(c,"input",s[48]),J(y,"input",s[49]),J(B,"input",s[50]),J(k,"input",s[51])],D=!0)},p(A,F){F[0]&16&&c.value!==A[4]&&ne(c,A[4]),F[0]&32&&y.value!==A[5]&&ne(y,A[5]),F[0]&64&&B.value!==A[6]&&ne(B,A[6]),F[0]&128&&k.value!==A[7]&&ne(k,A[7])},d(A){A&&(f(e),f(h),f(v),f(x),f(T),f(j),f(V)),D=!1,ze(q)}}}function Fl(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),P(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",ne(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function Jl(s){let e,t=s[60].model_name+"",l,r;return{c(){e=u("option"),l=Me(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=w(e);l=Ve(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[60].model_info.id,ne(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){U(i,e,n),a(e,l)},p(i,n){n[0]&8&&t!==(t=i[60].model_name+"")&&Ze(l,t),n[0]&8&&r!==(r=i[60].model_info.id)&&(e.__value=r,ne(e,e.__value))},d(i){i&&f(e)}}}function Fn(s){let e,t,l,r,i,n,c,h="Manage LiteLLM Models",v,g,m,p,b="Add a model",_,y,x=s[1]?"Hide Additional Params":"Show Additional Params",T,S,L,N,O,z,B,j,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',E,M,R,W=`Not sure what to add?
						<a class="text-gray-300 font-medium underline" href="https://litellm.vercel.app/docs/proxy/configs#quick-start" target="_blank">Click here for help.</a>`,H,k,D,q="Delete a model",A,F,X,Z,K,G,$,Q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M5 3.25V4H2.75a.75.75 0 0 0 0 1.5h.3l.815 8.15A1.5 1.5 0 0 0 5.357 15h5.285a1.5 1.5 0 0 0 1.493-1.35l.815-8.15h.3a.75.75 0 0 0 0-1.5H11v-.75A2.25 2.25 0 0 0 8.75 1h-1.5A2.25 2.25 0 0 0 5 3.25Zm2.25-.75a.75.75 0 0 0-.75.75V4h3v-.75a.75.75 0 0 0-.75-.75h-1.5ZM6.05 6a.75.75 0 0 1 .787.713l.275 5.5a.75.75 0 0 1-1.498.075l-.275-5.5A.75.75 0 0 1 6.05 6Zm3.9 0a.75.75 0 0 1 .712.787l-.275 5.5a.75.75 0 0 1-1.498-.075l.275-5.5a.75.75 0 0 1 .786-.711Z" clip-rule="evenodd"></path></svg>',Y,le,te=s[12]&&Hl(s),oe=s[1]&&Wl(s),ce=!s[8]&&Fl(),fe=Ne(s[3]),ge=[];for(let ie=0;ie<fe.length;ie+=1)ge[ie]=Jl(Ll(s,fe,ie));return{c(){e=u("div"),t=u("div"),te&&te.c(),l=C(),r=u("div"),i=u("div"),n=u("div"),c=u("div"),c.textContent=h,v=C(),g=u("div"),m=u("div"),p=u("div"),p.textContent=b,_=C(),y=u("button"),T=Me(x),S=C(),L=u("div"),N=u("div"),O=u("div"),z=u("input"),B=C(),j=u("button"),j.innerHTML=V,E=C(),oe&&oe.c(),M=C(),R=u("div"),R.innerHTML=W,H=C(),k=u("div"),D=u("div"),D.textContent=q,A=C(),F=u("div"),X=u("div"),Z=u("select"),ce&&ce.c(),K=lt();for(let ie=0;ie<ge.length;ie+=1)ge[ie].c();G=C(),$=u("button"),$.innerHTML=Q,this.h()},l(ie){e=d(ie,"DIV",{class:!0});var ye=w(e);t=d(ye,"DIV",{class:!0});var ae=w(t);te&&te.l(ae),l=I(ae),r=d(ae,"DIV",{class:!0});var Le=w(r);i=d(Le,"DIV",{class:!0});var Re=w(i);n=d(Re,"DIV",{});var we=w(n);c=d(we,"DIV",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-nje5xu"&&(c.textContent=h),v=I(we),g=d(we,"DIV",{});var De=w(g);m=d(De,"DIV",{class:!0});var se=w(m);p=d(se,"DIV",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-e2dfvv"&&(p.textContent=b),_=I(se),y=d(se,"BUTTON",{class:!0,type:!0});var _e=w(y);T=Ve(_e,x),_e.forEach(f),se.forEach(f),De.forEach(f),S=I(we),L=d(we,"DIV",{class:!0});var Ce=w(L);N=d(Ce,"DIV",{class:!0});var Te=w(N);O=d(Te,"DIV",{class:!0});var be=w(O);z=d(be,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),be.forEach(f),B=I(Te),j=d(Te,"BUTTON",{class:!0,"data-svelte-h":!0}),P(j)!=="svelte-18ghdk1"&&(j.innerHTML=V),Te.forEach(f),E=I(Ce),oe&&oe.l(Ce),Ce.forEach(f),M=I(we),R=d(we,"DIV",{class:!0,"data-svelte-h":!0}),P(R)!=="svelte-4stf1e"&&(R.innerHTML=W),H=I(we),k=d(we,"DIV",{});var xe=w(k);D=d(xe,"DIV",{class:!0,"data-svelte-h":!0}),P(D)!=="svelte-vavmom"&&(D.textContent=q),A=I(xe),F=d(xe,"DIV",{class:!0});var ve=w(F);X=d(ve,"DIV",{class:!0});var ee=w(X);Z=d(ee,"SELECT",{class:!0,placeholder:!0});var ue=w(Z);ce&&ce.l(ue),K=lt();for(let ke=0;ke<ge.length;ke+=1)ge[ke].l(ue);ue.forEach(f),ee.forEach(f),G=I(ve),$=d(ve,"BUTTON",{class:!0,"data-svelte-h":!0}),P($)!=="svelte-1ln4085"&&($.innerHTML=Q),ve.forEach(f),xe.forEach(f),we.forEach(f),Re.forEach(f),Le.forEach(f),ae.forEach(f),ye.forEach(f),this.h()},h(){o(c,"class","mb-2 text-sm font-medium"),o(p,"class","text-sm font-medium"),o(y,"class","text-xs font-medium text-gray-500"),o(y,"type","button"),o(m,"class","flex justify-between items-center text-xs"),o(z,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(z,"placeholder","Enter LiteLLM Model (litellm_params.model)"),o(z,"autocomplete","off"),o(O,"class","flex-1 mr-2"),o(j,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(N,"class","flex w-full mb-1.5"),o(L,"class","my-2 space-y-2"),o(R,"class","mb-2 text-xs text-gray-400 dark:text-gray-500"),o(D,"class","mb-2.5 text-sm font-medium"),o(Z,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(Z,"placeholder","Select a model"),s[8]===void 0&&pt(()=>s[52].call(Z)),o(X,"class","flex-1 mr-2"),o($,"class","px-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 dark:bg-gray-850 dark:hover:bg-gray-800 dark:text-gray-100 rounded-lg transition"),o(F,"class","flex w-full"),o(i,"class","mt-2 space-y-3 pr-1.5"),o(r,"class","space-y-3"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-[23rem]"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(ie,ye){U(ie,e,ye),a(e,t),te&&te.m(t,null),a(t,l),a(t,r),a(r,i),a(i,n),a(n,c),a(n,v),a(n,g),a(g,m),a(m,p),a(m,_),a(m,y),a(y,T),a(n,S),a(n,L),a(L,N),a(N,O),a(O,z),ne(z,s[0]),a(N,B),a(N,j),a(L,E),oe&&oe.m(L,null),a(n,M),a(n,R),a(n,H),a(n,k),a(k,D),a(k,A),a(k,F),a(F,X),a(X,Z),ce&&ce.m(Z,null),a(Z,K);for(let ae=0;ae<ge.length;ae+=1)ge[ae]&&ge[ae].m(Z,null);tt(Z,s[8],!0),a(F,G),a(F,$),Y||(le=[J(y,"click",s[45]),J(z,"input",s[46]),J(j,"click",s[47]),J(Z,"change",s[52]),J($,"click",s[53])],Y=!0)},p(ie,ye){if(ie[12]?te?te.p(ie,ye):(te=Hl(ie),te.c(),te.m(t,l)):te&&(te.d(1),te=null),ye[0]&2&&x!==(x=ie[1]?"Hide Additional Params":"Show Additional Params")&&Ze(T,x),ye[0]&1&&z.value!==ie[0]&&ne(z,ie[0]),ie[1]?oe?oe.p(ie,ye):(oe=Wl(ie),oe.c(),oe.m(L,null)):oe&&(oe.d(1),oe=null),ie[8]?ce&&(ce.d(1),ce=null):ce||(ce=Fl(),ce.c(),ce.m(Z,K)),ye[0]&8){fe=Ne(ie[3]);let ae;for(ae=0;ae<fe.length;ae+=1){const Le=Ll(ie,fe,ae);ge[ae]?ge[ae].p(Le,ye):(ge[ae]=Jl(Le),ge[ae].c(),ge[ae].m(Z,null))}for(;ae<ge.length;ae+=1)ge[ae].d(1);ge.length=fe.length}ye[0]&264&&tt(Z,ie[8])},i:Ae,o:Ae,d(ie){ie&&f(e),te&&te.d(),oe&&oe.d(),ce&&ce.d(),st(ge,ie),Y=!1,ze(le)}}}const Jn=3;function Kn(s,e,t){let l,r,i;Ye(s,wt,ee=>t(56,l=ee)),Ye(s,ul,ee=>t(57,r=ee)),Ye(s,ht,ee=>t(23,i=ee));let{getModels:n}=e,c=!1,h,v=[],g="",m="",p="",b="",_="",y="",x=[],T=null,S=!1,L="";const N=Bn((ee,ue)=>X({modelName:ee.modelName,callback:ue}),Jn);let O={},z=!1,B="",j="",V=null,E="file",M="",R="",W=`TEMPLATE """{{ .System }}
USER: {{ .Prompt }}
ASSISTANT: """
PARAMETER num_ctx 4096
PARAMETER stop "</s>"
PARAMETER stop "USER:"
PARAMETER stop "ASSISTANT:"`,H="",k=null,D="";const q=async()=>{const ee=B.trim();if(O[ee]){Be.error(`Model '${ee}' is already in queue for downloading.`);return}if(Object.keys(O).length===3){Be.error("Maximum of 3 models can be downloaded simultaneously. Please try again later.");return}t(14,z=!0),N.push({modelName:ee},async ue=>{const{modelName:ke}=ue;delete O[ke],console.log(ue),ue.success?(Be.success(`Model '${ke}' has been successfully downloaded.`),new Notification(r,{body:`Model '${ke}' has been successfully downloaded.`,icon:`${Ks}/static/favicon.png`}),ht.set(await n())):Be.error(ue.error)}),t(15,B=""),t(14,z=!1)},A=async()=>{t(14,z=!0),t(21,k=0);let ee=!1,ue=null,ke="";if(E==="file"){const pe=M[0],qe=new FormData;qe.append("file",pe),ue=await fetch(`${bl}/utils/upload`,{method:"POST",headers:{...l&&{Authorization:`Bearer ${localStorage.token}`}},body:qe}).catch(Oe=>(console.log(Oe),null))}else ue=await fetch(`${bl}/utils/download?url=${R}`,{method:"GET",headers:{...l&&{Authorization:`Bearer ${localStorage.token}`}}}).catch(pe=>(console.log(pe),null));if(ue&&ue.ok){const pe=ue.body.pipeThrough(new TextDecoderStream).pipeThrough(Ft(`
`)).getReader();for(;;){const{value:qe,done:Oe}=await pe.read();if(Oe)break;try{let he=qe.split(`
`);for(const re of he)if(re!==""){let Ee=JSON.parse(re.replace(/^data: /,""));if(Ee.progress&&t(21,k=Ee.progress),Ee.error)throw Ee.error;Ee.done&&(t(20,H=Ee.blob),ke=Ee.name,ee=!0)}}catch(he){console.log(he)}}}if(ee){const pe=await ur(localStorage.token,`${ke}:latest`,`FROM @${H}
${W}`);if(pe&&pe.ok){const qe=pe.body.pipeThrough(new TextDecoderStream).pipeThrough(Ft(`
`)).getReader();for(;;){const{value:Oe,done:he}=await qe.read();if(he)break;try{let re=Oe.split(`
`);for(const Ee of re)if(Ee!==""){console.log(Ee);let Ie=JSON.parse(Ee);if(console.log(Ie),Ie.error)throw Ie.error;if(Ie.detail)throw Ie.detail;Ie.status&&(!Ie.digest&&!Ie.status.includes("writing")&&!Ie.status.includes("sha256")?Be.success(Ie.status):Ie.digest&&(j=Ie.digest,Ie.completed?V=Math.round(Ie.completed/Ie.total*1e3)/10:V=100))}}catch(re){console.log(re),Be.error(re)}}}}t(18,R=""),t(17,M=""),t(14,z=!1),t(21,k=null),ht.set(await n())},F=async()=>{await dr(localStorage.token,D,T).catch(ue=>{Be.error(ue)})&&Be.success(`Deleted ${D}`),t(22,D=""),ht.set(await n())},X=async ee=>{const ue=await cr(localStorage.token,ee.modelName,T).catch(ke=>(ee.callback({success:!1,error:ke,modelName:ee.modelName}),null));if(ue){const ke=ue.body.pipeThrough(new TextDecoderStream).pipeThrough(Ft(`
`)).getReader();for(;;)try{const{value:pe,done:qe}=await ke.read();if(qe)break;let Oe=pe.split(`
`);for(const he of Oe)if(he!==""){let re=JSON.parse(he);if(re.error)throw re.error;if(re.detail)throw re.detail;if(re.status)if(re.digest){let Ee=0;re.completed?Ee=Math.round(re.completed/re.total*1e3)/10:Ee=100,t(13,O[ee.modelName]={pullProgress:Ee,digest:re.digest},O)}else Be.success(re.status)}}catch(pe){console.log(pe),typeof pe!="string"&&(pe=pe.message),ee.callback({success:!1,error:pe,modelName:ee.modelName})}ee.callback({success:!0,modelName:ee.modelName})}},Z=async()=>{if(v.find(ee=>ee.model_name===m))Be.error(`Model ${m} already exists.`);else{const ee=await fn(localStorage.token,{name:m,model:g,api_base:p,api_key:b,rpm:_}).catch(ue=>(Be.error(ue),null));ee&&ee.message&&Be.success(ee.message)}t(4,m=""),t(0,g=""),t(5,p=""),t(6,b=""),t(7,_=""),t(3,v=await Xt(localStorage.token)),ht.set(await n())},K=async()=>{const ee=await hn(localStorage.token,y).catch(ue=>(Be.error(ue),null));ee&&ee.message&&Be.success(ee.message),t(8,y=""),t(3,v=await Xt(localStorage.token)),ht.set(await n())};ut(async()=>{t(9,x=await Ws(localStorage.token).catch(ee=>(Be.error(ee),[]))),x.length>1&&t(10,T=0),t(12,L=await cl(localStorage.token).catch(ee=>!1)),t(3,v=await Xt(localStorage.token))});function G(){T=bt(this),t(10,T)}function $(){B=this.value,t(15,B)}const Q=()=>{q()},Y=ee=>ee.size!=null&&(T===null?!0:((ee==null?void 0:ee.urls)??[]).includes(T));function le(){D=bt(this),t(22,D),t(10,T)}const te=()=>{F()},oe=()=>{t(11,S=!S)},ce=()=>{E==="file"?t(16,E="url"):t(16,E="file")};function fe(ee){vt[ee?"unshift":"push"](()=>{h=ee,t(2,h)})}function ge(){M=this.files,t(17,M)}const ie=()=>{console.log(M)},ye=()=>{h.click()};function ae(){R=this.value,t(18,R)}function Le(){W=this.value,t(19,W)}const Re=()=>{A()},we=()=>{t(1,c=!c)};function De(){g=this.value,t(0,g)}const se=()=>{Z()};function _e(){m=this.value,t(4,m),t(0,g)}function Ce(){p=this.value,t(5,p)}function Te(){b=this.value,t(6,b)}function be(){_=this.value,t(7,_)}function xe(){y=bt(this),t(8,y),t(3,v)}const ve=()=>{K()};return s.$$set=ee=>{"getModels"in ee&&t(29,n=ee.getModels)},s.$$.update=()=>{s.$$.dirty[0]&1&&t(4,m=g)},[g,c,h,v,m,p,b,_,y,x,T,S,L,O,z,B,E,M,R,W,H,k,D,i,q,A,F,Z,K,n,G,$,Q,Y,le,te,oe,ce,fe,ge,ie,ye,ae,Le,Re,we,De,se,_e,Ce,Te,be,xe,ve]}class Yn extends at{constructor(e){super(),ot(this,e,Kn,Fn,nt,{getModels:29},null,[-1,-1,-1])}}function Xn(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(l){e=Je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=w(e);t=Je(r,"path",{d:!0}),w(t).forEach(f),r.forEach(f),this.h()},h(){o(t,"d","M10 2a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 2zM10 15a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0110 15zM10 7a3 3 0 100 6 3 3 0 000-6zM15.657 5.404a.75.75 0 10-1.06-1.06l-1.061 1.06a.75.75 0 001.06 1.06l1.06-1.06zM6.464 14.596a.75.75 0 10-1.06-1.06l-1.06 1.06a.75.75 0 001.06 1.06l1.06-1.06zM18 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0118 10zM5 10a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 015 10zM14.596 15.657a.75.75 0 001.06-1.06l-1.06-1.061a.75.75 0 10-1.06 1.06l1.06 1.06zM5.404 6.464a.75.75 0 001.06-1.06l-1.06-1.06a.75.75 0 10-1.061 1.06l1.06 1.06z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4 self-center")},m(l,r){U(l,e,r),a(e,t)},d(l){l&&f(e)}}}function Qn(s){let e,t;return{c(){e=Fe("svg"),t=Fe("path"),this.h()},l(l){e=Je(l,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var r=w(e);t=Je(r,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(f),r.forEach(f),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M7.455 2.004a.75.75 0 01.26.77 7 7 0 009.958 7.967.75.75 0 011.067.853A8.5 8.5 0 116.647 1.921a.75.75 0 01.808.083z"),o(t,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 20 20"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4")},m(l,r){U(l,e,r),a(e,t)},d(l){l&&f(e)}}}function $n(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function ea(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function Kl(s){let e,t,l,r,i,n,c,h,v="Keep Alive",g,m,p,b,_,y,x,T="Request Mode",S,L,N,O,z;function B(D){s[18](D)}let j={};s[7]!==void 0&&(j.options=s[7]),e=new Qr({props:j}),vt.push(()=>Dt(e,"options",B));function V(D,q){return D[6]===null?la:ta}let E=V(s),M=E(s),R=s[6]!==null&&Yl(s);function W(D,q){if(D[5]==="")return ra;if(D[5]==="json")return sa}let H=W(s),k=H&&H(s);return{c(){Xe(e.$$.fragment),l=C(),r=u("hr"),i=C(),n=u("div"),c=u("div"),h=u("div"),h.textContent=v,g=C(),m=u("button"),M.c(),p=C(),R&&R.c(),b=C(),_=u("div"),y=u("div"),x=u("div"),x.textContent=T,S=C(),L=u("button"),k&&k.c(),this.h()},l(D){Qe(e.$$.fragment,D),l=I(D),r=d(D,"HR",{class:!0}),i=I(D),n=d(D,"DIV",{class:!0});var q=w(n);c=d(q,"DIV",{class:!0});var A=w(c);h=d(A,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-420e4z"&&(h.textContent=v),g=I(A),m=d(A,"BUTTON",{class:!0,type:!0});var F=w(m);M.l(F),F.forEach(f),A.forEach(f),p=I(q),R&&R.l(q),q.forEach(f),b=I(D),_=d(D,"DIV",{});var X=w(_);y=d(X,"DIV",{class:!0});var Z=w(y);x=d(Z,"DIV",{class:!0,"data-svelte-h":!0}),P(x)!=="svelte-v46k3y"&&(x.textContent=T),S=I(Z),L=d(Z,"BUTTON",{class:!0});var K=w(L);k&&k.l(K),K.forEach(f),Z.forEach(f),X.forEach(f),this.h()},h(){o(r,"class","dark:border-gray-700"),o(h,"class","self-center text-xs font-medium"),o(m,"class","p-1 px-3 text-xs flex rounded transition"),o(m,"type","button"),o(c,"class","flex w-full justify-between"),o(n,"class","py-1 w-full justify-between"),o(x,"class","self-center text-sm font-medium"),o(L,"class","p-1 px-3 text-xs flex rounded transition"),o(y,"class","py-1 flex w-full justify-between")},m(D,q){$e(e,D,q),U(D,l,q),U(D,r,q),U(D,i,q),U(D,n,q),a(n,c),a(c,h),a(c,g),a(c,m),M.m(m,null),a(n,p),R&&R.m(n,null),U(D,b,q),U(D,_,q),a(_,y),a(y,x),a(y,S),a(y,L),k&&k.m(L,null),N=!0,O||(z=[J(m,"click",s[19]),J(L,"click",s[21])],O=!0)},p(D,q){const A={};!t&&q&128&&(t=!0,A.options=D[7],Et(()=>t=!1)),e.$set(A),E!==(E=V(D))&&(M.d(1),M=E(D),M&&(M.c(),M.m(m,null))),D[6]!==null?R?R.p(D,q):(R=Yl(D),R.c(),R.m(n,null)):R&&(R.d(1),R=null),H!==(H=W(D))&&(k&&k.d(1),k=H&&H(D),k&&(k.c(),k.m(L,null)))},i(D){N||(Ue(e.$$.fragment,D),N=!0)},o(D){Ge(e.$$.fragment,D),N=!1},d(D){D&&(f(l),f(r),f(i),f(n),f(b),f(_)),et(e,D),M.d(),R&&R.d(),k&&k.d(),O=!1,ze(z)}}}function ta(s){let e,t="Custom";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-3v6m8g"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function la(s){let e,t="Default";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-h5d9m4"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function Yl(s){let e,t,l,r;return{c(){e=u("div"),t=u("input"),this.h()},l(i){e=d(i,"DIV",{class:!0});var n=w(e);t=d(n,"INPUT",{class:!0,type:!0,placeholder:!0}),n.forEach(f),this.h()},h(){o(t,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),o(t,"type","text"),o(t,"placeholder",'e.g.) "30s","10m". Valid time units are "s", "m", "h".'),o(e,"class","flex mt-1 space-x-2")},m(i,n){U(i,e,n),a(e,t),ne(t,s[6]),l||(r=J(t,"input",s[20]),l=!0)},p(i,n){n&64&&t.value!==i[6]&&ne(t,i[6])},d(i){i&&f(e),l=!1,r()}}}function sa(s){let e,t="JSON";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1ixofgt"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function ra(s){let e,t="Default";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-h5d9m4"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function na(s){let e,t,l,r,i="WebUI Settings",n,c,h,v="Theme",g,m,p,b,_,y,x="Dark",T,S="Light",L,N="Rosé Pine",O,z="Rosé Pine Dawn",B,j,V,E,M="Notification",R,W,H,k,D,q,A,F="System Prompt",X,Z,K,G,$,Q,Y="Advanced Parameters",le,te,oe=s[4]?"Hide":"Show",ce,fe,ge,ie,ye,ae="Save",Le,Re,we;function De(ve,ee){if(ve[1]==="dark")return Qn;if(ve[1]==="light")return Xn}let se=De(s),_e=se&&se(s);function Ce(ve,ee){return ve[2]===!0?ea:$n}let Te=Ce(s),be=Te(s),xe=s[4]&&Kl(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=C(),c=u("div"),h=u("div"),h.textContent=v,g=C(),m=u("div"),p=u("div"),_e&&_e.c(),b=C(),_=u("select"),y=u("option"),y.textContent=x,T=u("option"),T.textContent=S,L=u("option"),L.textContent=N,O=u("option"),O.textContent=z,B=C(),j=u("div"),V=u("div"),E=u("div"),E.textContent=M,R=C(),W=u("button"),be.c(),H=C(),k=u("hr"),D=C(),q=u("div"),A=u("div"),A.textContent=F,X=C(),Z=u("textarea"),K=C(),G=u("div"),$=u("div"),Q=u("div"),Q.textContent=Y,le=C(),te=u("button"),ce=Me(oe),fe=C(),xe&&xe.c(),ge=C(),ie=u("div"),ye=u("button"),ye.textContent=ae,this.h()},l(ve){e=d(ve,"DIV",{class:!0});var ee=w(e);t=d(ee,"DIV",{class:!0});var ue=w(t);l=d(ue,"DIV",{class:!0});var ke=w(l);r=d(ke,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-1x4ibzu"&&(r.textContent=i),n=I(ke),c=d(ke,"DIV",{class:!0});var pe=w(c);h=d(pe,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1vyl4qe"&&(h.textContent=v),g=I(pe),m=d(pe,"DIV",{class:!0});var qe=w(m);p=d(qe,"DIV",{class:!0});var Oe=w(p);_e&&_e.l(Oe),Oe.forEach(f),b=I(qe),_=d(qe,"SELECT",{class:!0,placeholder:!0});var he=w(_);y=d(he,"OPTION",{"data-svelte-h":!0}),P(y)!=="svelte-6c4gk6"&&(y.textContent=x),T=d(he,"OPTION",{"data-svelte-h":!0}),P(T)!=="svelte-yop7ea"&&(T.textContent=S),L=d(he,"OPTION",{"data-svelte-h":!0}),P(L)!=="svelte-az6w6j"&&(L.textContent=N),O=d(he,"OPTION",{"data-svelte-h":!0}),P(O)!=="svelte-1f8eygo"&&(O.textContent=z),he.forEach(f),qe.forEach(f),pe.forEach(f),B=I(ke),j=d(ke,"DIV",{});var re=w(j);V=d(re,"DIV",{class:!0});var Ee=w(V);E=d(Ee,"DIV",{class:!0,"data-svelte-h":!0}),P(E)!=="svelte-1kkiof0"&&(E.textContent=M),R=I(Ee),W=d(Ee,"BUTTON",{class:!0,type:!0});var Ie=w(W);be.l(Ie),Ie.forEach(f),Ee.forEach(f),re.forEach(f),ke.forEach(f),H=I(ue),k=d(ue,"HR",{class:!0}),D=I(ue),q=d(ue,"DIV",{});var Ke=w(q);A=d(Ke,"DIV",{class:!0,"data-svelte-h":!0}),P(A)!=="svelte-1bi1vel"&&(A.textContent=F),X=I(Ke),Z=d(Ke,"TEXTAREA",{class:!0,rows:!0}),w(Z).forEach(f),Ke.forEach(f),K=I(ue),G=d(ue,"DIV",{class:!0});var Pe=w(G);$=d(Pe,"DIV",{class:!0});var me=w($);Q=d(me,"DIV",{class:!0,"data-svelte-h":!0}),P(Q)!=="svelte-x6p2ws"&&(Q.textContent=Y),le=I(me),te=d(me,"BUTTON",{class:!0,type:!0});var de=w(te);ce=Ve(de,oe),de.forEach(f),me.forEach(f),fe=I(Pe),xe&&xe.l(Pe),Pe.forEach(f),ue.forEach(f),ge=I(ee),ie=d(ee,"DIV",{class:!0});var je=w(ie);ye=d(je,"BUTTON",{class:!0,"data-svelte-h":!0}),P(ye)!=="svelte-1lr9feb"&&(ye.textContent=ae),je.forEach(f),ee.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(h,"class","self-center text-xs font-medium"),o(p,"class","absolute right-16"),y.__value="dark",ne(y,y.__value),T.__value="light",ne(T,T.__value),L.__value="rose-pine dark",ne(L,L.__value),O.__value="rose-pine-dawn light",ne(O,O.__value),o(_,"class","w-fit pr-8 rounded py-2 px-2 text-xs bg-transparent outline-none text-right"),o(_,"placeholder","Select a theme"),s[1]===void 0&&pt(()=>s[13].call(_)),o(m,"class","flex items-center relative"),o(c,"class","py-0.5 flex w-full justify-between"),o(E,"class","self-center text-xs font-medium"),o(W,"class","p-1 px-3 text-xs flex rounded transition"),o(W,"type","button"),o(V,"class","py-0.5 flex w-full justify-between"),o(l,"class",""),o(k,"class","dark:border-gray-700 my-3"),o(A,"class","my-2.5 text-sm font-medium"),o(Z,"class","w-full rounded p-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none resize-none"),o(Z,"rows","4"),o(Q,"class","font-medium"),o(te,"class","text-xs font-medium text-gray-500"),o(te,"type","button"),o($,"class","flex justify-between items-center text-sm"),o(G,"class","mt-2 space-y-3 pr-1.5"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[20.5rem]"),o(ye,"class","px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded"),o(ie,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(ve,ee){U(ve,e,ee),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(c,g),a(c,m),a(m,p),_e&&_e.m(p,null),a(m,b),a(m,_),a(_,y),a(_,T),a(_,L),a(_,O),tt(_,s[1],!0),a(l,B),a(l,j),a(j,V),a(V,E),a(V,R),a(V,W),be.m(W,null),a(t,H),a(t,k),a(t,D),a(t,q),a(q,A),a(q,X),a(q,Z),ne(Z,s[3]),a(t,K),a(t,G),a(G,$),a($,Q),a($,le),a($,te),a(te,ce),a(G,fe),xe&&xe.m(G,null),a(e,ge),a(e,ie),a(ie,ye),Le=!0,Re||(we=[J(_,"change",s[13]),J(_,"change",s[14]),J(W,"click",s[15]),J(Z,"input",s[16]),J(te,"click",s[17]),J(ye,"click",s[22])],Re=!0)},p(ve,[ee]){se!==(se=De(ve))&&(_e&&_e.d(1),_e=se&&se(ve),_e&&(_e.c(),_e.m(p,null))),ee&2&&tt(_,ve[1]),Te!==(Te=Ce(ve))&&(be.d(1),be=Te(ve),be&&(be.c(),be.m(W,null))),ee&8&&ne(Z,ve[3]),(!Le||ee&16)&&oe!==(oe=ve[4]?"Hide":"Show")&&Ze(ce,oe),ve[4]?xe?(xe.p(ve,ee),ee&16&&Ue(xe,1)):(xe=Kl(ve),xe.c(),Ue(xe,1),xe.m(G,null)):xe&&(ol(),Ge(xe,1,1,()=>{xe=null}),il())},i(ve){Le||(Ue(xe),Le=!0)},o(ve){Ge(xe),Le=!1},d(ve){ve&&f(e),_e&&_e.d(),be.d(),xe&&xe.d(),Re=!1,ze(we)}}}function aa(s,e,t){const l=Bt();let{saveSettings:r}=e,{getModels:i}=e,n=["dark","light","rose-pine dark","rose-pine-dawn light"],c="dark",h=!1,v="",g=!1;const m=async()=>{await Notification.requestPermission()==="granted"?(t(2,h=!h),r({notificationEnabled:h})):Be.error("Response notifications cannot be activated as the website permissions have been denied. Please visit your browser settings to grant the necessary access.")};let p="",b=null,_={seed:0,temperature:"",repeat_penalty:"",repeat_last_n:"",mirostat:"",mirostat_eta:"",mirostat_tau:"",top_k:"",top_p:"",stop:"",tfs_z:"",num_ctx:"",num_predict:""};const y=async()=>{p===""?t(5,p="json"):t(5,p=""),r({requestFormat:p!==""?p:void 0})};ut(async()=>{var M;let E=JSON.parse(localStorage.getItem("settings")??"{}");t(1,c=localStorage.theme??"dark"),t(2,h=E.notificationEnabled??!1),t(3,v=E.system??""),t(5,p=E.requestFormat??""),t(6,b=E.keepAlive??null),t(7,_.seed=E.seed??0,_),t(7,_.temperature=E.temperature??"",_),t(7,_.repeat_penalty=E.repeat_penalty??"",_),t(7,_.top_k=E.top_k??"",_),t(7,_.top_p=E.top_p??"",_),t(7,_.num_ctx=E.num_ctx??"",_),t(7,_={..._,...E.options}),t(7,_.stop=(((M=E==null?void 0:E.options)==null?void 0:M.stop)??[]).join(","),_)});function x(){c=bt(this),t(1,c)}const T=E=>{localStorage.theme=c,n.filter(M=>M!==c).forEach(M=>{M.split(" ").forEach(R=>{document.documentElement.classList.remove(R)})}),c.split(" ").forEach(M=>{document.documentElement.classList.add(M)}),console.log(c)},S=()=>{m()};function L(){v=this.value,t(3,v)}const N=()=>{t(4,g=!g)};function O(E){_=E,t(7,_)}const z=()=>{t(6,b=b===null?"5m":null)};function B(){b=this.value,t(6,b)}const j=()=>{y()},V=()=>{r({system:v!==""?v:void 0,options:{seed:(_.seed!==0?_.seed:void 0)??void 0,stop:_.stop!==""?_.stop.split(",").filter(E=>E):void 0,temperature:_.temperature!==""?_.temperature:void 0,repeat_penalty:_.repeat_penalty!==""?_.repeat_penalty:void 0,repeat_last_n:_.repeat_last_n!==""?_.repeat_last_n:void 0,mirostat:_.mirostat!==""?_.mirostat:void 0,mirostat_eta:_.mirostat_eta!==""?_.mirostat_eta:void 0,mirostat_tau:_.mirostat_tau!==""?_.mirostat_tau:void 0,top_k:_.top_k!==""?_.top_k:void 0,top_p:_.top_p!==""?_.top_p:void 0,tfs_z:_.tfs_z!==""?_.tfs_z:void 0,num_ctx:_.num_ctx!==""?_.num_ctx:void 0,num_predict:_.num_predict!==""?_.num_predict:void 0},keepAlive:b?isNaN(b)?b:parseInt(b):void 0}),l("save")};return s.$$set=E=>{"saveSettings"in E&&t(0,r=E.saveSettings),"getModels"in E&&t(12,i=E.getModels)},[r,c,h,v,g,p,b,_,l,n,m,y,i,x,T,S,L,N,O,z,B,j,V]}class oa extends at{constructor(e){super(),ot(this,e,aa,na,nt,{saveSettings:0,getModels:12})}}function Xl(s,e,t){const l=s.slice();return l[30]=e[t],l[31]=e,l[32]=t,l}function Ql(s,e,t){const l=s.slice();return l[33]=e[t],l}function ia(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function ca(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function ua(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function da(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function fa(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function ha(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function va(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function pa(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function $l(s){let e,t=s[33].name+" ("+(s[33].size/1073741824).toFixed(1)+" GB)",l,r,i;return{c(){e=u("option"),l=Me(t),r=C(),this.h()},l(n){e=d(n,"OPTION",{class:!0});var c=w(e);l=Ve(c,t),r=I(c),c.forEach(f),this.h()},h(){e.__value=i=s[33].name,ne(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(n,c){U(n,e,c),a(e,l),a(e,r)},p(n,c){c[0]&512&&t!==(t=n[33].name+" ("+(n[33].size/1024**3).toFixed(1)+" GB)")&&Ze(l,t),c[0]&512&&i!==(i=n[33].name)&&(e.__value=i,ne(e,e.__value))},d(n){n&&f(e)}}}function es(s){let e,t=s[33].size!=null&&$l(s);return{c(){t&&t.c(),e=lt()},l(l){t&&t.l(l),e=lt()},m(l,r){t&&t.m(l,r),U(l,e,r)},p(l,r){l[33].size!=null?t?t.p(l,r):(t=$l(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&f(e),t&&t.d(l)}}}function ts(s){let e,t,l,r,i,n="Default Prompt Suggestions",c,h,v='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"></path></svg>',g,m,p,b,_,y=Ne(s[6]),x=[];for(let S=0;S<y.length;S+=1)x[S]=ls(Xl(s,y,S));let T=s[6].length>0&&ss();return{c(){e=u("hr"),t=C(),l=u("div"),r=u("div"),i=u("div"),i.textContent=n,c=C(),h=u("button"),h.innerHTML=v,g=C(),m=u("div");for(let S=0;S<x.length;S+=1)x[S].c();p=C(),T&&T.c(),this.h()},l(S){e=d(S,"HR",{class:!0}),t=I(S),l=d(S,"DIV",{class:!0});var L=w(l);r=d(L,"DIV",{class:!0});var N=w(r);i=d(N,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-15m99z4"&&(i.textContent=n),c=I(N),h=d(N,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(h)!=="svelte-192kpg7"&&(h.innerHTML=v),N.forEach(f),g=I(L),m=d(L,"DIV",{class:!0});var O=w(m);for(let z=0;z<x.length;z+=1)x[z].l(O);O.forEach(f),p=I(L),T&&T.l(L),L.forEach(f),this.h()},h(){o(e,"class","dark:border-gray-700"),o(i,"class","self-center text-sm font-semibold"),o(h,"class","p-1 px-3 text-xs flex rounded transition"),o(h,"type","button"),o(r,"class","flex w-full justify-between mb-2"),o(m,"class","flex flex-col space-y-1"),o(l,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80")},m(S,L){U(S,e,L),U(S,t,L),U(S,l,L),a(l,r),a(r,i),a(r,c),a(r,h),a(l,g),a(l,m);for(let N=0;N<x.length;N+=1)x[N]&&x[N].m(m,null);a(l,p),T&&T.m(l,null),b||(_=J(h,"click",s[23]),b=!0)},p(S,L){if(L[0]&64){y=Ne(S[6]);let N;for(N=0;N<y.length;N+=1){const O=Xl(S,y,N);x[N]?x[N].p(O,L):(x[N]=ls(O),x[N].c(),x[N].m(m,null))}for(;N<x.length;N+=1)x[N].d(1);x.length=y.length}S[6].length>0?T||(T=ss(),T.c(),T.m(l,null)):T&&(T.d(1),T=null)},d(S){S&&(f(e),f(t),f(l)),st(x,S),T&&T.d(),b=!1,_()}}}function ls(s){let e,t,l,r,i,n,c,h,v,g,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',p,b,_;function y(){s[24].call(r,s[31],s[32])}function x(){s[25].call(n,s[31],s[32])}function T(){s[26].call(h,s[31],s[32])}function S(){return s[27](s[32])}return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("input"),i=C(),n=u("input"),c=C(),h=u("input"),v=C(),g=u("button"),g.innerHTML=m,p=C(),this.h()},l(L){e=d(L,"DIV",{class:!0});var N=w(e);t=d(N,"DIV",{class:!0});var O=w(t);l=d(O,"DIV",{class:!0});var z=w(l);r=d(z,"INPUT",{class:!0,placeholder:!0}),i=I(z),n=d(z,"INPUT",{class:!0,placeholder:!0}),z.forEach(f),c=I(O),h=d(O,"INPUT",{class:!0,placeholder:!0}),O.forEach(f),v=I(N),g=d(N,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(g)!=="svelte-1lkxdu6"&&(g.innerHTML=m),p=I(N),N.forEach(f),this.h()},h(){o(r,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(r,"placeholder","Title (e.g. Tell me a fun fact)"),o(n,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(n,"placeholder","Subtitle (e.g. about the Roman Empire)"),o(l,"class","flex border-b dark:border-gray-600 w-full"),o(h,"class","px-3 py-1.5 text-xs w-full bg-transparent outline-none border-r dark:border-gray-600"),o(h,"placeholder","Prompt (e.g. Tell me a fun fact about the Roman Empire)"),o(t,"class","flex flex-col flex-1"),o(g,"class","px-2"),o(g,"type","button"),o(e,"class","flex border dark:border-gray-600 rounded-lg")},m(L,N){U(L,e,N),a(e,t),a(t,l),a(l,r),ne(r,s[30].title[0]),a(l,i),a(l,n),ne(n,s[30].title[1]),a(t,c),a(t,h),ne(h,s[30].content),a(e,v),a(e,g),a(e,p),b||(_=[J(r,"input",y),J(n,"input",x),J(h,"input",T),J(g,"click",S)],b=!0)},p(L,N){s=L,N[0]&64&&r.value!==s[30].title[0]&&ne(r,s[30].title[0]),N[0]&64&&n.value!==s[30].title[1]&&ne(n,s[30].title[1]),N[0]&64&&h.value!==s[30].content&&ne(h,s[30].content)},d(L){L&&f(e),b=!1,ze(_)}}}function ss(s){let e,t="Adjusting these settings will apply changes universally to all users.";return{c(){e=u("div"),e.textContent=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-klrx3z"&&(e.textContent=t),this.h()},h(){o(e,"class","text-xs text-left w-full mt-2")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function ma(s){let e,t,l,r,i="WebUI Add-ons",n,c,h,v,g="Title Auto-Generation",m,p,b,_,y,x,T="Response AutoCopy to Clipboard",S,L,N,O,z,B,j="Full Screen Mode",V,E,M,R,W,H,k='Display the username instead of "You" in the Chat',D,q,A,F,X,Z,K,G="Set Title Auto-Generation Model",$,Q,Y,le,te,oe="Current Model",ce,fe,ge='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M13.836 2.477a.75.75 0 0 1 .75.75v3.182a.75.75 0 0 1-.75.75h-3.182a.75.75 0 0 1 0-1.5h1.37l-.84-.841a4.5 4.5 0 0 0-7.08.932.75.75 0 0 1-1.3-.75 6 6 0 0 1 9.44-1.242l.842.84V3.227a.75.75 0 0 1 .75-.75Zm-.911 7.5A.75.75 0 0 1 13.199 11a6 6 0 0 1-9.44 1.241l-.84-.84v1.371a.75.75 0 0 1-1.5 0V9.591a.75.75 0 0 1 .75-.75H5.35a.75.75 0 0 1 0 1.5H3.98l.841.841a4.5 4.5 0 0 0 7.08-.932.75.75 0 0 1 1.025-.273Z" clip-rule="evenodd"></path></svg>',ie,ye,ae,Le="Title Generation Prompt",Re,we,De,se,_e,Ce='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',Te,be;function xe(de,je){return de[1]===!0?ca:ia}let ve=xe(s),ee=ve(s);function ue(de,je){return de[2]===!0?da:ua}let ke=ue(s),pe=ke(s);function qe(de,je){return de[4]===!0?ha:fa}let Oe=qe(s),he=Oe(s);function re(de,je){return de[7]===!0?pa:va}let Ee=re(s),Ie=Ee(s),Ke=Ne(s[9]),Pe=[];for(let de=0;de<Ke.length;de+=1)Pe[de]=es(Ql(s,Ke,de));let me=s[8].role==="admin"&&ts(s);return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=C(),c=u("div"),h=u("div"),v=u("div"),v.textContent=g,m=C(),p=u("button"),ee.c(),b=C(),_=u("div"),y=u("div"),x=u("div"),x.textContent=T,S=C(),L=u("button"),pe.c(),N=C(),O=u("div"),z=u("div"),B=u("div"),B.textContent=j,V=C(),E=u("button"),he.c(),M=C(),R=u("div"),W=u("div"),H=u("div"),H.textContent=k,D=C(),q=u("button"),Ie.c(),A=C(),F=u("hr"),X=C(),Z=u("div"),K=u("div"),K.textContent=G,$=C(),Q=u("div"),Y=u("div"),le=u("select"),te=u("option"),te.textContent=oe;for(let de=0;de<Pe.length;de+=1)Pe[de].c();ce=C(),fe=u("button"),fe.innerHTML=ge,ie=C(),ye=u("div"),ae=u("div"),ae.textContent=Le,Re=C(),we=u("textarea"),De=C(),me&&me.c(),se=C(),_e=u("div"),_e.innerHTML=Ce,this.h()},l(de){e=d(de,"FORM",{class:!0});var je=w(e);t=d(je,"DIV",{class:!0});var Se=w(t);l=d(Se,"DIV",{});var He=w(l);r=d(He,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-1ei8vob"&&(r.textContent=i),n=I(He),c=d(He,"DIV",{});var mt=w(c);h=d(mt,"DIV",{class:!0});var rt=w(h);v=d(rt,"DIV",{class:!0,"data-svelte-h":!0}),P(v)!=="svelte-vxy2t7"&&(v.textContent=g),m=I(rt),p=d(rt,"BUTTON",{class:!0,type:!0});var dt=w(p);ee.l(dt),dt.forEach(f),rt.forEach(f),mt.forEach(f),b=I(He),_=d(He,"DIV",{});var gt=w(_);y=d(gt,"DIV",{class:!0});var ct=w(y);x=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),P(x)!=="svelte-15p4et1"&&(x.textContent=T),S=I(ct),L=d(ct,"BUTTON",{class:!0,type:!0});var ft=w(L);pe.l(ft),ft.forEach(f),ct.forEach(f),gt.forEach(f),N=I(He),O=d(He,"DIV",{});var Ct=w(O);z=d(Ct,"DIV",{class:!0});var Nt=w(z);B=d(Nt,"DIV",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-eh80kt"&&(B.textContent=j),V=I(Nt),E=d(Nt,"BUTTON",{class:!0,type:!0});var vl=w(E);he.l(vl),vl.forEach(f),Nt.forEach(f),Ct.forEach(f),M=I(He),R=d(He,"DIV",{});var pl=w(R);W=d(pl,"DIV",{class:!0});var Pt=w(W);H=d(Pt,"DIV",{class:!0,"data-svelte-h":!0}),P(H)!=="svelte-hq3tpb"&&(H.textContent=k),D=I(Pt),q=d(Pt,"BUTTON",{class:!0,type:!0});var ml=w(q);Ie.l(ml),ml.forEach(f),Pt.forEach(f),pl.forEach(f),He.forEach(f),A=I(Se),F=d(Se,"HR",{class:!0}),X=I(Se),Z=d(Se,"DIV",{});var Mt=w(Z);K=d(Mt,"DIV",{class:!0,"data-svelte-h":!0}),P(K)!=="svelte-6mvwtw"&&(K.textContent=G),$=I(Mt),Q=d(Mt,"DIV",{class:!0});var jt=w(Q);Y=d(jt,"DIV",{class:!0});var gl=w(Y);le=d(gl,"SELECT",{class:!0,placeholder:!0});var Gt=w(le);te=d(Gt,"OPTION",{"data-svelte-h":!0}),P(te)!=="svelte-14zk1i5"&&(te.textContent=oe);for(let Wt=0;Wt<Pe.length;Wt+=1)Pe[Wt].l(Gt);Gt.forEach(f),gl.forEach(f),ce=I(jt),fe=d(jt,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(fe)!=="svelte-1dcdnsb"&&(fe.innerHTML=ge),jt.forEach(f),ie=I(Mt),ye=d(Mt,"DIV",{class:!0});var Ut=w(ye);ae=d(Ut,"DIV",{class:!0,"data-svelte-h":!0}),P(ae)!=="svelte-1lfupt"&&(ae.textContent=Le),Re=I(Ut),we=d(Ut,"TEXTAREA",{class:!0,rows:!0}),w(we).forEach(f),Ut.forEach(f),Mt.forEach(f),De=I(Se),me&&me.l(Se),Se.forEach(f),se=I(je),_e=d(je,"DIV",{class:!0,"data-svelte-h":!0}),P(_e)!=="svelte-1w4736w"&&(_e.innerHTML=Ce),je.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(v,"class","self-center text-xs font-medium"),o(p,"class","p-1 px-3 text-xs flex rounded transition"),o(p,"type","button"),o(h,"class","py-0.5 flex w-full justify-between"),o(x,"class","self-center text-xs font-medium"),o(L,"class","p-1 px-3 text-xs flex rounded transition"),o(L,"type","button"),o(y,"class","py-0.5 flex w-full justify-between"),o(B,"class","self-center text-xs font-medium"),o(E,"class","p-1 px-3 text-xs flex rounded transition"),o(E,"type","button"),o(z,"class","py-0.5 flex w-full justify-between"),o(H,"class","self-center text-xs font-medium"),o(q,"class","p-1 px-3 text-xs flex rounded transition"),o(q,"type","button"),o(W,"class","py-0.5 flex w-full justify-between"),o(F,"class","dark:border-gray-700"),o(K,"class","mb-2.5 text-sm font-medium"),te.__value="",ne(te,te.__value),te.selected=!0,o(le,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(le,"placeholder","Select a model"),s[3]===void 0&&pt(()=>s[20].call(le)),o(Y,"class","flex-1 mr-2"),o(fe,"class","px-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-800 dark:text-gray-100 rounded transition"),o(fe,"type","button"),o(Q,"class","flex w-full"),o(ae,"class","mb-2.5 text-sm font-medium"),o(we,"class","w-full rounded p-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none resize-none"),o(we,"rows","3"),o(ye,"class","mt-3"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll h-80"),o(_e,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(de,je){U(de,e,je),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(h,v),a(h,m),a(h,p),ee.m(p,null),a(l,b),a(l,_),a(_,y),a(y,x),a(y,S),a(y,L),pe.m(L,null),a(l,N),a(l,O),a(O,z),a(z,B),a(z,V),a(z,E),he.m(E,null),a(l,M),a(l,R),a(R,W),a(W,H),a(W,D),a(W,q),Ie.m(q,null),a(t,A),a(t,F),a(t,X),a(t,Z),a(Z,K),a(Z,$),a(Z,Q),a(Q,Y),a(Y,le),a(le,te);for(let Se=0;Se<Pe.length;Se+=1)Pe[Se]&&Pe[Se].m(le,null);tt(le,s[3],!0),a(Q,ce),a(Q,fe),a(Z,ie),a(Z,ye),a(ye,ae),a(ye,Re),a(ye,we),ne(we,s[5]),a(t,De),me&&me.m(t,null),a(e,se),a(e,_e),Te||(be=[J(p,"click",s[16]),J(L,"click",s[17]),J(E,"click",s[18]),J(q,"click",s[19]),J(le,"change",s[20]),J(fe,"click",s[21]),J(we,"input",s[22]),J(e,"submit",At(s[28]))],Te=!0)},p(de,je){if(ve!==(ve=xe(de))&&(ee.d(1),ee=ve(de),ee&&(ee.c(),ee.m(p,null))),ke!==(ke=ue(de))&&(pe.d(1),pe=ke(de),pe&&(pe.c(),pe.m(L,null))),Oe!==(Oe=qe(de))&&(he.d(1),he=Oe(de),he&&(he.c(),he.m(E,null))),Ee!==(Ee=re(de))&&(Ie.d(1),Ie=Ee(de),Ie&&(Ie.c(),Ie.m(q,null))),je[0]&512){Ke=Ne(de[9]);let Se;for(Se=0;Se<Ke.length;Se+=1){const He=Ql(de,Ke,Se);Pe[Se]?Pe[Se].p(He,je):(Pe[Se]=es(He),Pe[Se].c(),Pe[Se].m(le,null))}for(;Se<Pe.length;Se+=1)Pe[Se].d(1);Pe.length=Ke.length}je[0]&520&&tt(le,de[3]),je[0]&32&&ne(we,de[5]),de[8].role==="admin"?me?me.p(de,je):(me=ts(de),me.c(),me.m(t,null)):me&&(me.d(1),me=null)},i:Ae,o:Ae,d(de){de&&f(e),ee.d(),pe.d(),he.d(),Ie.d(),st(Pe,de),me&&me.d(),Te=!1,ze(be)}}}function ga(s,e,t){let l,r,i;Ye(s,Ot,q=>t(29,l=q)),Ye(s,wt,q=>t(8,r=q)),Ye(s,ht,q=>t(9,i=q));const n=Bt();let{saveSettings:c}=e,h=!0,v=!1,g="",m=!1,p="",b=[],_=!1;const y=async()=>{t(4,m=!m),c({fullScreenMode:m})},x=async()=>{t(7,_=!_),c({showUsername:_})},T=async()=>{t(1,h=!h),c({titleAutoGenerate:h})},S=async()=>{const q=await navigator.clipboard.readText().then(()=>"granted").catch(()=>"");console.log(q),q==="granted"?(t(2,v=!v),c({responseAutoCopy:v})):Be.error("Clipboard write permission denied. Please check your browser settings to grant the necessary access.")},L=async()=>{r.role==="admin"&&(t(6,b=await kr(localStorage.token,b)),await Ot.set(await Qs())),c({titleGenerationPrompt:p||void 0})};ut(async()=>{r.role==="admin"&&t(6,b=l==null?void 0:l.default_prompt_suggestions);let q=JSON.parse(localStorage.getItem("settings")??"{}");t(1,h=q.titleAutoGenerate??!0),t(2,v=q.responseAutoCopy??!1),t(7,_=q.showUsername??!1),t(4,m=q.fullScreenMode??!1),t(3,g=q.titleAutoGenerateModel??""),t(5,p=q.titleGenerationPrompt??"Create a concise, 3-5 word phrase as a header for the following query, strictly adhering to the 3-5 word limit and avoiding the use of the word 'title': {{prompt}}")});const N=()=>{T()},O=()=>{S()},z=()=>{y()},B=()=>{x()};function j(){g=bt(this),t(3,g)}const V=()=>{c({titleAutoGenerateModel:g!==""?g:void 0})};function E(){p=this.value,t(5,p)}const M=()=>{(b.length===0||b.at(-1).content!=="")&&t(6,b=[...b,{content:"",title:["",""]}])};function R(q,A){q[A].title[0]=this.value,t(6,b)}function W(q,A){q[A].title[1]=this.value,t(6,b)}function H(q,A){q[A].content=this.value,t(6,b)}const k=q=>{b.splice(q,1),t(6,b)},D=()=>{L(),n("save")};return s.$$set=q=>{"saveSettings"in q&&t(0,c=q.saveSettings)},[c,h,v,g,m,p,b,_,r,i,n,y,x,T,S,L,N,O,z,B,j,V,E,M,R,W,H,k,D]}class _a extends at{constructor(e){super(),ot(this,e,ga,ma,nt,{saveSettings:0},null,[-1,-1])}}function rs(s,e,t){const l=s.slice();return l[26]=e[t],l}function ns(s,e,t){const l=s.slice();return l[26]=e[t],l}function ba(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function wa(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function ya(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function xa(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function ka(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function Ca(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function Ia(s){let e,t,l="Set Voice",r,i,n,c,h,v,g=Ne(s[6]),m=[];for(let p=0;p<g.length;p+=1)m[p]=as(rs(s,g,p));return{c(){e=u("div"),t=u("div"),t.textContent=l,r=C(),i=u("div"),n=u("div"),c=u("select");for(let p=0;p<m.length;p+=1)m[p].c();this.h()},l(p){e=d(p,"DIV",{});var b=w(e);t=d(b,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1saas11"&&(t.textContent=l),r=I(b),i=d(b,"DIV",{class:!0});var _=w(i);n=d(_,"DIV",{class:!0});var y=w(n);c=d(y,"SELECT",{class:!0,placeholder:!0});var x=w(c);for(let T=0;T<m.length;T+=1)m[T].l(x);x.forEach(f),y.forEach(f),_.forEach(f),b.forEach(f),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),o(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(c,"placeholder","Select a voice"),s[7]===void 0&&pt(()=>s[22].call(c)),o(n,"class","flex-1"),o(i,"class","flex w-full")},m(p,b){U(p,e,b),a(e,t),a(e,r),a(e,i),a(i,n),a(n,c);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(c,null);tt(c,s[7],!0),h||(v=J(c,"change",s[22]),h=!0)},p(p,b){if(b&64){g=Ne(p[6]);let _;for(_=0;_<g.length;_+=1){const y=rs(p,g,_);m[_]?m[_].p(y,b):(m[_]=as(y),m[_].c(),m[_].m(c,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=g.length}b&192&&tt(c,p[7])},d(p){p&&f(e),st(m,p),h=!1,v()}}}function Ta(s){let e,t,l="Set Voice",r,i,n,c,h,v="Default",g,m,p=Ne(s[6].filter(is)),b=[];for(let _=0;_<p.length;_+=1)b[_]=os(ns(s,p,_));return{c(){e=u("div"),t=u("div"),t.textContent=l,r=C(),i=u("div"),n=u("div"),c=u("select"),h=u("option"),h.textContent=v;for(let _=0;_<b.length;_+=1)b[_].c();this.h()},l(_){e=d(_,"DIV",{});var y=w(e);t=d(y,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1saas11"&&(t.textContent=l),r=I(y),i=d(y,"DIV",{class:!0});var x=w(i);n=d(x,"DIV",{class:!0});var T=w(n);c=d(T,"SELECT",{class:!0,placeholder:!0});var S=w(c);h=d(S,"OPTION",{"data-svelte-h":!0}),P(h)!=="svelte-19tv5vy"&&(h.textContent=v);for(let L=0;L<b.length;L+=1)b[L].l(S);S.forEach(f),T.forEach(f),x.forEach(f),y.forEach(f),this.h()},h(){o(t,"class","mb-2.5 text-sm font-medium"),h.__value="",ne(h,h.__value),h.selected=!0,o(c,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(c,"placeholder","Select a voice"),s[7]===void 0&&pt(()=>s[21].call(c)),o(n,"class","flex-1"),o(i,"class","flex w-full")},m(_,y){U(_,e,y),a(e,t),a(e,r),a(e,i),a(i,n),a(n,c),a(c,h);for(let x=0;x<b.length;x+=1)b[x]&&b[x].m(c,null);tt(c,s[7],!0),g||(m=J(c,"change",s[21]),g=!0)},p(_,y){if(y&64){p=Ne(_[6].filter(is));let x;for(x=0;x<p.length;x+=1){const T=ns(_,p,x);b[x]?b[x].p(T,y):(b[x]=os(T),b[x].c(),b[x].m(c,null))}for(;x<b.length;x+=1)b[x].d(1);b.length=p.length}y&192&&tt(c,_[7])},d(_){_&&f(e),st(b,_),g=!1,m()}}}function as(s){let e,t=s[26].name+"",l,r;return{c(){e=u("option"),l=Me(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=w(e);l=Ve(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[26].name,ne(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){U(i,e,n),a(e,l)},p(i,n){n&64&&t!==(t=i[26].name+"")&&Ze(l,t),n&64&&r!==(r=i[26].name)&&(e.__value=r,ne(e,e.__value))},d(i){i&&f(e)}}}function os(s){let e,t=s[26].name+"",l,r;return{c(){e=u("option"),l=Me(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=w(e);l=Ve(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[26].name,ne(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){U(i,e,n),a(e,l)},p(i,n){n&64&&t!==(t=i[26].name+"")&&Ze(l,t),n&64&&r!==(r=i[26].name)&&(e.__value=r,ne(e,e.__value))},d(i){i&&f(e)}}}function Ea(s){let e,t,l,r,i="STT Settings",n,c,h,v="Speech-to-Text Engine",g,m,p,b,_="Default (Web API)",y,x="Whisper (Local)",T,S,L,N="Conversation Mode",O,z,B,j,V,E="Auto-send input after 3 sec.",M,R,W,H,k,D="TTS Settings",q,A,F,X="Text-to-Speech Engine",Z,K,G,$,Q="Default (Web API)",Y,le="Open AI",te,oe,ce,fe="Auto-playback response",ge,ie,ye,ae,Le,Re,we,De='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',se,_e;function Ce(re,Ee){return re[2]===!0?wa:ba}let Te=Ce(s),be=Te(s);function xe(re,Ee){return re[3]===!0?xa:ya}let ve=xe(s),ee=ve(s);function ue(re,Ee){return re[4]===!0?Ca:ka}let ke=ue(s),pe=ke(s);function qe(re,Ee){if(re[5]==="")return Ta;if(re[5]==="openai")return Ia}let Oe=qe(s),he=Oe&&Oe(s);return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=C(),c=u("div"),h=u("div"),h.textContent=v,g=C(),m=u("div"),p=u("select"),b=u("option"),b.textContent=_,y=u("option"),y.textContent=x,T=C(),S=u("div"),L=u("div"),L.textContent=N,O=C(),z=u("button"),be.c(),B=C(),j=u("div"),V=u("div"),V.textContent=E,M=C(),R=u("button"),ee.c(),W=C(),H=u("div"),k=u("div"),k.textContent=D,q=C(),A=u("div"),F=u("div"),F.textContent=X,Z=C(),K=u("div"),G=u("select"),$=u("option"),$.textContent=Q,Y=u("option"),Y.textContent=le,te=C(),oe=u("div"),ce=u("div"),ce.textContent=fe,ge=C(),ie=u("button"),pe.c(),ye=C(),ae=u("hr"),Le=C(),he&&he.c(),Re=C(),we=u("div"),we.innerHTML=De,this.h()},l(re){e=d(re,"FORM",{class:!0});var Ee=w(e);t=d(Ee,"DIV",{class:!0});var Ie=w(t);l=d(Ie,"DIV",{});var Ke=w(l);r=d(Ke,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-diomsv"&&(r.textContent=i),n=I(Ke),c=d(Ke,"DIV",{class:!0});var Pe=w(c);h=d(Pe,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1grxly3"&&(h.textContent=v),g=I(Pe),m=d(Pe,"DIV",{class:!0});var me=w(m);p=d(me,"SELECT",{class:!0,placeholder:!0});var de=w(p);b=d(de,"OPTION",{"data-svelte-h":!0}),P(b)!=="svelte-58m1fs"&&(b.textContent=_),y=d(de,"OPTION",{"data-svelte-h":!0}),P(y)!=="svelte-11bx7je"&&(y.textContent=x),de.forEach(f),me.forEach(f),Pe.forEach(f),T=I(Ke),S=d(Ke,"DIV",{class:!0});var je=w(S);L=d(je,"DIV",{class:!0,"data-svelte-h":!0}),P(L)!=="svelte-149a4jz"&&(L.textContent=N),O=I(je),z=d(je,"BUTTON",{class:!0,type:!0});var Se=w(z);be.l(Se),Se.forEach(f),je.forEach(f),B=I(Ke),j=d(Ke,"DIV",{class:!0});var He=w(j);V=d(He,"DIV",{class:!0,"data-svelte-h":!0}),P(V)!=="svelte-1s78n2z"&&(V.textContent=E),M=I(He),R=d(He,"BUTTON",{class:!0,type:!0});var mt=w(R);ee.l(mt),mt.forEach(f),He.forEach(f),Ke.forEach(f),W=I(Ie),H=d(Ie,"DIV",{});var rt=w(H);k=d(rt,"DIV",{class:!0,"data-svelte-h":!0}),P(k)!=="svelte-1hgogbz"&&(k.textContent=D),q=I(rt),A=d(rt,"DIV",{class:!0});var dt=w(A);F=d(dt,"DIV",{class:!0,"data-svelte-h":!0}),P(F)!=="svelte-1c62htf"&&(F.textContent=X),Z=I(dt),K=d(dt,"DIV",{class:!0});var gt=w(K);G=d(gt,"SELECT",{class:!0,placeholder:!0});var ct=w(G);$=d(ct,"OPTION",{"data-svelte-h":!0}),P($)!=="svelte-58m1fs"&&($.textContent=Q),Y=d(ct,"OPTION",{"data-svelte-h":!0}),P(Y)!=="svelte-12xvqcc"&&(Y.textContent=le),ct.forEach(f),gt.forEach(f),dt.forEach(f),te=I(rt),oe=d(rt,"DIV",{class:!0});var ft=w(oe);ce=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),P(ce)!=="svelte-lkaxwt"&&(ce.textContent=fe),ge=I(ft),ie=d(ft,"BUTTON",{class:!0,type:!0});var Ct=w(ie);pe.l(Ct),Ct.forEach(f),ft.forEach(f),rt.forEach(f),ye=I(Ie),ae=d(Ie,"HR",{class:!0}),Le=I(Ie),he&&he.l(Ie),Ie.forEach(f),Re=I(Ee),we=d(Ee,"DIV",{class:!0,"data-svelte-h":!0}),P(we)!=="svelte-1w4736w"&&(we.innerHTML=De),Ee.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(h,"class","self-center text-xs font-medium"),b.__value="",ne(b,b.__value),y.__value="whisper-local",ne(y,y.__value),o(p,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(p,"placeholder","Select a mode"),s[1]===void 0&&pt(()=>s[14].call(p)),o(m,"class","flex items-center relative"),o(c,"class","py-0.5 flex w-full justify-between"),o(L,"class","self-center text-xs font-medium"),o(z,"class","p-1 px-3 text-xs flex rounded transition"),o(z,"type","button"),o(S,"class","py-0.5 flex w-full justify-between"),o(V,"class","self-center text-xs font-medium"),o(R,"class","p-1 px-3 text-xs flex rounded transition"),o(R,"type","button"),o(j,"class","py-0.5 flex w-full justify-between"),o(k,"class","mb-1 text-sm font-medium"),o(F,"class","self-center text-xs font-medium"),$.__value="",ne($,$.__value),Y.__value="openai",ne(Y,Y.__value),o(G,"class","w-fit pr-8 rounded px-2 p-1 text-xs bg-transparent outline-none text-right"),o(G,"placeholder","Select a mode"),s[5]===void 0&&pt(()=>s[18].call(G)),o(K,"class","flex items-center relative"),o(A,"class","py-0.5 flex w-full justify-between"),o(ce,"class","self-center text-xs font-medium"),o(ie,"class","p-1 px-3 text-xs flex rounded transition"),o(ie,"type","button"),o(oe,"class","py-0.5 flex w-full justify-between"),o(ae,"class","dark:border-gray-700"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),o(we,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(re,Ee){U(re,e,Ee),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(c,g),a(c,m),a(m,p),a(p,b),a(p,y),tt(p,s[1],!0),a(l,T),a(l,S),a(S,L),a(S,O),a(S,z),be.m(z,null),a(l,B),a(l,j),a(j,V),a(j,M),a(j,R),ee.m(R,null),a(t,W),a(t,H),a(H,k),a(H,q),a(H,A),a(A,F),a(A,Z),a(A,K),a(K,G),a(G,$),a(G,Y),tt(G,s[5],!0),a(H,te),a(H,oe),a(oe,ce),a(oe,ge),a(oe,ie),pe.m(ie,null),a(t,ye),a(t,ae),a(t,Le),he&&he.m(t,null),a(e,Re),a(e,we),se||(_e=[J(p,"change",s[14]),J(p,"change",s[15]),J(z,"click",s[16]),J(R,"click",s[17]),J(G,"change",s[18]),J(G,"change",s[19]),J(ie,"click",s[20]),J(e,"submit",At(s[23]))],se=!0)},p(re,[Ee]){Ee&2&&tt(p,re[1]),Te!==(Te=Ce(re))&&(be.d(1),be=Te(re),be&&(be.c(),be.m(z,null))),ve!==(ve=xe(re))&&(ee.d(1),ee=ve(re),ee&&(ee.c(),ee.m(R,null))),Ee&32&&tt(G,re[5]),ke!==(ke=ue(re))&&(pe.d(1),pe=ke(re),pe&&(pe.c(),pe.m(ie,null))),Oe===(Oe=qe(re))&&he?he.p(re,Ee):(he&&he.d(1),he=Oe&&Oe(re),he&&(he.c(),he.m(t,null)))},i:Ae,o:Ae,d(re){re&&f(e),be.d(),ee.d(),pe.d(),he&&he.d(),se=!1,ze(_e)}}}const is=s=>s.localService===!0;function Da(s,e,t){const l=Bt();let{saveSettings:r}=e,i="",n=!1,c=!1,h=!1,v="",g=[],m="";const p=()=>{t(6,g=[{name:"alloy"},{name:"echo"},{name:"fable"},{name:"onyx"},{name:"nova"},{name:"shimmer"}])},b=()=>{const M=setInterval(async()=>{t(6,g=await speechSynthesis.getVoices()),g.length>0&&clearInterval(M)},100)},_=async()=>{t(2,n=!n),n&&(t(4,h=!0),t(3,c=!0)),r({conversationMode:n,responseAutoPlayback:h,speechAutoSend:c})},y=async()=>{t(4,h=!h),r({responseAutoPlayback:h})},x=async()=>{t(3,c=!c),r({speechAutoSend:c})};ut(async()=>{var R,W,H;let M=JSON.parse(localStorage.getItem("settings")??"{}");t(2,n=M.conversationMode??!1),t(3,c=M.speechAutoSend??!1),t(4,h=M.responseAutoPlayback??!1),t(1,i=((R=M==null?void 0:M.audio)==null?void 0:R.STTEngine)??""),t(5,v=((W=M==null?void 0:M.audio)==null?void 0:W.TTSEngine)??""),t(7,m=((H=M==null?void 0:M.audio)==null?void 0:H.speaker)??""),v==="openai"?p():b()});function T(){i=bt(this),t(1,i)}const S=M=>{M.target.value!==""&&navigator.mediaDevices.getUserMedia({audio:!0}).catch(function(R){Be.error(`Permission denied when accessing microphone: ${R}`),t(1,i="")})},L=()=>{_()},N=()=>{x()};function O(){v=bt(this),t(5,v)}const z=M=>{M.target.value==="openai"?(p(),t(7,m="alloy")):(b(),t(7,m=""))},B=()=>{y()};function j(){m=bt(this),t(7,m),t(6,g)}function V(){m=bt(this),t(7,m),t(6,g)}const E=()=>{r({audio:{STTEngine:i!==""?i:void 0,TTSEngine:v!==""?v:void 0,speaker:m!==""?m:void 0}}),l("save")};return s.$$set=M=>{"saveSettings"in M&&t(0,r=M.saveSettings)},[r,i,n,c,h,v,g,m,l,p,b,_,y,x,T,S,L,N,O,z,B,j,V,E]}class Ma extends at{constructor(e){super(),ot(this,e,Da,Ea,nt,{saveSettings:0})}}function Va(s){let e,t,l,r,i,n="Off";return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),r=C(),i=u("span"),i.textContent=n,this.h()},l(c){e=Je(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var h=w(e);t=Je(h,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(t).forEach(f),l=Je(h,"path",{d:!0}),w(l).forEach(f),h.forEach(f),r=I(c),i=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-1u2ztdm"&&(i.textContent=n),this.h()},h(){o(t,"fill-rule","evenodd"),o(t,"d","M3.28 2.22a.75.75 0 0 0-1.06 1.06l10.5 10.5a.75.75 0 1 0 1.06-1.06l-1.322-1.323a7.012 7.012 0 0 0 2.16-3.11.87.87 0 0 0 0-.567A7.003 7.003 0 0 0 4.82 3.76l-1.54-1.54Zm3.196 3.195 1.135 1.136A1.502 1.502 0 0 1 9.45 8.389l1.136 1.135a3 3 0 0 0-4.109-4.109Z"),o(t,"clip-rule","evenodd"),o(l,"d","m7.812 10.994 1.816 1.816A7.003 7.003 0 0 1 1.38 8.28a.87.87 0 0 1 0-.566 6.985 6.985 0 0 1 1.113-2.039l2.513 2.513a3 3 0 0 0 2.806 2.806Z"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(i,"class","ml-2 self-center")},m(c,h){U(c,e,h),a(e,t),a(e,l),U(c,r,h),U(c,i,h)},d(c){c&&(f(e),f(r),f(i))}}}function La(s){let e,t,l,r,i,n="On";return{c(){e=Fe("svg"),t=Fe("path"),l=Fe("path"),r=C(),i=u("span"),i.textContent=n,this.h()},l(c){e=Je(c,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var h=w(e);t=Je(h,"path",{d:!0}),w(t).forEach(f),l=Je(h,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),w(l).forEach(f),h.forEach(f),r=I(c),i=d(c,"SPAN",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-1abjn3m"&&(i.textContent=n),this.h()},h(){o(t,"d","M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"),o(l,"fill-rule","evenodd"),o(l,"d","M1.38 8.28a.87.87 0 0 1 0-.566 7.003 7.003 0 0 1 13.238.006.87.87 0 0 1 0 .566A7.003 7.003 0 0 1 1.379 8.28ZM11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"),o(l,"clip-rule","evenodd"),o(e,"xmlns","http://www.w3.org/2000/svg"),o(e,"viewBox","0 0 16 16"),o(e,"fill","currentColor"),o(e,"class","w-4 h-4"),o(i,"class","ml-2 self-center")},m(c,h){U(c,e,h),a(e,t),a(e,l),U(c,r,h),U(c,i,h)},d(c){c&&(f(e),f(r),f(i))}}}function Aa(s){let e,t='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm7 7a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1 0-1.5h4.5A.75.75 0 0 1 11 9Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Delete Chats</div>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-ki3yy5"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(i,n){U(i,e,n),l||(r=J(e,"click",s[17]),l=!0)},p:Ae,d(i){i&&f(e),l=!1,r()}}}function Sa(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM5.72 7.47a.75.75 0 0 1 1.06 0L8 8.69l1.22-1.22a.75.75 0 1 1 1.06 1.06L9.06 9.75l1.22 1.22a.75.75 0 1 1-1.06 1.06L8 10.81l-1.22 1.22a.75.75 0 0 1-1.06-1.06l1.22-1.22-1.22-1.22a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd"></path></svg> <span>Are you sure?</span>',r,i,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',h,v,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,p;return{c(){e=u("div"),t=u("div"),t.innerHTML=l,r=C(),i=u("div"),n=u("button"),n.innerHTML=c,h=C(),v=u("button"),v.innerHTML=g,this.h()},l(b){e=d(b,"DIV",{class:!0});var _=w(e);t=d(_,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1l0gtox"&&(t.innerHTML=l),r=I(_),i=d(_,"DIV",{class:!0});var y=w(i);n=d(y,"BUTTON",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-1yl80nf"&&(n.innerHTML=c),h=I(y),v=d(y,"BUTTON",{class:!0,"data-svelte-h":!0}),P(v)!=="svelte-7i2l1r"&&(v.innerHTML=g),y.forEach(f),_.forEach(f),this.h()},h(){o(t,"class","flex items-center space-x-3"),o(n,"class","hover:text-white transition"),o(v,"class","hover:text-white transition"),o(i,"class","flex space-x-1.5 items-center"),o(e,"class","flex justify-between rounded-md items-center py-2 px-3.5 w-full transition")},m(b,_){U(b,e,_),a(e,t),a(e,r),a(e,i),a(i,n),a(i,h),a(i,v),m||(p=[J(n,"click",s[15]),J(v,"click",s[16])],m=!0)},p:Ae,d(b){b&&f(e),m=!1,ze(p)}}}function cs(s){let e,t,l,r='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M2 3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3Z"></path><path fill-rule="evenodd" d="M13 6H3v6a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V6ZM8.75 7.75a.75.75 0 0 0-1.5 0v2.69L6.03 9.22a.75.75 0 0 0-1.06 1.06l2.5 2.5a.75.75 0 0 0 1.06 0l2.5-2.5a.75.75 0 1 0-1.06-1.06l-1.22 1.22V7.75Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Export All Chats (All Users)</div>',i,n,c,h,v='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M3.5 2A1.5 1.5 0 0 0 2 3.5v9A1.5 1.5 0 0 0 3.5 14h9a1.5 1.5 0 0 0 1.5-1.5v-7A1.5 1.5 0 0 0 12.5 4H9.621a1.5 1.5 0 0 1-1.06-.44L7.439 2.44A1.5 1.5 0 0 0 6.38 2H3.5Zm6.75 7.75a.75.75 0 0 0 0-1.5h-4.5a.75.75 0 0 0 0 1.5h4.5Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Reset Vector Storage</div>',g,m;return{c(){e=u("hr"),t=C(),l=u("button"),l.innerHTML=r,i=C(),n=u("hr"),c=C(),h=u("button"),h.innerHTML=v,this.h()},l(p){e=d(p,"HR",{class:!0}),t=I(p),l=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1qd63nu"&&(l.innerHTML=r),i=I(p),n=d(p,"HR",{class:!0}),c=I(p),h=d(p,"BUTTON",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1v9vp97"&&(h.innerHTML=v),this.h()},h(){o(e,"class","dark:border-gray-700"),o(l,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(n,"class","dark:border-gray-700"),o(h,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition")},m(p,b){U(p,e,b),U(p,t,b),U(p,l,b),U(p,i,b),U(p,n,b),U(p,c,b),U(p,h,b),g||(m=[J(l,"click",s[18]),J(h,"click",s[19])],g=!0)},p:Ae,d(p){p&&(f(e),f(t),f(l),f(i),f(n),f(c),f(h)),g=!1,ze(m)}}}function Oa(s){var X;let e,t,l,r,i,n="Chat History",c,h,v,g,m="This setting does not sync across browsers or devices.",p,b,_,y,x,T,S,L='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Import Chats</div>',N,O,z='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg></div> <div class="self-center text-sm font-medium">Export Chats</div>',B,j,V,E,M,R;function W(Z,K){return Z[1]===!0?La:Va}let H=W(s),k=H(s);function D(Z,K){return Z[2]?Sa:Aa}let q=D(s),A=q(s),F=((X=s[4])==null?void 0:X.role)==="admin"&&cs(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.textContent=n,c=C(),h=u("button"),k.c(),v=C(),g=u("div"),g.textContent=m,p=C(),b=u("hr"),_=C(),y=u("div"),x=u("input"),T=C(),S=u("button"),S.innerHTML=L,N=C(),O=u("button"),O.innerHTML=z,B=C(),j=u("hr"),V=C(),A.c(),E=C(),F&&F.c(),this.h()},l(Z){e=d(Z,"DIV",{class:!0});var K=w(e);t=d(K,"DIV",{class:!0});var G=w(t);l=d(G,"DIV",{class:!0});var $=w(l);r=d($,"DIV",{class:!0});var Q=w(r);i=d(Q,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-o25mcc"&&(i.textContent=n),c=I(Q),h=d(Q,"BUTTON",{class:!0,type:!0});var Y=w(h);k.l(Y),Y.forEach(f),Q.forEach(f),v=I($),g=d($,"DIV",{class:!0,"data-svelte-h":!0}),P(g)!=="svelte-gmdy2e"&&(g.textContent=m),$.forEach(f),p=I(G),b=d(G,"HR",{class:!0}),_=I(G),y=d(G,"DIV",{class:!0});var le=w(y);x=d(le,"INPUT",{id:!0,type:!0,accept:!0}),T=I(le),S=d(le,"BUTTON",{class:!0,"data-svelte-h":!0}),P(S)!=="svelte-9mcypd"&&(S.innerHTML=L),N=I(le),O=d(le,"BUTTON",{class:!0,"data-svelte-h":!0}),P(O)!=="svelte-ki8nm3"&&(O.innerHTML=z),le.forEach(f),B=I(G),j=d(G,"HR",{class:!0}),V=I(G),A.l(G),E=I(G),F&&F.l(G),G.forEach(f),K.forEach(f),this.h()},h(){o(i,"class","self-center text-sm font-medium"),o(h,"class","p-1 px-3 text-xs flex rounded transition"),o(h,"type","button"),o(r,"class","flex w-full justify-between"),o(g,"class","text-xs text-left w-full font-medium mt-0.5"),o(l,"class","flex flex-col justify-between rounded-md items-center py-2 px-3.5 w-full transition"),o(b,"class","dark:border-gray-700"),o(x,"id","chat-import-input"),o(x,"type","file"),o(x,"accept",".json"),x.hidden=!0,o(S,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(O,"class","flex rounded-md py-2 px-3.5 w-full hover:bg-gray-200 dark:hover:bg-gray-800 transition"),o(y,"class","flex flex-col"),o(j,"class","dark:border-gray-700"),o(t,"class","space-y-2"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Z,K){U(Z,e,K),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),k.m(h,null),a(l,v),a(l,g),a(t,p),a(t,b),a(t,_),a(t,y),a(y,x),s[11](x),a(y,T),a(y,S),a(y,N),a(y,O),a(t,B),a(t,j),a(t,V),A.m(t,null),a(t,E),F&&F.m(t,null),M||(R=[J(h,"click",s[10]),J(x,"change",s[12]),J(S,"click",s[13]),J(O,"click",s[14])],M=!0)},p(Z,[K]){var G;H!==(H=W(Z))&&(k.d(1),k=H(Z),k&&(k.c(),k.m(h,null))),q===(q=D(Z))&&A?A.p(Z,K):(A.d(1),A=q(Z),A&&(A.c(),A.m(t,E))),((G=Z[4])==null?void 0:G.role)==="admin"?F?F.p(Z,K):(F=cs(Z),F.c(),F.m(t,null)):F&&(F.d(1),F=null)},i:Ae,o:Ae,d(Z){Z&&f(e),k.d(),s[11](null),A.d(),F&&F.d(),M=!1,ze(R)}}}function Ha(s,e,t){let l;Ye(s,wt,V=>t(4,l=V));const{saveAs:r}=Gs;let{saveSettings:i}=e,n=!0,c,h=!1,v;const g=async V=>{for(const E of V)console.log(E),E.chat?await yl(localStorage.token,E.chat):await yl(localStorage.token,E);await yt.set(await It(localStorage.token))},m=async()=>{let V=new Blob([JSON.stringify(await Cr(localStorage.token))],{type:"application/json"});r(V,`chat-export-${Date.now()}.json`)},p=async()=>{let V=new Blob([JSON.stringify(await Ir(localStorage.token))],{type:"application/json"});r(V,`all-chats-export-${Date.now()}.json`)},b=async()=>{await Tt("/"),await Tr(localStorage.token).catch(V=>{Be.error(V)}),await yt.set(await It(localStorage.token))},_=async()=>{t(1,n=!n),console.log(n),n===!1&&await Tt("/"),i({saveChatHistory:n})};ut(async()=>{let V=JSON.parse(localStorage.getItem("settings")??"{}");t(1,n=V.saveChatHistory??!0)});const y=()=>{_()};function x(V){vt[V?"unshift":"push"](()=>{v=V,t(3,v)})}function T(){c=this.files,t(0,c)}const S=()=>{v.click()},L=()=>{m()},N=()=>{b(),t(2,h=!1)},O=()=>{t(2,h=!1)},z=()=>{t(2,h=!0)},B=()=>{p()},j=()=>{$r(localStorage.token).catch(E=>(Be.error(E),null))&&Be.success("Success")};return s.$$set=V=>{"saveSettings"in V&&t(9,i=V.saveSettings)},s.$$.update=()=>{if(s.$$.dirty&1&&c){console.log(c);let V=new FileReader;V.onload=E=>{let M=JSON.parse(E.target.result);if(console.log(M),Zr(M)=="openai")try{M=qr(M)}catch(R){console.log("Unable to import chats:",R)}g(M)},c.length>0&&V.readAsText(c[0])}},[c,n,h,v,l,m,p,b,_,i,y,x,T,S,L,N,O,z,B,j]}class Ba extends at{constructor(e){super(),ot(this,e,Ha,Oa,nt,{saveSettings:9})}}function us(s,e,t){const l=s.slice();return l[19]=e[t],l[20]=e,l[21]=t,l}function ds(s,e,t){const l=s.slice();return l[19]=e[t],l[22]=e,l[21]=t,l}function fs(s){let e,t=Ne(s[2]),l=[];for(let r=0;r<t.length;r+=1)l[r]=hs(ds(s,t,r));return{c(){e=u("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=w(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(f),this.h()},h(){o(e,"class","flex flex-col gap-1")},m(r,i){U(r,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(r,i){if(i&6){t=Ne(r[2]);let n;for(n=0;n<t.length;n+=1){const c=ds(r,t,n);l[n]?l[n].p(c,i):(l[n]=hs(c),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&f(e),st(l,r)}}}function Na(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function i(){return s[12](s[21])}return{c(){e=u("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(e)!=="svelte-q4z88n"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,c){U(n,e,c),l||(r=J(e,"click",i),l=!0)},p(n,c){s=n},d(n){n&&f(e),l=!1,r()}}}function Pa(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(e)!=="svelte-1k98qnf"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(i,n){U(i,e,n),l||(r=J(e,"click",s[11]),l=!0)},p:Ae,d(i){i&&f(e),l=!1,r()}}}function hs(s){let e,t,l,r,i,n,c,h,v,g,m,p,b,_=s[19]+"",y,x,T,S,L;function N(){s[9].call(l,s[22],s[21])}function O(){s[10].call(n,s[21])}function z(V,E){return V[21]===0?Pa:Na}let j=z(s)(s);return{c(){e=u("div"),t=u("div"),l=u("input"),r=C(),i=u("div"),n=u("input"),c=C(),h=u("div"),j.c(),v=C(),g=u("div"),m=Me("WebUI will make requests to "),p=u("span"),b=Me("'"),y=Me(_),x=Me("/models'"),T=C(),this.h()},l(V){e=d(V,"DIV",{class:!0});var E=w(e);t=d(E,"DIV",{class:!0});var M=w(t);l=d(M,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),M.forEach(f),r=I(E),i=d(E,"DIV",{class:!0});var R=w(i);n=d(R,"INPUT",{class:!0,placeholder:!0,autocomplete:!0}),R.forEach(f),c=I(E),h=d(E,"DIV",{class:!0});var W=w(h);j.l(W),W.forEach(f),E.forEach(f),v=I(V),g=d(V,"DIV",{class:!0});var H=w(g);m=Ve(H,"WebUI will make requests to "),p=d(H,"SPAN",{class:!0});var k=w(p);b=Ve(k,"'"),y=Ve(k,_),x=Ve(k,"/models'"),k.forEach(f),T=I(H),H.forEach(f),this.h()},h(){o(l,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(l,"placeholder","API Base URL"),o(l,"autocomplete","off"),o(t,"class","flex-1"),o(n,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(n,"placeholder","API Key"),o(n,"autocomplete","off"),o(i,"class","flex-1"),o(h,"class","self-center flex items-center"),o(e,"class","flex w-full gap-2"),o(p,"class","text-gray-200"),o(g,"class","mb-1 text-xs text-gray-400 dark:text-gray-500")},m(V,E){U(V,e,E),a(e,t),a(t,l),ne(l,s[19]),a(e,r),a(e,i),a(i,n),ne(n,s[1][s[21]]),a(e,c),a(e,h),j.m(h,null),U(V,v,E),U(V,g,E),a(g,m),a(g,p),a(p,b),a(p,y),a(p,x),a(g,T),S||(L=[J(l,"input",N),J(n,"input",O)],S=!0)},p(V,E){s=V,E&4&&l.value!==s[19]&&ne(l,s[19]),E&2&&n.value!==s[1][s[21]]&&ne(n,s[1][s[21]]),j.p(s,E),E&4&&_!==(_=s[19]+"")&&Ze(y,_)},d(V){V&&(f(e),f(v),f(g)),j.d(),S=!1,ze(L)}}}function ja(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"></path></svg>',l,r;function i(){return s[15](s[21])}return{c(){e=u("button"),e.innerHTML=t,this.h()},l(n){e=d(n,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(e)!=="svelte-tjuou5"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(n,c){U(n,e,c),l||(r=J(e,"click",i),l=!0)},p(n,c){s=n},d(n){n&&f(e),l=!1,r()}}}function Ua(s){let e,t='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',l,r;return{c(){e=u("button"),e.innerHTML=t,this.h()},l(i){e=d(i,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(e)!=="svelte-1bpufq2"&&(e.innerHTML=t),this.h()},h(){o(e,"class","px-1"),o(e,"type","button")},m(i,n){U(i,e,n),l||(r=J(e,"click",s[14]),l=!0)},p:Ae,d(i){i&&f(e),l=!1,r()}}}function vs(s){let e,t,l,r,i,n,c;function h(){s[13].call(t,s[20],s[21])}function v(p,b){return p[21]===0?Ua:ja}let m=v(s)(s);return{c(){e=u("div"),t=u("input"),l=C(),r=u("div"),m.c(),i=C(),this.h()},l(p){e=d(p,"DIV",{class:!0});var b=w(e);t=d(b,"INPUT",{class:!0,placeholder:!0}),l=I(b),r=d(b,"DIV",{class:!0});var _=w(r);m.l(_),_.forEach(f),i=I(b),b.forEach(f),this.h()},h(){o(t,"class","w-full rounded-lg py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-850 outline-none"),o(t,"placeholder","Enter URL (e.g. http://localhost:11434)"),o(r,"class","self-center flex items-center"),o(e,"class","flex gap-1.5")},m(p,b){U(p,e,b),a(e,t),ne(t,s[19]),a(e,l),a(e,r),m.m(r,null),a(e,i),n||(c=J(t,"input",h),n=!0)},p(p,b){s=p,b&1&&t.value!==s[19]&&ne(t,s[19]),m.p(s,b)},d(p){p&&f(e),m.d(),n=!1,c()}}}function za(s){let e,t,l,r,i,n,c="OpenAI API",h,v,g=s[3]?"Hide":"Show",m,p,b,_,y,x,T,S="Ollama Base URL",L,N,O,z,B,j,V='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',E,M,R=`Trouble accessing Ollama?
				<a class="text-gray-300 font-medium" href="https://github.com/open-webui/open-webui#troubleshooting" target="_blank">Click here for help.</a>`,W,H,k='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',D,q,A=s[3]&&fs(s),F=Ne(s[0]),X=[];for(let Z=0;Z<F.length;Z+=1)X[Z]=vs(us(s,F,Z));return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),n=u("div"),n.textContent=c,h=C(),v=u("button"),m=Me(g),p=C(),A&&A.c(),b=C(),_=u("hr"),y=C(),x=u("div"),T=u("div"),T.textContent=S,L=C(),N=u("div"),O=u("div");for(let Z=0;Z<X.length;Z+=1)X[Z].c();z=C(),B=u("div"),j=u("button"),j.innerHTML=V,E=C(),M=u("div"),M.innerHTML=R,W=C(),H=u("div"),H.innerHTML=k,this.h()},l(Z){e=d(Z,"FORM",{class:!0});var K=w(e);t=d(K,"DIV",{class:!0});var G=w(t);l=d(G,"DIV",{class:!0});var $=w(l);r=d($,"DIV",{class:!0});var Q=w(r);i=d(Q,"DIV",{class:!0});var Y=w(i);n=d(Y,"DIV",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-1uilz16"&&(n.textContent=c),h=I(Y),v=d(Y,"BUTTON",{class:!0,type:!0});var le=w(v);m=Ve(le,g),le.forEach(f),Y.forEach(f),p=I(Q),A&&A.l(Q),Q.forEach(f),$.forEach(f),b=I(G),_=d(G,"HR",{class:!0}),y=I(G),x=d(G,"DIV",{});var te=w(x);T=d(te,"DIV",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-1qw0ud1"&&(T.textContent=S),L=I(te),N=d(te,"DIV",{class:!0});var oe=w(N);O=d(oe,"DIV",{class:!0});var ce=w(O);for(let ge=0;ge<X.length;ge+=1)X[ge].l(ce);ce.forEach(f),z=I(oe),B=d(oe,"DIV",{class:!0});var fe=w(B);j=d(fe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(j)!=="svelte-1rngu5f"&&(j.innerHTML=V),fe.forEach(f),oe.forEach(f),E=I(te),M=d(te,"DIV",{class:!0,"data-svelte-h":!0}),P(M)!=="svelte-1vj9jxz"&&(M.innerHTML=R),te.forEach(f),G.forEach(f),W=I(K),H=d(K,"DIV",{class:!0,"data-svelte-h":!0}),P(H)!=="svelte-1w4736w"&&(H.innerHTML=k),K.forEach(f),this.h()},h(){o(n,"class","font-medium"),o(v,"class","text-xs font-medium text-gray-500"),o(v,"type","button"),o(i,"class","flex justify-between items-center text-sm"),o(r,"class","mt-2 space-y-2 pr-1.5"),o(l,"class","space-y-3"),o(_,"class","dark:border-gray-700"),o(T,"class","mb-2.5 text-sm font-medium"),o(O,"class","flex-1 flex flex-col gap-2"),o(j,"class","p-2.5 bg-gray-200 hover:bg-gray-300 dark:bg-gray-850 dark:hover:bg-gray-800 rounded-lg transition"),o(j,"type","button"),o(B,"class",""),o(N,"class","flex w-full gap-1.5"),o(M,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","pr-1.5 overflow-y-scroll max-h-[20.5rem] space-y-3"),o(H,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between text-sm")},m(Z,K){U(Z,e,K),a(e,t),a(t,l),a(l,r),a(r,i),a(i,n),a(i,h),a(i,v),a(v,m),a(r,p),A&&A.m(r,null),a(t,b),a(t,_),a(t,y),a(t,x),a(x,T),a(x,L),a(x,N),a(N,O);for(let G=0;G<X.length;G+=1)X[G]&&X[G].m(O,null);a(N,z),a(N,B),a(B,j),a(x,E),a(x,M),a(e,W),a(e,H),D||(q=[J(v,"click",s[8]),J(j,"click",s[16]),J(e,"submit",At(s[17]))],D=!0)},p(Z,[K]){if(K&8&&g!==(g=Z[3]?"Hide":"Show")&&Ze(m,g),Z[3]?A?A.p(Z,K):(A=fs(Z),A.c(),A.m(r,null)):A&&(A.d(1),A=null),K&1){F=Ne(Z[0]);let G;for(G=0;G<F.length;G+=1){const $=us(Z,F,G);X[G]?X[G].p($,K):(X[G]=vs($),X[G].c(),X[G].m(O,null))}for(;G<X.length;G+=1)X[G].d(1);X.length=F.length}},i:Ae,o:Ae,d(Z){Z&&f(e),A&&A.d(),st(X,Z),D=!1,ze(q)}}}function Ra(s,e,t){let l;Ye(s,wt,z=>t(18,l=z));const r=Bt();let{getModels:i}=e,n=[""],c=[""],h=[""],v=!1;const g=async()=>{t(2,h=await gr(localStorage.token,h)),t(1,c=await _r(localStorage.token,c)),await ht.set(await i())},m=async()=>{t(0,n=await fr(localStorage.token,n)),await cl(localStorage.token).catch(B=>(Be.error(B),null))&&(Be.success("Server connection verified"),await ht.set(await i()))};ut(async()=>{l.role==="admin"&&(t(0,n=await Ws(localStorage.token)),t(2,h=await pr(localStorage.token)),t(1,c=await mr(localStorage.token)))});const p=()=>{t(3,v=!v)};function b(z,B){z[B]=this.value,t(2,h)}function _(z){c[z]=this.value,t(1,c)}const y=()=>{t(2,h=[...h,""]),t(1,c=[...c,""])},x=z=>{t(2,h=h.filter((B,j)=>z!==j)),t(1,c=c.filter((B,j)=>z!==j))};function T(z,B){z[B]=this.value,t(0,n)}const S=()=>{t(0,n=[...n,""])},L=z=>{t(0,n=n.filter((B,j)=>z!==j))},N=()=>{m()},O=()=>{g(),r("save")};return s.$$set=z=>{"getModels"in z&&t(7,i=z.getModels)},[n,c,h,v,r,g,m,i,p,b,_,y,x,T,S,L,N,O]}class Za extends at{constructor(e){super(),ot(this,e,Ra,za,nt,{getModels:7})}}function ps(s,e,t){const l=s.slice();return l[20]=e[t],l}function qa(s){let e,t="Off";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1u2ztdm"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function Ga(s){let e,t="On";return{c(){e=u("span"),e.textContent=t,this.h()},l(l){e=d(l,"SPAN",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-14y7chk"&&(e.textContent=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function ms(s){let e,t,l,r,i="Set Default Model",n,c,h,v,g,m,p,b,_="Set Image Size",y,x,T,S,L,N,O,z="Set Steps",B,j,V,E,M,R,W=!s[3]&&gs(),H=Ne(s[4]??[]),k=[];for(let D=0;D<H.length;D+=1)k[D]=_s(ps(s,H,D));return{c(){e=u("hr"),t=C(),l=u("div"),r=u("div"),r.textContent=i,n=C(),c=u("div"),h=u("div"),v=u("select"),W&&W.c(),g=lt();for(let D=0;D<k.length;D+=1)k[D].c();m=C(),p=u("div"),b=u("div"),b.textContent=_,y=C(),x=u("div"),T=u("div"),S=u("input"),L=C(),N=u("div"),O=u("div"),O.textContent=z,B=C(),j=u("div"),V=u("div"),E=u("input"),this.h()},l(D){e=d(D,"HR",{class:!0}),t=I(D),l=d(D,"DIV",{});var q=w(l);r=d(q,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-1an7ol3"&&(r.textContent=i),n=I(q),c=d(q,"DIV",{class:!0});var A=w(c);h=d(A,"DIV",{class:!0});var F=w(h);v=d(F,"SELECT",{class:!0,placeholder:!0});var X=w(v);W&&W.l(X),g=lt();for(let le=0;le<k.length;le+=1)k[le].l(X);X.forEach(f),F.forEach(f),A.forEach(f),q.forEach(f),m=I(D),p=d(D,"DIV",{});var Z=w(p);b=d(Z,"DIV",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-1cj1un7"&&(b.textContent=_),y=I(Z),x=d(Z,"DIV",{class:!0});var K=w(x);T=d(K,"DIV",{class:!0});var G=w(T);S=d(G,"INPUT",{class:!0,placeholder:!0}),G.forEach(f),K.forEach(f),Z.forEach(f),L=I(D),N=d(D,"DIV",{});var $=w(N);O=d($,"DIV",{class:!0,"data-svelte-h":!0}),P(O)!=="svelte-8mnd18"&&(O.textContent=z),B=I($),j=d($,"DIV",{class:!0});var Q=w(j);V=d(Q,"DIV",{class:!0});var Y=w(V);E=d(Y,"INPUT",{class:!0,placeholder:!0}),Y.forEach(f),Q.forEach(f),$.forEach(f),this.h()},h(){o(e,"class","dark:border-gray-700"),o(r,"class","mb-2.5 text-sm font-medium"),o(v,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(v,"placeholder","Select a model"),s[3]===void 0&&pt(()=>s[14].call(v)),o(h,"class","flex-1 mr-2"),o(c,"class","flex w-full"),o(b,"class","mb-2.5 text-sm font-medium"),o(S,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(S,"placeholder","Enter Image Size (e.g. 512x512)"),o(T,"class","flex-1 mr-2"),o(x,"class","flex w-full"),o(O,"class","mb-2.5 text-sm font-medium"),o(E,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(E,"placeholder","Enter Number of Steps (e.g. 50)"),o(V,"class","flex-1 mr-2"),o(j,"class","flex w-full")},m(D,q){U(D,e,q),U(D,t,q),U(D,l,q),a(l,r),a(l,n),a(l,c),a(c,h),a(h,v),W&&W.m(v,null),a(v,g);for(let A=0;A<k.length;A+=1)k[A]&&k[A].m(v,null);tt(v,s[3],!0),U(D,m,q),U(D,p,q),a(p,b),a(p,y),a(p,x),a(x,T),a(T,S),ne(S,s[5]),U(D,L,q),U(D,N,q),a(N,O),a(N,B),a(N,j),a(j,V),a(V,E),ne(E,s[6]),M||(R=[J(v,"change",s[14]),J(S,"input",s[15]),J(E,"input",s[16])],M=!0)},p(D,q){if(D[3]?W&&(W.d(1),W=null):W||(W=gs(),W.c(),W.m(v,g)),q&16){H=Ne(D[4]??[]);let A;for(A=0;A<H.length;A+=1){const F=ps(D,H,A);k[A]?k[A].p(F,q):(k[A]=_s(F),k[A].c(),k[A].m(v,null))}for(;A<k.length;A+=1)k[A].d(1);k.length=H.length}q&24&&tt(v,D[3]),q&32&&S.value!==D[5]&&ne(S,D[5]),q&64&&E.value!==D[6]&&ne(E,D[6])},d(D){D&&(f(e),f(t),f(l),f(m),f(p),f(L),f(N)),W&&W.d(),st(k,D),M=!1,ze(R)}}}function gs(s){let e,t="Select a model";return{c(){e=u("option"),e.textContent=t,this.h()},l(l){e=d(l,"OPTION",{"data-svelte-h":!0}),P(e)!=="svelte-1ay6ljx"&&(e.textContent=t),this.h()},h(){e.__value="",ne(e,e.__value),e.disabled=!0,e.selected=!0},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function _s(s){let e,t=s[20].model_name+"",l,r;return{c(){e=u("option"),l=Me(t),this.h()},l(i){e=d(i,"OPTION",{class:!0});var n=w(e);l=Ve(n,t),n.forEach(f),this.h()},h(){e.__value=r=s[20].title,ne(e,e.__value),o(e,"class","bg-gray-100 dark:bg-gray-700")},m(i,n){U(i,e,n),a(e,l)},p(i,n){n&16&&t!==(t=i[20].model_name+"")&&Ze(l,t),n&16&&r!==(r=i[20].title)&&(e.__value=r,ne(e,e.__value))},d(i){i&&f(e)}}}function bs(s){let e,t=`<svg class="w-4 h-4" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
								transform-origin: center;
								animation: spinner_AtaB 0.75s infinite linear;
							}
							@keyframes spinner_AtaB {
								100% {
									transform: rotate(360deg);
								}
							}
						</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){e=u("div"),e.innerHTML=t,this.h()},l(l){e=d(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1hiv40m"&&(e.innerHTML=t),this.h()},h(){o(e,"class","ml-2 self-center")},m(l,r){U(l,e,r)},d(l){l&&f(e)}}}function Wa(s){let e,t,l,r,i="Image Settings",n,c,h,v,g="Image Generation (Experimental)",m,p,b,_,y,x,T="AUTOMATIC1111 Base URL",S,L,N,O,z,B,j='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15.312 11.424a5.5 5.5 0 01-9.201 2.466l-.312-.311h2.433a.75.75 0 000-1.5H3.989a.75.75 0 00-.75.75v4.242a.75.75 0 001.5 0v-2.43l.31.31a7 7 0 0011.712-3.138.75.75 0 00-1.449-.39zm1.23-3.723a.75.75 0 00.219-.53V2.929a.75.75 0 00-1.5 0V5.36l-.31-.31A7 7 0 003.239 8.188a.75.75 0 101.448.389A5.5 5.5 0 0113.89 6.11l.311.31h-2.432a.75.75 0 000 1.5h4.243a.75.75 0 00.53-.219z" clip-rule="evenodd"></path></svg>',V,E,M='Include `--api` flag when running stable-diffusion-webui\n			<a class="text-gray-300 font-medium" href="https://github.com/AUTOMATIC1111/stable-diffusion-webui/discussions/3734" target="_blank">(e.g. `sh webui.sh --api`)</a>',R,W,H,k,D,q,A,F;function X(Q,Y){return Q[1]===!0?Ga:qa}let Z=X(s),K=Z(s),G=s[1]&&ms(s),$=s[0]&&bs();return{c(){e=u("form"),t=u("div"),l=u("div"),r=u("div"),r.textContent=i,n=C(),c=u("div"),h=u("div"),v=u("div"),v.textContent=g,m=C(),p=u("button"),K.c(),b=C(),_=u("hr"),y=C(),x=u("div"),x.textContent=T,S=C(),L=u("div"),N=u("div"),O=u("input"),z=C(),B=u("button"),B.innerHTML=j,V=C(),E=u("div"),E.innerHTML=M,R=C(),G&&G.c(),W=C(),H=u("div"),k=u("button"),D=Me(`Save

			`),$&&$.c(),this.h()},l(Q){e=d(Q,"FORM",{class:!0});var Y=w(e);t=d(Y,"DIV",{class:!0});var le=w(t);l=d(le,"DIV",{});var te=w(l);r=d(te,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-clutkv"&&(r.textContent=i),n=I(te),c=d(te,"DIV",{});var oe=w(c);h=d(oe,"DIV",{class:!0});var ce=w(h);v=d(ce,"DIV",{class:!0,"data-svelte-h":!0}),P(v)!=="svelte-1hszkoj"&&(v.textContent=g),m=I(ce),p=d(ce,"BUTTON",{class:!0,type:!0});var fe=w(p);K.l(fe),fe.forEach(f),ce.forEach(f),oe.forEach(f),te.forEach(f),b=I(le),_=d(le,"HR",{class:!0}),y=I(le),x=d(le,"DIV",{class:!0,"data-svelte-h":!0}),P(x)!=="svelte-5jr2ye"&&(x.textContent=T),S=I(le),L=d(le,"DIV",{class:!0});var ge=w(L);N=d(ge,"DIV",{class:!0});var ie=w(N);O=d(ie,"INPUT",{class:!0,placeholder:!0}),ie.forEach(f),z=I(ge),B=d(ge,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(B)!=="svelte-1nzn2r4"&&(B.innerHTML=j),ge.forEach(f),V=I(le),E=d(le,"DIV",{class:!0,"data-svelte-h":!0}),P(E)!=="svelte-ii05ge"&&(E.innerHTML=M),R=I(le),G&&G.l(le),le.forEach(f),W=I(Y),H=d(Y,"DIV",{class:!0});var ye=w(H);k=d(ye,"BUTTON",{class:!0,type:!0});var ae=w(k);D=Ve(ae,`Save

			`),$&&$.l(ae),ae.forEach(f),ye.forEach(f),Y.forEach(f),this.h()},h(){o(r,"class","mb-1 text-sm font-medium"),o(v,"class","self-center text-xs font-medium"),o(p,"class","p-1 px-3 text-xs flex rounded transition"),o(p,"type","button"),o(h,"class","py-0.5 flex w-full justify-between"),o(_,"class","dark:border-gray-700"),o(x,"class","mb-2.5 text-sm font-medium"),o(O,"class","w-full rounded py-2 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none"),o(O,"placeholder","Enter URL (e.g. http://127.0.0.1:7860/)"),o(N,"class","flex-1 mr-2"),o(B,"class","px-3 bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-700 rounded transition"),o(B,"type","button"),o(L,"class","flex w-full"),o(E,"class","mt-2 text-xs text-gray-400 dark:text-gray-500"),o(t,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-[20.5rem]"),o(k,"class",q="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded flex flex-row space-x-1 items-center "+(s[0]?" cursor-not-allowed":"")),o(k,"type","submit"),k.disabled=s[0],o(H,"class","flex justify-end pt-3 text-sm font-medium"),o(e,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(Q,Y){U(Q,e,Y),a(e,t),a(t,l),a(l,r),a(l,n),a(l,c),a(c,h),a(h,v),a(h,m),a(h,p),K.m(p,null),a(t,b),a(t,_),a(t,y),a(t,x),a(t,S),a(t,L),a(L,N),a(N,O),ne(O,s[2]),a(L,z),a(L,B),a(t,V),a(t,E),a(t,R),G&&G.m(t,null),a(e,W),a(e,H),a(H,k),a(k,D),$&&$.m(k,null),A||(F=[J(p,"click",s[11]),J(O,"input",s[12]),J(B,"click",s[13]),J(e,"submit",At(s[17]))],A=!0)},p(Q,[Y]){Z!==(Z=X(Q))&&(K.d(1),K=Z(Q),K&&(K.c(),K.m(p,null))),Y&4&&O.value!==Q[2]&&ne(O,Q[2]),Q[1]?G?G.p(Q,Y):(G=ms(Q),G.c(),G.m(t,null)):G&&(G.d(1),G=null),Q[0]?$||($=bs(),$.c(),$.m(k,null)):$&&($.d(1),$=null),Y&1&&q!==(q="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded flex flex-row space-x-1 items-center "+(Q[0]?" cursor-not-allowed":""))&&o(k,"class",q),Y&1&&(k.disabled=Q[0])},i:Ae,o:Ae,d(Q){Q&&f(e),K.d(),G&&G.d(),$&&$.d(),A=!1,ze(F)}}}function Fa(s,e,t){let l;Ye(s,wt,B=>t(18,l=B));const r=Bt();let{saveSettings:i}=e,n=!1,c=!1,h="",v="",g=null,m="",p=50;const b=async()=>{t(4,g=await Vr(localStorage.token).catch(B=>(Be.error(B),null))),t(3,v=await Lr(localStorage.token).catch(B=>""))},_=async()=>{const B=await Ar(localStorage.token,h).catch(j=>(Be.error(j),null));B?(t(2,h=B),await b(),g&&Be.success("Server connection verified")):t(2,h=await xl(localStorage.token))},y=async()=>{h?(t(1,c=await Sr(localStorage.token).catch(B=>(Be.error(B),!1))),c&&(Ot.set(await Qs()),b())):(t(1,c=!1),Be.error("AUTOMATIC1111_BASE_URL not provided"))};ut(async()=>{l.role==="admin"&&(t(1,c=await Er(localStorage.token)),t(2,h=await xl(localStorage.token)),c&&h&&(t(5,m=await Dr(localStorage.token)),t(6,p=await Mr(localStorage.token)),b()))});const x=()=>{y()};function T(){h=this.value,t(2,h)}const S=()=>{_()};function L(){v=bt(this),t(3,v),t(4,g)}function N(){m=this.value,t(5,m)}function O(){p=this.value,t(6,p)}const z=async()=>{t(0,n=!0),await Or(localStorage.token,v),await Hr(localStorage.token,m).catch(B=>(Be.error(B),null)),await Br(localStorage.token,p).catch(B=>(Be.error(B),null)),r("save"),t(0,n=!1)};return s.$$set=B=>{"saveSettings"in B&&t(10,i=B.saveSettings)},[n,c,h,v,g,m,p,r,_,y,i,x,T,S,L,N,O,z]}class Ja extends at{constructor(e){super(),ot(this,e,Fa,Wa,nt,{saveSettings:10})}}function ws(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M1 9.5A3.5 3.5 0 0 0 4.5 13H12a3 3 0 0 0 .917-5.857 2.503 2.503 0 0 0-3.198-3.019 3.5 3.5 0 0 0-6.628 2.171A3.5 3.5 0 0 0 1 9.5Z"></path></svg>',r,i,n="Connections",c,h,v,g,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M10 1c3.866 0 7 1.79 7 4s-3.134 4-7 4-7-1.79-7-4 3.134-4 7-4zm5.694 8.13c.464-.264.91-.583 1.306-.952V10c0 2.21-3.134 4-7 4s-7-1.79-7-4V8.178c.396.37.842.688 1.306.953C5.838 10.006 7.854 10.5 10 10.5s4.162-.494 5.694-1.37zM3 13.179V15c0 2.21 3.134 4 7 4s7-1.79 7-4v-1.822c-.396.37-.842.688-1.306.953-1.532.875-3.548 1.369-5.694 1.369s-4.162-.494-5.694-1.37A7.009 7.009 0 013 13.179z" clip-rule="evenodd"></path></svg>',p,b,_="Models",y,x,T;return{c(){e=u("button"),t=u("div"),t.innerHTML=l,r=C(),i=u("div"),i.textContent=n,h=C(),v=u("button"),g=u("div"),g.innerHTML=m,p=C(),b=u("div"),b.textContent=_,this.h()},l(S){e=d(S,"BUTTON",{class:!0});var L=w(e);t=d(L,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1uuylbv"&&(t.innerHTML=l),r=I(L),i=d(L,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-yucnvi"&&(i.textContent=n),L.forEach(f),h=I(S),v=d(S,"BUTTON",{class:!0});var N=w(v);g=d(N,"DIV",{class:!0,"data-svelte-h":!0}),P(g)!=="svelte-1s8wpdu"&&(g.innerHTML=m),p=I(N),b=d(N,"DIV",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-1q0mgp9"&&(b.textContent=_),N.forEach(f),this.h()},h(){o(t,"class","self-center mr-2"),o(i,"class","self-center"),o(e,"class",c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(g,"class","self-center mr-2"),o(b,"class","self-center"),o(v,"class",y="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(S,L){U(S,e,L),a(e,t),a(e,r),a(e,i),U(S,h,L),U(S,v,L),a(v,g),a(v,p),a(v,b),x||(T=[J(e,"click",s[7]),J(v,"click",s[8])],x=!0)},p(S,L){L&2&&c!==(c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(S[1]==="connections"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",c),L&2&&y!==(y="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(S[1]==="models"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(v,"class",y)},d(S){S&&(f(e),f(h),f(v)),x=!1,ze(T)}}}function ys(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V4Zm10.5 5.707a.5.5 0 0 0-.146-.353l-1-1a.5.5 0 0 0-.708 0L9.354 9.646a.5.5 0 0 1-.708 0L6.354 7.354a.5.5 0 0 0-.708 0l-2 2a.5.5 0 0 0-.146.353V12a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5V9.707ZM12 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z" clip-rule="evenodd"></path></svg>',r,i,n="Images",c,h,v;return{c(){e=u("button"),t=u("div"),t.innerHTML=l,r=C(),i=u("div"),i.textContent=n,this.h()},l(g){e=d(g,"BUTTON",{class:!0});var m=w(e);t=d(m,"DIV",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-11xeywu"&&(t.innerHTML=l),r=I(m),i=d(m,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-ticdod"&&(i.textContent=n),m.forEach(f),this.h()},h(){o(t,"class","self-center mr-2"),o(i,"class","self-center"),o(e,"class",c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))},m(g,m){U(g,e,m),a(e,t),a(e,r),a(e,i),h||(v=J(e,"click",s[11]),h=!0)},p(g,m){m&2&&c!==(c="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(g[1]==="images"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800"))&&o(e,"class",c)},d(g){g&&f(e),h=!1,v()}}}function Ka(s){let e,t;return e=new Tn({}),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ae,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Ya(s){let e,t;return e=new kn({props:{saveHandler:s[20]}}),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.saveHandler=l[20]),e.$set(i)},i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Xa(s){let e,t;return e=new Ba({props:{saveSettings:s[3]}}),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ae,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function Qa(s){let e,t;return e=new Ja({props:{saveSettings:s[3]}}),e.$on("save",s[19]),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ae,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function $a(s){let e,t;return e=new Ma({props:{saveSettings:s[3]}}),e.$on("save",s[18]),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ae,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function eo(s){let e,t;return e=new _a({props:{saveSettings:s[3]}}),e.$on("save",s[17]),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ae,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function to(s){let e,t;return e=new Za({props:{getModels:s[4]}}),e.$on("save",s[16]),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ae,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function lo(s){let e,t;return e=new Yn({props:{getModels:s[4]}}),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ae,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function so(s){let e,t;return e=new oa({props:{getModels:s[4],saveSettings:s[3]}}),e.$on("save",s[15]),{c(){Xe(e.$$.fragment)},l(l){Qe(e.$$.fragment,l)},m(l,r){$e(e,l,r),t=!0},p:Ae,i(l){t||(Ue(e.$$.fragment,l),t=!0)},o(l){Ge(e.$$.fragment,l),t=!1},d(l){et(e,l)}}}function ro(s){var Pe;let e,t,l,r="Settings",i,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,v,g,m,p,b,_,y='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8.34 1.804A1 1 0 019.32 1h1.36a1 1 0 01.98.804l.295 1.473c.497.144.971.342 1.416.587l1.25-.834a1 1 0 011.262.125l.962.962a1 1 0 01.125 1.262l-.834 1.25c.245.445.443.919.587 1.416l1.473.294a1 1 0 01.804.98v1.361a1 1 0 01-.804.98l-1.473.295a6.95 6.95 0 01-.587 1.416l.834 1.25a1 1 0 01-.125 1.262l-.962.962a1 1 0 01-1.262.125l-1.25-.834a6.953 6.953 0 01-1.416.587l-.294 1.473a1 1 0 01-.98.804H9.32a1 1 0 01-.98-.804l-.295-1.473a6.957 6.957 0 01-1.416-.587l-1.25.834a1 1 0 01-1.262-.125l-.962-.962a1 1 0 01-.125-1.262l.834-1.25a6.957 6.957 0 01-.587-1.416l-1.473-.294A1 1 0 011 10.68V9.32a1 1 0 01.804-.98l1.473-.295c.144-.497.342-.971.587-1.416l-.834-1.25a1 1 0 01.125-1.262l.962-.962A1 1 0 015.38 3.03l1.25.834a6.957 6.957 0 011.416-.587l.294-1.473zM13 10a3 3 0 11-6 0 3 3 0 016 0z" clip-rule="evenodd"></path></svg>',x,T,S="General",L,N,O,z,B,j='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h7.5A2.25 2.25 0 0 1 14 4.25v5.5A2.25 2.25 0 0 1 11.75 12h-1.312c.1.128.21.248.328.36a.75.75 0 0 1 .234.545v.345a.75.75 0 0 1-.75.75h-4.5a.75.75 0 0 1-.75-.75v-.345a.75.75 0 0 1 .234-.545c.118-.111.228-.232.328-.36H4.25A2.25 2.25 0 0 1 2 9.75v-5.5Zm2.25-.75a.75.75 0 0 0-.75.75v4.5c0 .414.336.75.75.75h7.5a.75.75 0 0 0 .75-.75v-4.5a.75.75 0 0 0-.75-.75h-7.5Z" clip-rule="evenodd"></path></svg>',V,E,M="Interface",R,W,H,k,D='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M7.557 2.066A.75.75 0 0 1 8 2.75v10.5a.75.75 0 0 1-1.248.56L3.59 11H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.59l3.162-2.81a.75.75 0 0 1 .805-.124ZM12.95 3.05a.75.75 0 1 0-1.06 1.06 5.5 5.5 0 0 1 0 7.78.75.75 0 1 0 1.06 1.06 7 7 0 0 0 0-9.9Z"></path><path d="M10.828 5.172a.75.75 0 1 0-1.06 1.06 2.5 2.5 0 0 1 0 3.536.75.75 0 1 0 1.06 1.06 4 4 0 0 0 0-5.656Z"></path></svg>',q,A,F="Audio",X,Z,K,G,$,Q='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M8 2C4.262 2 1 4.57 1 8c0 1.86.98 3.486 2.455 4.566a3.472 3.472 0 0 1-.469 1.26.75.75 0 0 0 .713 1.14 6.961 6.961 0 0 0 3.06-1.06c.403.062.818.094 1.241.094 3.738 0 7-2.57 7-6s-3.262-6-7-6ZM5 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm7-1a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM8 9a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z" clip-rule="evenodd"></path></svg>',Y,le,te="Chats",oe,ce,fe,ge,ie='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0Zm-5-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM8 9c-1.825 0-3.422.977-4.295 2.437A5.49 5.49 0 0 0 8 13.5a5.49 5.49 0 0 0 4.294-2.063A4.997 4.997 0 0 0 8 9Z" clip-rule="evenodd"></path></svg>',ye,ae,Le="Account",Re,we,De,se,_e='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd"></path></svg>',Ce,Te,be="About",xe,ve,ee,ue,ke,pe,qe,Oe,he=((Pe=s[2])==null?void 0:Pe.role)==="admin"&&ws(s),re=s[2].role==="admin"&&ys(s);const Ee=[so,lo,to,eo,$a,Qa,Xa,Ya,Ka],Ie=[];function Ke(me,de){return me[1]==="general"?0:me[1]==="models"?1:me[1]==="connections"?2:me[1]==="interface"?3:me[1]==="audio"?4:me[1]==="images"?5:me[1]==="chats"?6:me[1]==="account"?7:me[1]==="about"?8:-1}return~(ue=Ke(s))&&(ke=Ie[ue]=Ee[ue](s)),{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=C(),n=u("button"),n.innerHTML=c,h=C(),v=u("hr"),g=C(),m=u("div"),p=u("div"),b=u("button"),_=u("div"),_.innerHTML=y,x=C(),T=u("div"),T.textContent=S,N=C(),he&&he.c(),O=C(),z=u("button"),B=u("div"),B.innerHTML=j,V=C(),E=u("div"),E.textContent=M,W=C(),H=u("button"),k=u("div"),k.innerHTML=D,q=C(),A=u("div"),A.textContent=F,Z=C(),re&&re.c(),K=C(),G=u("button"),$=u("div"),$.innerHTML=Q,Y=C(),le=u("div"),le.textContent=te,ce=C(),fe=u("button"),ge=u("div"),ge.innerHTML=ie,ye=C(),ae=u("div"),ae.textContent=Le,we=C(),De=u("button"),se=u("div"),se.innerHTML=_e,Ce=C(),Te=u("div"),Te.textContent=be,ve=C(),ee=u("div"),ke&&ke.c(),this.h()},l(me){e=d(me,"DIV",{});var de=w(e);t=d(de,"DIV",{class:!0});var je=w(t);l=d(je,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-dx4bdu"&&(l.textContent=r),i=I(je),n=d(je,"BUTTON",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-745w2y"&&(n.innerHTML=c),je.forEach(f),h=I(de),v=d(de,"HR",{class:!0}),g=I(de),m=d(de,"DIV",{class:!0});var Se=w(m);p=d(Se,"DIV",{class:!0});var He=w(p);b=d(He,"BUTTON",{class:!0});var mt=w(b);_=d(mt,"DIV",{class:!0,"data-svelte-h":!0}),P(_)!=="svelte-qy1dha"&&(_.innerHTML=y),x=I(mt),T=d(mt,"DIV",{class:!0,"data-svelte-h":!0}),P(T)!=="svelte-115rgpl"&&(T.textContent=S),mt.forEach(f),N=I(He),he&&he.l(He),O=I(He),z=d(He,"BUTTON",{class:!0});var rt=w(z);B=d(rt,"DIV",{class:!0,"data-svelte-h":!0}),P(B)!=="svelte-16cea28"&&(B.innerHTML=j),V=I(rt),E=d(rt,"DIV",{class:!0,"data-svelte-h":!0}),P(E)!=="svelte-1e0rlw4"&&(E.textContent=M),rt.forEach(f),W=I(He),H=d(He,"BUTTON",{class:!0});var dt=w(H);k=d(dt,"DIV",{class:!0,"data-svelte-h":!0}),P(k)!=="svelte-36jwmy"&&(k.innerHTML=D),q=I(dt),A=d(dt,"DIV",{class:!0,"data-svelte-h":!0}),P(A)!=="svelte-c2twnz"&&(A.textContent=F),dt.forEach(f),Z=I(He),re&&re.l(He),K=I(He),G=d(He,"BUTTON",{class:!0});var gt=w(G);$=d(gt,"DIV",{class:!0,"data-svelte-h":!0}),P($)!=="svelte-1gtbwe5"&&($.innerHTML=Q),Y=I(gt),le=d(gt,"DIV",{class:!0,"data-svelte-h":!0}),P(le)!=="svelte-2d7hr4"&&(le.textContent=te),gt.forEach(f),ce=I(He),fe=d(He,"BUTTON",{class:!0});var ct=w(fe);ge=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),P(ge)!=="svelte-amityv"&&(ge.innerHTML=ie),ye=I(ct),ae=d(ct,"DIV",{class:!0,"data-svelte-h":!0}),P(ae)!=="svelte-f0e2nc"&&(ae.textContent=Le),ct.forEach(f),we=I(He),De=d(He,"BUTTON",{class:!0});var ft=w(De);se=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),P(se)!=="svelte-15t8s7e"&&(se.innerHTML=_e),Ce=I(ft),Te=d(ft,"DIV",{class:!0,"data-svelte-h":!0}),P(Te)!=="svelte-1nc16iq"&&(Te.textContent=be),ft.forEach(f),He.forEach(f),ve=I(Se),ee=d(Se,"DIV",{class:!0});var Ct=w(ee);ke&&ke.l(Ct),Ct.forEach(f),Se.forEach(f),de.forEach(f),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(n,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),o(v,"class","dark:border-gray-800"),o(_,"class","self-center mr-2"),o(T,"class","self-center"),o(b,"class",L="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(B,"class","self-center mr-2"),o(E,"class","self-center"),o(z,"class",R="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(k,"class","self-center mr-2"),o(A,"class","self-center"),o(H,"class",X="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o($,"class","self-center mr-2"),o(le,"class","self-center"),o(G,"class",oe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(ge,"class","self-center mr-2"),o(ae,"class","self-center"),o(fe,"class",Re="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(se,"class","self-center mr-2"),o(Te,"class","self-center"),o(De,"class",xe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),o(p,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0 svelte-1vx7r9s"),o(ee,"class","flex-1 md:min-h-[380px]"),o(m,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(me,de){U(me,e,de),a(e,t),a(t,l),a(t,i),a(t,n),a(e,h),a(e,v),a(e,g),a(e,m),a(m,p),a(p,b),a(b,_),a(b,x),a(b,T),a(p,N),he&&he.m(p,null),a(p,O),a(p,z),a(z,B),a(z,V),a(z,E),a(p,W),a(p,H),a(H,k),a(H,q),a(H,A),a(p,Z),re&&re.m(p,null),a(p,K),a(p,G),a(G,$),a(G,Y),a(G,le),a(p,ce),a(p,fe),a(fe,ge),a(fe,ye),a(fe,ae),a(p,we),a(p,De),a(De,se),a(De,Ce),a(De,Te),a(m,ve),a(m,ee),~ue&&Ie[ue].m(ee,null),pe=!0,qe||(Oe=[J(n,"click",s[5]),J(b,"click",s[6]),J(z,"click",s[9]),J(H,"click",s[10]),J(G,"click",s[12]),J(fe,"click",s[13]),J(De,"click",s[14])],qe=!0)},p(me,de){var Se;(!pe||de&2&&L!==(L="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(b,"class",L),((Se=me[2])==null?void 0:Se.role)==="admin"?he?he.p(me,de):(he=ws(me),he.c(),he.m(p,O)):he&&(he.d(1),he=null),(!pe||de&2&&R!==(R="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="interface"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(z,"class",R),(!pe||de&2&&X!==(X="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="audio"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(H,"class",X),me[2].role==="admin"?re?re.p(me,de):(re=ys(me),re.c(),re.m(p,K)):re&&(re.d(1),re=null),(!pe||de&2&&oe!==(oe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="chats"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(G,"class",oe),(!pe||de&2&&Re!==(Re="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="account"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(fe,"class",Re),(!pe||de&2&&xe!==(xe="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(me[1]==="about"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&o(De,"class",xe);let je=ue;ue=Ke(me),ue===je?~ue&&Ie[ue].p(me,de):(ke&&(ol(),Ge(Ie[je],1,1,()=>{Ie[je]=null}),il()),~ue?(ke=Ie[ue],ke?ke.p(me,de):(ke=Ie[ue]=Ee[ue](me),ke.c()),Ue(ke,1),ke.m(ee,null)):ke=null)},i(me){pe||(Ue(ke),pe=!0)},o(me){Ge(ke),pe=!1},d(me){me&&f(e),he&&he.d(),re&&re.d(),~ue&&Ie[ue].d(),qe=!1,ze(Oe)}}}function no(s){let e,t,l;function r(n){s[21](n)}let i={$$slots:{default:[ro]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new dl({props:i}),vt.push(()=>Dt(e,"show",r)),{c(){Xe(e.$$.fragment)},l(n){Qe(e.$$.fragment,n)},m(n,c){$e(e,n,c),l=!0},p(n,[c]){const h={};c&8388615&&(h.$$scope={dirty:c,ctx:n}),!t&&c&1&&(t=!0,h.show=n[0],Et(()=>t=!1)),e.$set(h)},i(n){l||(Ue(e.$$.fragment,n),l=!0)},o(n){Ge(e.$$.fragment,n),l=!1},d(n){et(e,n)}}}function ao(s,e,t){let l,r;Ye(s,Ht,E=>t(22,l=E)),Ye(s,wt,E=>t(2,r=E));let{show:i=!1}=e;const n=async E=>{console.log(E),await Ht.set({...l,...E}),await ht.set(await h()),localStorage.setItem("settings",JSON.stringify(l))};let c="general";const h=async()=>{let E=await Promise.all([await Fs(localStorage.token).catch(M=>(console.log(M),null)),await Js(localStorage.token).catch(M=>(console.log(M),null)),await tr(localStorage.token).catch(M=>(console.log(M),null))]);return E=E.filter(M=>M).reduce((M,R,W,H)=>M.concat(R,...W<H.length-1?[{name:"hr"}]:[]),[]),E},v=()=>{t(0,i=!1)},g=()=>{t(1,c="general")},m=()=>{t(1,c="connections")},p=()=>{t(1,c="models")},b=()=>{t(1,c="interface")},_=()=>{t(1,c="audio")},y=()=>{t(1,c="images")},x=()=>{t(1,c="chats")},T=()=>{t(1,c="account")},S=()=>{t(1,c="about")},L=()=>{t(0,i=!1)},N=()=>{t(0,i=!1)},O=()=>{t(0,i=!1)},z=()=>{t(0,i=!1)},B=()=>{t(0,i=!1)},j=()=>{t(0,i=!1)};function V(E){i=E,t(0,i)}return s.$$set=E=>{"show"in E&&t(0,i=E.show)},[i,c,r,n,h,v,g,m,p,b,_,y,x,T,S,L,N,O,z,B,j,V]}class oo extends at{constructor(e){super(),ot(this,e,ao,no,nt,{show:0})}}function xs(s,e,t){const l=s.slice();return l[42]=e[t],l[44]=t,l}function ks(s,e,t){const l=s.slice();return l[45]=e[t],l}function Cs(s){let e,t='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/modelfiles"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 16.875h3.375m0 0h3.375m-3.375 0V13.5m0 3.375v3.375M6 10.5h2.25a2.25 2.25 0 0 0 2.25-2.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v2.25A2.25 2.25 0 0 0 6 10.5Zm0 9.75h2.25A2.25 2.25 0 0 0 10.5 18v-2.25a2.25 2.25 0 0 0-2.25-2.25H6a2.25 2.25 0 0 0-2.25 2.25V18A2.25 2.25 0 0 0 6 20.25Zm9.75-9.75H18a2.25 2.25 0 0 0 2.25-2.25V6A2.25 2.25 0 0 0 18 3.75h-2.25A2.25 2.25 0 0 0 13.5 6v2.25a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Customizations</div></div></a>',l,r,i='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/documents"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Knowledge Base</div></div></a>',n,c,h='<a class="flex-grow flex space-x-3 rounded-xl px-3.5 py-2 hover:bg-gray-900 transition" href="/prompts"><div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"></path></svg></div> <div class="flex self-center"><div class="self-center font-medium text-sm">Integrations</div></div></a>';return{c(){e=u("div"),e.innerHTML=t,l=C(),r=u("div"),r.innerHTML=i,n=C(),c=u("div"),c.innerHTML=h,this.h()},l(v){e=d(v,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-a26i62"&&(e.innerHTML=t),l=I(v),r=d(v,"DIV",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-3cumbp"&&(r.innerHTML=i),n=I(v),c=d(v,"DIV",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-1dte694"&&(c.innerHTML=h),this.h()},h(){o(e,"class","px-2 flex justify-center mt-0.5"),o(r,"class","px-2 flex justify-center mb-1"),o(c,"class","px-2 flex justify-center")},m(v,g){U(v,e,g),U(v,l,g),U(v,r,g),U(v,n,g),U(v,c,g)},d(v){v&&(f(e),f(l),f(r),f(n),f(c))}}}function Is(s){let e,t,l,r="Chat History is off for this browser.",i,n,c=`When history is turned off, new chats on this browser won&#39;t appear in your history on
							any of your devices. <span class="font-semibold">This setting does not sync across browsers or devices.</span>`,h,v,g,m='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3 h-3"><path fill-rule="evenodd" d="M8 1a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 8 1ZM4.11 3.05a.75.75 0 0 1 0 1.06 5.5 5.5 0 1 0 7.78 0 .75.75 0 0 1 1.06-1.06 7 7 0 1 1-9.9 0 .75.75 0 0 1 1.06 0Z" clip-rule="evenodd"></path></svg> <div>Enable Chat History</div>',p,b;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=C(),n=u("div"),n.innerHTML=c,h=C(),v=u("div"),g=u("button"),g.innerHTML=m,this.h()},l(_){e=d(_,"DIV",{class:!0});var y=w(e);t=d(y,"DIV",{class:!0});var x=w(t);l=d(x,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1yilfmk"&&(l.textContent=r),i=I(x),n=d(x,"DIV",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-1i6nvzg"&&(n.innerHTML=c),h=I(x),v=d(x,"DIV",{class:!0});var T=w(v);g=d(T,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),P(g)!=="svelte-1jjlsr2"&&(g.innerHTML=m),T.forEach(f),x.forEach(f),y.forEach(f),this.h()},h(){o(l,"class","font-medium"),o(n,"class","text-xs mt-2"),o(g,"class","flex justify-center items-center space-x-1.5 px-3 py-2.5 rounded-lg text-xs bg-gray-200 hover:bg-gray-300 transition text-gray-800 font-medium w-full"),o(g,"type","button"),o(v,"class","mt-3"),o(t,"class","text-left px-5 py-2"),o(e,"class","absolute z-40 w-full h-full bg-black/90 flex justify-center")},m(_,y){U(_,e,y),a(e,t),a(t,l),a(t,i),a(t,n),a(t,h),a(t,v),a(v,g),p||(b=J(g,"click",s[17]),p=!0)},p:Ae,d(_){_&&f(e),p=!1,b()}}}function Ts(s){let e,t,l="all",r,i,n,c=Ne(s[10]),h=[];for(let v=0;v<c.length;v+=1)h[v]=Es(ks(s,c,v));return{c(){e=u("div"),t=u("button"),t.textContent=l,r=C();for(let v=0;v<h.length;v+=1)h[v].c();this.h()},l(v){e=d(v,"DIV",{class:!0});var g=w(e);t=d(g,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-55i6gh"&&(t.textContent=l),r=I(g);for(let m=0;m<h.length;m+=1)h[m].l(g);g.forEach(f),this.h()},h(){o(t,"class","px-2.5 text-xs font-medium bg-gray-900 hover:bg-gray-800 transition rounded-full"),o(e,"class","px-2.5 mt-0.5 mb-2 flex gap-1 flex-wrap")},m(v,g){U(v,e,g),a(e,t),a(e,r);for(let m=0;m<h.length;m+=1)h[m]&&h[m].m(e,null);i||(n=J(t,"click",s[20]),i=!0)},p(v,g){if(g[0]&1024){c=Ne(v[10]);let m;for(m=0;m<c.length;m+=1){const p=ks(v,c,m);h[m]?h[m].p(p,g):(h[m]=Es(p),h[m].c(),h[m].m(e,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=c.length}},d(v){v&&f(e),st(h,v),i=!1,n()}}}function Es(s){let e,t=s[45].name+"",l,r,i,n;function c(){return s[21](s[45])}return{c(){e=u("button"),l=Me(t),r=C(),this.h()},l(h){e=d(h,"BUTTON",{class:!0});var v=w(e);l=Ve(v,t),r=I(v),v.forEach(f),this.h()},h(){o(e,"class","px-2.5 text-xs font-medium bg-gray-900 hover:bg-gray-800 transition rounded-full")},m(h,v){U(h,e,v),a(e,l),a(e,r),i||(n=J(e,"click",c),i=!0)},p(h,v){s=h,v[0]&1024&&t!==(t=s[45].name+"")&&Ze(l,t)},d(h){h&&f(e),i=!1,n()}}}function io(s){let e,t,l,r=s[42].title+"",i,n,c,h,v,g;return{c(){e=u("a"),t=u("div"),l=u("div"),i=Me(r),this.h()},l(m){e=d(m,"A",{class:!0,href:!0});var p=w(e);t=d(p,"DIV",{class:!0});var b=w(t);l=d(b,"DIV",{class:!0});var _=w(l);i=Ve(_,r),_.forEach(f),b.forEach(f),p.forEach(f),this.h()},h(){o(l,"class",n="text-left self-center overflow-hidden "+(s[42].id===s[11]?"w-[160px]":"w-full")),o(t,"class","flex self-center flex-1 w-full"),o(e,"class",c="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(s[42].id===s[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis"),o(e,"href",h="/c/"+s[42].id)},m(m,p){U(m,e,p),a(e,t),a(t,l),a(l,i),v||(g=J(e,"click",s[24]),v=!0)},p(m,p){p[0]&516&&r!==(r=m[42].title+"")&&Ze(i,r),p[0]&2564&&n!==(n="text-left self-center overflow-hidden "+(m[42].id===m[11]?"w-[160px]":"w-full"))&&o(l,"class",n),p[0]&2564&&c!==(c="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(m[42].id===m[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")&&o(e,"class",c),p[0]&516&&h!==(h="/c/"+m[42].id)&&o(e,"href",h)},d(m){m&&f(e),v=!1,g()}}}function co(s){let e,t,l,r,i;return{c(){e=u("div"),t=u("input"),this.h()},l(n){e=d(n,"DIV",{class:!0});var c=w(e);t=d(c,"INPUT",{class:!0}),c.forEach(f),this.h()},h(){o(t,"class","bg-transparent w-full outline-none mr-10"),o(e,"class",l="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(s[42].id===s[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")},m(n,c){U(n,e,c),a(e,t),ne(t,s[5]),r||(i=J(t,"input",s[23]),r=!0)},p(n,c){c[0]&32&&t.value!==n[5]&&ne(t,n[5]),c[0]&2564&&l!==(l="w-full flex justify-between rounded-xl px-3 py-2 hover:bg-gray-900 "+(n[42].id===n[11]?"bg-gray-900":"")+" transition whitespace-nowrap text-ellipsis")&&o(e,"class",l)},d(n){n&&f(e),r=!1,i()}}}function Ds(s){let e;function t(i,n){return i[4]===i[42].id?ho:i[3]===i[42].id?fo:uo}let l=t(s),r=l(s);return{c(){e=u("div"),r.c(),this.h()},l(i){e=d(i,"DIV",{class:!0});var n=w(e);r.l(n),n.forEach(f),this.h()},h(){o(e,"class","absolute right-[22px] top-[10px]")},m(i,n){U(i,e,n),r.m(e,null)},p(i,n){l===(l=t(i))&&r?r.p(i,n):(r.d(1),r=l(i),r&&(r.c(),r.m(e,null)))},d(i){i&&f(e),r.d()}}}function uo(s){let e,t,l,r,i='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',n,c,h='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',v,g;function m(){return s[29](s[42])}function p(){return s[30](s[42])}function b(){return s[31](s[42])}return{c(){e=u("div"),t=u("button"),l=C(),r=u("button"),r.innerHTML=i,n=C(),c=u("button"),c.innerHTML=h,this.h()},l(_){e=d(_,"DIV",{class:!0});var y=w(e);t=d(y,"BUTTON",{id:!0,class:!0}),w(t).forEach(f),l=I(y),r=d(y,"BUTTON",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-16dz98b"&&(r.innerHTML=i),n=I(y),c=d(y,"BUTTON",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-tt1xf4"&&(c.innerHTML=h),y.forEach(f),this.h()},h(){o(t,"id","delete-chat-button"),o(t,"class","hidden"),o(r,"class","self-center hover:text-white transition"),o(c,"class","self-center hover:text-white transition"),o(e,"class","flex self-center space-x-1.5")},m(_,y){U(_,e,y),a(e,t),a(e,l),a(e,r),a(e,n),a(e,c),v||(g=[J(t,"click",m),J(r,"click",p),J(c,"click",b)],v=!0)},p(_,y){s=_},d(_){_&&f(e),v=!1,ze(g)}}}function fo(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,i,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,h;function v(){return s[27](s[42])}return{c(){e=u("div"),t=u("button"),t.innerHTML=l,r=C(),i=u("button"),i.innerHTML=n,this.h()},l(g){e=d(g,"DIV",{class:!0});var m=w(e);t=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-1nssieh"&&(t.innerHTML=l),r=I(m),i=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-18m8lql"&&(i.innerHTML=n),m.forEach(f),this.h()},h(){o(t,"class","self-center hover:text-white transition"),o(i,"class","self-center hover:text-white transition"),o(e,"class","flex self-center space-x-1.5")},m(g,m){U(g,e,m),a(e,t),a(e,r),a(e,i),c||(h=[J(t,"click",v),J(i,"click",s[28])],c=!0)},p(g,m){s=g},d(g){g&&f(e),c=!1,ze(h)}}}function ho(s){let e,t,l='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',r,i,n='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,h;function v(){return s[25](s[42])}return{c(){e=u("div"),t=u("button"),t.innerHTML=l,r=C(),i=u("button"),i.innerHTML=n,this.h()},l(g){e=d(g,"DIV",{class:!0});var m=w(e);t=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-17xmshs"&&(t.innerHTML=l),r=I(m),i=d(m,"BUTTON",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-14l2ssm"&&(i.innerHTML=n),m.forEach(f),this.h()},h(){o(t,"class","self-center hover:text-white transition"),o(i,"class","self-center hover:text-white transition"),o(e,"class","flex self-center space-x-1.5")},m(g,m){U(g,e,m),a(e,t),a(e,r),a(e,i),c||(h=[J(t,"click",v),J(i,"click",s[26])],c=!0)},p(g,m){s=g},d(g){g&&f(e),c=!1,ze(h)}}}function Ms(s){let e,t,l;function r(h,v){return h[4]===h[42].id?co:io}let i=r(s),n=i(s),c=s[42].id===s[11]&&Ds(s);return{c(){e=u("div"),n.c(),t=C(),c&&c.c(),l=C(),this.h()},l(h){e=d(h,"DIV",{class:!0});var v=w(e);n.l(v),t=I(v),c&&c.l(v),l=I(v),v.forEach(f),this.h()},h(){o(e,"class","w-full pr-2 relative")},m(h,v){U(h,e,v),n.m(e,null),a(e,t),c&&c.m(e,null),a(e,l)},p(h,v){i===(i=r(h))&&n?n.p(h,v):(n.d(1),n=i(h),n&&(n.c(),n.m(e,t))),h[42].id===h[11]?c?c.p(h,v):(c=Ds(h),c.c(),c.m(e,l)):c&&(c.d(1),c=null)},d(h){h&&f(e),n.d(),c&&c.d()}}}function Vs(s){let e,t,l,r,i,n,c=s[8].name+"",h,v,g,m,p,b=s[6]&&Ls(s);return{c(){e=u("button"),t=u("div"),l=u("img"),i=C(),n=u("div"),h=Me(c),v=C(),b&&b.c(),g=lt(),this.h()},l(_){e=d(_,"BUTTON",{class:!0});var y=w(e);t=d(y,"DIV",{class:!0});var x=w(t);l=d(x,"IMG",{src:!0,class:!0,alt:!0}),x.forEach(f),i=I(y),n=d(y,"DIV",{class:!0});var T=w(n);h=Ve(T,c),T.forEach(f),y.forEach(f),v=I(_),b&&b.l(_),g=lt(),this.h()},h(){Zt(l.src,r=s[8].profile_image_url)||o(l,"src",r),o(l,"class","max-w-[30px] object-cover rounded-full"),o(l,"alt","User profile"),o(t,"class","self-center mr-3"),o(n,"class","self-center font-semibold"),o(e,"class","flex rounded-xl py-3 px-3.5 w-full hover:bg-gray-900 transition")},m(_,y){U(_,e,y),a(e,t),a(t,l),a(e,i),a(e,n),a(n,h),U(_,v,y),b&&b.m(_,y),U(_,g,y),m||(p=J(e,"click",s[32]),m=!0)},p(_,y){y[0]&256&&!Zt(l.src,r=_[8].profile_image_url)&&o(l,"src",r),y[0]&256&&c!==(c=_[8].name+"")&&Ze(h,c),_[6]?b?(b.p(_,y),y[0]&64&&Ue(b,1)):(b=Ls(_),b.c(),Ue(b,1),b.m(g.parentNode,g)):b&&(b.d(1),b=null)},d(_){_&&(f(e),f(v),f(g)),b&&b.d(_),m=!1,p()}}}function Ls(s){let e,t,l,r,i='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <div class="self-center font-medium">Settings</div>',n,c,h,v,g,m='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M6 10a.75.75 0 01.75-.75h9.546l-1.048-.943a.75.75 0 111.004-1.114l2.5 2.25a.75.75 0 010 1.114l-2.5 2.25a.75.75 0 11-1.004-1.114l1.048-.943H6.75A.75.75 0 016 10z" clip-rule="evenodd"></path></svg></div> <div class="self-center font-medium">Sign Out</div>',p,b,_,y=s[8].role==="admin"&&As(s);return{c(){e=u("div"),t=u("div"),y&&y.c(),l=C(),r=u("button"),r.innerHTML=i,n=C(),c=u("hr"),h=C(),v=u("div"),g=u("button"),g.innerHTML=m,this.h()},l(x){e=d(x,"DIV",{id:!0,class:!0});var T=w(e);t=d(T,"DIV",{class:!0});var S=w(t);y&&y.l(S),l=I(S),r=d(S,"BUTTON",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-1qgf4kj"&&(r.innerHTML=i),S.forEach(f),n=I(T),c=d(T,"HR",{class:!0}),h=I(T),v=d(T,"DIV",{class:!0});var L=w(v);g=d(L,"BUTTON",{class:!0,"data-svelte-h":!0}),P(g)!=="svelte-1bssfs0"&&(g.innerHTML=m),L.forEach(f),T.forEach(f),this.h()},h(){o(r,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),o(t,"class","py-2 w-full"),o(c,"class","border-gray-700 m-0 p-0"),o(g,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),o(v,"class","py-2 w-full"),o(e,"id","dropdownDots"),o(e,"class","absolute z-40 bottom-[70px] 4.5rem rounded-xl shadow w-[240px] bg-gray-900")},m(x,T){U(x,e,T),a(e,t),y&&y.m(t,null),a(t,l),a(t,r),a(e,n),a(e,c),a(e,h),a(e,v),a(v,g),b||(_=[J(r,"click",s[35]),J(g,"click",s[36])],b=!0)},p(x,T){x[8].role==="admin"?y?y.p(x,T):(y=As(x),y.c(),y.m(t,l)):y&&(y.d(1),y=null)},i(x){x&&(p||pt(()=>{p=ir(e,Gr,{duration:150}),p.start()}))},o:Ae,d(x){x&&f(e),y&&y.d(),b=!1,ze(_)}}}function As(s){let e,t='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div> <div class="self-center font-medium">Admin Panel</div>',l,r,i='<div class="self-center mr-3"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5"><path stroke-linecap="round" stroke-linejoin="round" d="m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"></path></svg></div> <div class="self-center font-medium">Playground</div>',n,c;return{c(){e=u("button"),e.innerHTML=t,l=C(),r=u("button"),r.innerHTML=i,this.h()},l(h){e=d(h,"BUTTON",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-afwvzp"&&(e.innerHTML=t),l=I(h),r=d(h,"BUTTON",{class:!0,"data-svelte-h":!0}),P(r)!=="svelte-wfj5gr"&&(r.innerHTML=i),this.h()},h(){o(e,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition"),o(r,"class","flex py-2.5 px-3.5 w-full hover:bg-gray-800 transition")},m(h,v){U(h,e,v),U(h,l,v),U(h,r,v),n||(c=[J(e,"click",s[33]),J(r,"click",s[34])],n=!0)},p:Ae,d(h){h&&(f(e),f(l),f(r)),n=!1,ze(c)}}}function vo(s){let e,t,l,r,i,n,c,h,v,g,m;return{c(){e=u("button"),t=u("span"),l=u("div"),r=u("div"),i=u("div"),c=C(),h=u("div"),this.h()},l(p){e=d(p,"BUTTON",{id:!0,class:!0});var b=w(e);t=d(b,"SPAN",{class:!0,"data-state":!0});var _=w(t);l=d(_,"DIV",{class:!0});var y=w(l);r=d(y,"DIV",{class:!0});var x=w(r);i=d(x,"DIV",{class:!0}),w(i).forEach(f),c=I(x),h=d(x,"DIV",{class:!0}),w(h).forEach(f),x.forEach(f),y.forEach(f),_.forEach(f),b.forEach(f),this.h()},h(){o(i,"class",n="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(s[0]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]")),o(h,"class",v="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(s[0]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]")),o(r,"class","flex h-6 w-6 flex-col items-center"),o(l,"class","flex h-[72px] w-8 items-center justify-center opacity-20 group-hover:opacity-100 transition"),o(t,"class",""),o(t,"data-state","closed"),o(e,"id","sidebar-toggle-button"),o(e,"class","group")},m(p,b){U(p,e,b),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),g||(m=J(e,"click",s[37]),g=!0)},p(p,b){b[0]&1&&n!==(n="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[0.15rem] "+(p[0]?"group-hover:rotate-[15deg]":"group-hover:rotate-[-15deg]"))&&o(i,"class",n),b[0]&1&&v!==(v="h-3 w-1 rounded-full bg-[#0f0f0f] dark:bg-white rotate-0 translate-y-[-0.15rem] "+(p[0]?"group-hover:rotate-[-15deg]":"group-hover:rotate-[15deg]"))&&o(h,"class",v)},d(p){p&&f(e),g=!1,m()}}}function po(s){var X;let e,t,l,r,i=`<div class="flex self-center"><div class="self-center mr-1.5"><img src="${Ks}/static/leger-symbol-inverted.png" class="w-7 -translate-x-1.5 rounded-full" alt="logo"/></div> <div class="self-center font-medium text-sm">New Chat</div></div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path d="M5.433 13.917l1.262-3.155A4 4 0 017.58 9.42l6.92-6.918a2.121 2.121 0 013 3l-6.92 6.918c-.383.383-.84.685-1.343.886l-3.154 1.262a.5.5 0 01-.65-.65z"></path><path d="M3.5 5.75c0-.69.56-1.25 1.25-1.25H10A.75.75 0 0010 3H4.75A2.75 2.75 0 002 5.75v9.5A2.75 2.75 0 004.75 18h9.5A2.75 2.75 0 0017 15.25V10a.75.75 0 00-1.5 0v5.25c0 .69-.56 1.25-1.25 1.25h-9.5c-.69 0-1.25-.56-1.25-1.25v-9.5z"></path></svg></div>`,n,c,h,v,g,m,p,b='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',_,y,x,T,S,L,N,O,z,B,j,V,E,M,R,W,H=((X=s[8])==null?void 0:X.role)==="admin"&&Cs(),k=!(s[7].saveChatHistory??!0)&&Is(s),D=s[10].length>0&&Ts(s),q=Ne(s[9].filter(s[22])),A=[];for(let Z=0;Z<q.length;Z+=1)A[Z]=Ms(xs(s,q,Z));let F=s[8]!==void 0&&Vs(s);return V=new Ys({props:{placement:"right",content:`${s[0]?"Close":"Open"} sidebar`,touch:!1,$$slots:{default:[vo]},$$scope:{ctx:s}}}),{c(){e=u("div"),t=u("div"),l=u("div"),r=u("a"),r.innerHTML=i,n=C(),H&&H.c(),c=C(),h=u("div"),k&&k.c(),v=C(),g=u("div"),m=u("div"),p=u("div"),p.innerHTML=b,_=C(),y=u("input"),x=C(),D&&D.c(),T=C(),S=u("div");for(let Z=0;Z<A.length;Z+=1)A[Z].c();L=C(),N=u("div"),O=u("div"),F&&F.c(),B=C(),j=u("div"),Xe(V.$$.fragment),this.h()},l(Z){e=d(Z,"DIV",{class:!0});var K=w(e);t=d(K,"DIV",{class:!0});var G=w(t);l=d(G,"DIV",{class:!0});var $=w(l);r=d($,"A",{id:!0,class:!0,href:!0,"data-svelte-h":!0}),P(r)!=="svelte-eq8g1t"&&(r.innerHTML=i),$.forEach(f),n=I(G),H&&H.l(G),c=I(G),h=d(G,"DIV",{class:!0});var Q=w(h);k&&k.l(Q),v=I(Q),g=d(Q,"DIV",{class:!0});var Y=w(g);m=d(Y,"DIV",{class:!0,id:!0});var le=w(m);p=d(le,"DIV",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-3funz9"&&(p.innerHTML=b),_=I(le),y=d(le,"INPUT",{class:!0,placeholder:!0}),le.forEach(f),Y.forEach(f),x=I(Q),D&&D.l(Q),T=I(Q),S=d(Q,"DIV",{class:!0});var te=w(S);for(let ge=0;ge<A.length;ge+=1)A[ge].l(te);te.forEach(f),Q.forEach(f),L=I(G),N=d(G,"DIV",{class:!0});var oe=w(N);O=d(oe,"DIV",{class:!0});var ce=w(O);F&&F.l(ce),ce.forEach(f),oe.forEach(f),G.forEach(f),B=I(K),j=d(K,"DIV",{class:!0});var fe=w(j);Qe(V.$$.fragment,fe),fe.forEach(f),K.forEach(f),this.h()},h(){o(r,"id","sidebar-new-chat-button"),o(r,"class","flex-grow flex justify-between rounded-xl px-3.5 py-2 hover:bg-gray-900 transition"),o(r,"href","/"),o(l,"class","px-2 flex justify-center space-x-2"),o(p,"class","self-center pl-3 py-2 rounded-l-xl bg-gray-950"),o(y,"class","w-full rounded-r-xl py-1.5 pl-2.5 pr-4 text-sm text-gray-300 bg-gray-950 outline-none"),o(y,"placeholder","Search"),o(m,"class","flex w-full"),o(m,"id","chat-search"),o(g,"class","px-2 mt-1 mb-2 flex justify-center space-x-2"),o(S,"class","pl-2 my-2 flex-1 flex flex-col space-y-1 overflow-y-auto"),o(h,"class","relative flex flex-col flex-1 overflow-y-auto"),o(O,"class","flex flex-col"),o(N,"class","px-2.5"),o(t,"class",z="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(s[0]?"":"invisible")),o(j,"class","fixed left-0 top-[50dvh] z-40 -translate-y-1/2 transition-transform translate-x-[255px] md:translate-x-[260px] rotate-0"),o(e,"class",E="h-screen max-h-[100dvh] min-h-screen "+(s[0]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-black text-gray-200 shadow-2xl text-sm transition z-40 fixed top-0 left-0")},m(Z,K){U(Z,e,K),a(e,t),a(t,l),a(l,r),a(t,n),H&&H.m(t,null),a(t,c),a(t,h),k&&k.m(h,null),a(h,v),a(h,g),a(g,m),a(m,p),a(m,_),a(m,y),ne(y,s[2]),a(h,x),D&&D.m(h,null),a(h,T),a(h,S);for(let G=0;G<A.length;G+=1)A[G]&&A[G].m(S,null);a(t,L),a(t,N),a(N,O),F&&F.m(O,null),a(e,B),a(e,j),$e(V,j,null),s[38](e),M=!0,R||(W=[J(r,"click",s[16]),J(y,"input",s[18]),J(y,"focus",s[19])],R=!0)},p(Z,K){var $;if((($=Z[8])==null?void 0:$.role)==="admin"?H||(H=Cs(),H.c(),H.m(t,c)):H&&(H.d(1),H=null),Z[7].saveChatHistory??!0?k&&(k.d(1),k=null):k?k.p(Z,K):(k=Is(Z),k.c(),k.m(h,v)),K[0]&4&&y.value!==Z[2]&&ne(y,Z[2]),Z[10].length>0?D?D.p(Z,K):(D=Ts(Z),D.c(),D.m(h,T)):D&&(D.d(1),D=null),K[0]&27197){q=Ne(Z[9].filter(Z[22]));let Q;for(Q=0;Q<q.length;Q+=1){const Y=xs(Z,q,Q);A[Q]?A[Q].p(Y,K):(A[Q]=Ms(Y),A[Q].c(),A[Q].m(S,null))}for(;Q<A.length;Q+=1)A[Q].d(1);A.length=q.length}Z[8]!==void 0?F?F.p(Z,K):(F=Vs(Z),F.c(),F.m(O,null)):F&&(F.d(1),F=null),(!M||K[0]&1&&z!==(z="py-2.5 my-auto flex flex-col justify-between h-screen max-h-[100dvh] w-[260px] "+(Z[0]?"":"invisible")))&&o(t,"class",z);const G={};K[0]&1&&(G.content=`${Z[0]?"Close":"Open"} sidebar`),K[0]&1|K[1]&131072&&(G.$$scope={dirty:K,ctx:Z}),V.$set(G),(!M||K[0]&1&&E!==(E="h-screen max-h-[100dvh] min-h-screen "+(Z[0]?"lg:relative w-[260px]":"-translate-x-[260px] w-[0px]")+" bg-black text-gray-200 shadow-2xl text-sm transition z-40 fixed top-0 left-0"))&&o(e,"class",E)},i(Z){M||(Ue(V.$$.fragment,Z),M=!0)},o(Z){Ge(V.$$.fragment,Z),M=!1},d(Z){Z&&f(e),H&&H.d(),k&&k.d(),D&&D.d(),st(A,Z),F&&F.d(),et(V),s[38](null),R=!1,ze(W)}}}function mo(s,e,t){let l,r,i,n,c;Ye(s,Ht,Y=>t(7,l=Y)),Ye(s,wt,Y=>t(8,r=Y)),Ye(s,yt,Y=>t(9,i=Y)),Ye(s,Qt,Y=>t(10,n=Y)),Ye(s,br,Y=>t(11,c=Y));let h=!1,v,g="",m=null,p=null,b="",_=!1;ut(async()=>{window.innerWidth>1024&&t(0,h=!0),await yt.set(await It(localStorage.token))});const y=async Y=>{const le=await Promise.all(Y.map(async te=>{const oe=await Nr(localStorage.token,te.id).catch(ce=>null);return oe&&(te.chat=oe.chat),te}));await yt.set(le)},x=async(Y,le)=>{await Pr(localStorage.token,Y,{title:le}),await yt.set(await It(localStorage.token))},T=async Y=>{await jr(localStorage.token,Y).catch(te=>(Be.error(te),t(3,m=null),null))&&(Tt("/"),await yt.set(await It(localStorage.token)))},S=async Y=>{await Ht.set({...l,...Y}),localStorage.setItem("settings",JSON.stringify(l)),location.href="/"},L=async()=>{await Tt("/");const Y=document.getElementById("new-chat-button");setTimeout(()=>{Y==null||Y.click()},0)},N=()=>{S({saveChatHistory:!0})};function O(){g=this.value,t(2,g)}const z=()=>{y(i)},B=async()=>{await yt.set(await It(localStorage.token))},j=async Y=>{let le=await Ur(localStorage.token,Y.name);le.length===0&&(await Qt.set(await Xs(localStorage.token)),le=await It(localStorage.token)),await yt.set(le)},V=Y=>{if(g==="")return!0;{let le=Y.title.toLowerCase();const te=g.toLowerCase();let oe=!1;return Y.chat&&Y.chat.messages&&Array.isArray(Y.chat.messages)&&(oe=Y.chat.messages.some(ce=>ce.content&&ce.content.toLowerCase().includes(te))),le.includes(te)||oe}};function E(){b=this.value,t(5,b)}const M=()=>{window.innerWidth<1024&&t(0,h=!1)},R=Y=>{x(Y.id,b),t(4,p=null),t(5,b="")},W=()=>{t(4,p=null),t(5,b="")},H=Y=>{T(Y.id)},k=()=>{t(3,m=null)},D=Y=>{T(Y.id)},q=Y=>{t(5,b=Y.title),t(4,p=Y.id)},A=Y=>{t(3,m=Y.id)},F=()=>{t(6,_=!_)},X=()=>{Tt("/admin"),t(6,_=!1)},Z=()=>{Tt("/playground"),t(6,_=!1)},K=async()=>{await $t.set(!0),t(6,_=!1)},G=()=>{localStorage.removeItem("token"),location.href="/auth",t(6,_=!1)},$=()=>{t(0,h=!h)};function Q(Y){vt[Y?"unshift":"push"](()=>{v=Y,t(1,v)})}return[h,v,g,m,p,b,_,l,r,i,n,c,y,x,T,S,L,N,O,z,B,j,V,E,M,R,W,H,k,D,q,A,F,X,Z,K,G,$,Q]}class go extends at{constructor(e){super(),ot(this,e,mo,po,nt,{},null,[-1,-1])}}function _o(s){let e,t,l,r="Keyboard shortcuts",i,n,c='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',h,v,g,m,p='<div class="flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"><div class="flex flex-col space-y-3 w-full self-start"><div class="w-full flex justify-between items-center"><div class="text-sm">Open new chat</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">O</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Focus chat input</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Esc</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Copy last code block</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">;</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Copy last response</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">C</div></div></div></div> <div class="flex flex-col space-y-3 w-full self-start"><div class="w-full flex justify-between items-center"><div class="text-sm">Toggle settings</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">.</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Toggle sidebar</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">S</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Delete chat</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Shift</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">⌫</div></div></div> <div class="w-full flex justify-between items-center"><div class="text-sm">Show shortcuts</div> <div class="flex space-x-1 text-xs"><div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">Ctrl/⌘</div> <div class="h-fit py-1 px-2 flex items-center justify-center rounded border border-black/10 capitalize text-gray-600 dark:border-white/10 dark:text-gray-300">/</div></div></div></div></div>',b,_;return{c(){e=u("div"),t=u("div"),l=u("div"),l.textContent=r,i=C(),n=u("button"),n.innerHTML=c,h=C(),v=u("hr"),g=C(),m=u("div"),m.innerHTML=p,this.h()},l(y){e=d(y,"DIV",{});var x=w(e);t=d(x,"DIV",{class:!0});var T=w(t);l=d(T,"DIV",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-1kiv0rh"&&(l.textContent=r),i=I(T),n=d(T,"BUTTON",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-745w2y"&&(n.innerHTML=c),T.forEach(f),h=I(x),v=d(x,"HR",{class:!0}),g=I(x),m=d(x,"DIV",{class:!0,"data-svelte-h":!0}),P(m)!=="svelte-1qbe2xr"&&(m.innerHTML=p),x.forEach(f),this.h()},h(){o(l,"class","text-lg font-medium self-center"),o(n,"class","self-center"),o(t,"class","flex justify-between dark:text-gray-300 px-5 py-4"),o(v,"class","dark:border-gray-800"),o(m,"class","flex flex-col md:flex-row w-full p-5 md:space-x-4 dark:text-gray-200")},m(y,x){U(y,e,x),a(e,t),a(t,l),a(t,i),a(t,n),a(e,h),a(e,v),a(e,g),a(e,m),b||(_=J(n,"click",s[1]),b=!0)},p:Ae,d(y){y&&f(e),b=!1,_()}}}function bo(s){let e,t,l;function r(n){s[2](n)}let i={$$slots:{default:[_o]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new dl({props:i}),vt.push(()=>Dt(e,"show",r)),{c(){Xe(e.$$.fragment)},l(n){Qe(e.$$.fragment,n)},m(n,c){$e(e,n,c),l=!0},p(n,[c]){const h={};c&9&&(h.$$scope={dirty:c,ctx:n}),!t&&c&1&&(t=!0,h.show=n[0],Et(()=>t=!1)),e.$set(h)},i(n){l||(Ue(e.$$.fragment,n),l=!0)},o(n){Ge(e.$$.fragment,n),l=!1},d(n){et(e,n)}}}function wo(s,e,t){let{show:l=!1}=e;const r=()=>{t(0,l=!1)};function i(n){l=n,t(0,l)}return s.$$set=n=>{"show"in n&&t(0,l=n.show)},[l,r,i]}class yo extends at{constructor(e){super(),ot(this,e,wo,bo,nt,{show:0})}}function Ss(s,e,t){const l=s.slice();return l[18]=e[t],l}function Os(s){let e,t=Ne({length:s[6]}),l=[];for(let r=0;r<t.length;r+=1)l[r]=Hs(Ss(s,t,r));return{c(){e=u("div");for(let r=0;r<l.length;r+=1)l[r].c();this.h()},l(r){e=d(r,"DIV",{class:!0});var i=w(e);for(let n=0;n<l.length;n+=1)l[n].l(i);i.forEach(f),this.h()},h(){o(e,"class","confetti-holder svelte-io58ff"),Vt(e,"rounded",s[9]),Vt(e,"cone",s[10]),Vt(e,"no-gravity",s[11])},m(r,i){U(r,e,i);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null)},p(r,i){if(i&20991){t=Ne({length:r[6]});let n;for(n=0;n<t.length;n+=1){const c=Ss(r,t,n);l[n]?l[n].p(c,i):(l[n]=Hs(c),l[n].c(),l[n].m(e,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}i&512&&Vt(e,"rounded",r[9]),i&1024&&Vt(e,"cone",r[10]),i&2048&&Vt(e,"no-gravity",r[11])},d(r){r&&f(e),st(l,r)}}}function Hs(s){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{class:!0,style:!0}),w(e).forEach(f),this.h()},h(){o(e,"class","confetti svelte-io58ff"),We(e,"--fall-distance",s[8]),We(e,"--size",s[0]+"px"),We(e,"--color",s[14]()),We(e,"--skew",it(-45,45)+"deg,"+it(-45,45)+"deg"),We(e,"--rotation-xyz",it(-10,10)+", "+it(-10,10)+", "+it(-10,10)),We(e,"--rotation-deg",it(0,360)+"deg"),We(e,"--translate-y-multiplier",it(s[2][0],s[2][1])),We(e,"--translate-x-multiplier",it(s[1][0],s[1][1])),We(e,"--scale",.1*it(2,10)),We(e,"--transition-duration",s[4]?`calc(${s[3]}ms * var(--scale))`:`${s[3]}ms`),We(e,"--transition-delay",it(s[5][0],s[5][1])+"ms"),We(e,"--transition-iteration-count",s[4]?"infinite":s[7]),We(e,"--x-spread",1-s[12])},m(t,l){U(t,e,l)},p(t,l){l&256&&We(e,"--fall-distance",t[8]),l&1&&We(e,"--size",t[0]+"px"),l&4&&We(e,"--translate-y-multiplier",it(t[2][0],t[2][1])),l&2&&We(e,"--translate-x-multiplier",it(t[1][0],t[1][1])),l&24&&We(e,"--transition-duration",t[4]?`calc(${t[3]}ms * var(--scale))`:`${t[3]}ms`),l&32&&We(e,"--transition-delay",it(t[5][0],t[5][1])+"ms"),l&144&&We(e,"--transition-iteration-count",t[4]?"infinite":t[7]),l&4096&&We(e,"--x-spread",1-t[12])},d(t){t&&f(e)}}}function xo(s){let e,t=!s[13]&&Os(s);return{c(){t&&t.c(),e=lt()},l(l){t&&t.l(l),e=lt()},m(l,r){t&&t.m(l,r),U(l,e,r)},p(l,[r]){l[13]?t&&(t.d(1),t=null):t?t.p(l,r):(t=Os(l),t.c(),t.m(e.parentNode,e))},i:Ae,o:Ae,d(l){l&&f(e),t&&t.d(l)}}}function it(s,e){return Math.random()*(e-s)+s}function ko(s,e,t){let{size:l=10}=e,{x:r=[-.5,.5]}=e,{y:i=[.25,1]}=e,{duration:n=2e3}=e,{infinite:c=!1}=e,{delay:h=[0,50]}=e,{colorRange:v=[0,360]}=e,{colorArray:g=[]}=e,{amount:m=50}=e,{iterationCount:p=1}=e,{fallDistance:b="100px"}=e,{rounded:_=!1}=e,{cone:y=!1}=e,{noGravity:x=!1}=e,{xSpread:T=.15}=e,{destroyOnComplete:S=!0}=e,L=!1;ut(()=>{!S||c||p=="infinite"||setTimeout(()=>t(13,L=!0),(n+h[1])*p)});function N(){return g.length?g[Math.round(Math.random()*(g.length-1))]:`hsl(${Math.round(it(v[0],v[1]))}, 75%, 50%)`}return s.$$set=O=>{"size"in O&&t(0,l=O.size),"x"in O&&t(1,r=O.x),"y"in O&&t(2,i=O.y),"duration"in O&&t(3,n=O.duration),"infinite"in O&&t(4,c=O.infinite),"delay"in O&&t(5,h=O.delay),"colorRange"in O&&t(15,v=O.colorRange),"colorArray"in O&&t(16,g=O.colorArray),"amount"in O&&t(6,m=O.amount),"iterationCount"in O&&t(7,p=O.iterationCount),"fallDistance"in O&&t(8,b=O.fallDistance),"rounded"in O&&t(9,_=O.rounded),"cone"in O&&t(10,y=O.cone),"noGravity"in O&&t(11,x=O.noGravity),"xSpread"in O&&t(12,T=O.xSpread),"destroyOnComplete"in O&&t(17,S=O.destroyOnComplete)},[l,r,i,n,c,h,m,p,b,_,y,x,T,L,N,v,g,S]}class Co extends at{constructor(e){super(),ot(this,e,ko,xo,nt,{size:0,x:1,y:2,duration:3,infinite:4,delay:5,colorRange:15,colorArray:16,amount:6,iterationCount:7,fallDistance:8,rounded:9,cone:10,noGravity:11,xSpread:12,destroyOnComplete:17})}}function Bs(s,e,t){const l=s.slice();return l[7]=e[t],l}function Ns(s,e,t){const l=s.slice();return l[10]=e[t],l}function Ps(s,e,t){const l=s.slice();return l[13]=e[t],l}function js(s){let e,t=Ne(Object.keys(s[1])),l=[];for(let r=0;r<t.length;r+=1)l[r]=Rs(Bs(s,t,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=lt()},l(r){for(let i=0;i<l.length;i+=1)l[i].l(r);e=lt()},m(r,i){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(r,i);U(r,e,i)},p(r,i){if(i&2){t=Ne(Object.keys(r[1]));let n;for(n=0;n<t.length;n+=1){const c=Bs(r,t,n);l[n]?l[n].p(c,i):(l[n]=Rs(c),l[n].c(),l[n].m(e.parentNode,e))}for(;n<l.length;n+=1)l[n].d(1);l.length=t.length}},d(r){r&&f(e),st(l,r)}}}function Us(s){let e,t,l=s[1][s[7]][s[10]][s[13]].title+"",r,i,n,c=s[1][s[7]][s[10]][s[13]].content+"",h;return{c(){e=u("div"),t=u("div"),r=Me(l),i=C(),n=u("div"),h=Me(c),this.h()},l(v){e=d(v,"DIV",{class:!0});var g=w(e);t=d(g,"DIV",{class:!0});var m=w(t);r=Ve(m,l),m.forEach(f),i=I(g),n=d(g,"DIV",{class:!0});var p=w(n);h=Ve(p,c),p.forEach(f),g.forEach(f),this.h()},h(){o(t,"class","font-semibold uppercase"),o(n,"class","mb-2 mt-1"),o(e,"class","text-sm mb-2")},m(v,g){U(v,e,g),a(e,t),a(t,r),a(e,i),a(e,n),a(n,h)},p(v,g){g&2&&l!==(l=v[1][v[7]][v[10]][v[13]].title+"")&&Ze(r,l),g&2&&c!==(c=v[1][v[7]][v[10]][v[13]].content+"")&&Ze(h,c)},d(v){v&&f(e)}}}function zs(s){let e,t,l=s[10]+"",r,i,n,c,h=Ne(Object.keys(s[1][s[7]][s[10]])),v=[];for(let g=0;g<h.length;g+=1)v[g]=Us(Ps(s,h,g));return{c(){e=u("div"),t=u("div"),r=Me(l),n=C(),c=u("div");for(let g=0;g<v.length;g+=1)v[g].c();this.h()},l(g){e=d(g,"DIV",{class:!0});var m=w(e);t=d(m,"DIV",{class:!0});var p=w(t);r=Ve(p,l),p.forEach(f),n=I(m),c=d(m,"DIV",{class:!0});var b=w(c);for(let _=0;_<v.length;_+=1)v[_].l(b);b.forEach(f),m.forEach(f),this.h()},h(){o(t,"class",i="font-bold uppercase text-xs "+(s[10]==="added"?"text-white bg-blue-600":s[10]==="fixed"?"text-white bg-green-600":s[10]==="changed"?"text-white bg-yellow-600":s[10]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5"),o(c,"class","my-2.5 px-1.5"),o(e,"class","")},m(g,m){U(g,e,m),a(e,t),a(t,r),a(e,n),a(e,c);for(let p=0;p<v.length;p+=1)v[p]&&v[p].m(c,null)},p(g,m){if(m&2&&l!==(l=g[10]+"")&&Ze(r,l),m&2&&i!==(i="font-bold uppercase text-xs "+(g[10]==="added"?"text-white bg-blue-600":g[10]==="fixed"?"text-white bg-green-600":g[10]==="changed"?"text-white bg-yellow-600":g[10]==="removed"?"text-white bg-red-600":"")+" w-fit px-3 rounded-full my-2.5")&&o(t,"class",i),m&2){h=Ne(Object.keys(g[1][g[7]][g[10]]));let p;for(p=0;p<h.length;p+=1){const b=Ps(g,h,p);v[p]?v[p].p(b,m):(v[p]=Us(b),v[p].c(),v[p].m(c,null))}for(;p<v.length;p+=1)v[p].d(1);v.length=h.length}},d(g){g&&f(e),st(v,g)}}}function Rs(s){let e,t,l,r=s[7]+"",i,n,c=s[1][s[7]].date+"",h,v,g,m,p,b=Ne(Object.keys(s[1][s[7]]).filter(Zs)),_=[];for(let y=0;y<b.length;y+=1)_[y]=zs(Ns(s,b,y));return{c(){e=u("div"),t=u("div"),l=Me("v"),i=Me(r),n=Me(" - "),h=Me(c),v=C(),g=u("hr"),m=C();for(let y=0;y<_.length;y+=1)_[y].c();p=C(),this.h()},l(y){e=d(y,"DIV",{class:!0});var x=w(e);t=d(x,"DIV",{class:!0});var T=w(t);l=Ve(T,"v"),i=Ve(T,r),n=Ve(T," - "),h=Ve(T,c),T.forEach(f),v=I(x),g=d(x,"HR",{class:!0}),m=I(x);for(let S=0;S<_.length;S+=1)_[S].l(x);p=I(x),x.forEach(f),this.h()},h(){o(t,"class","font-bold text-xl mb-1 dark:text-white"),o(g,"class","dark:border-gray-800 my-2"),o(e,"class","mb-3 pr-2")},m(y,x){U(y,e,x),a(e,t),a(t,l),a(t,i),a(t,n),a(t,h),a(e,v),a(e,g),a(e,m);for(let T=0;T<_.length;T+=1)_[T]&&_[T].m(e,null);a(e,p)},p(y,x){if(x&2&&r!==(r=y[7]+"")&&Ze(i,r),x&2&&c!==(c=y[1][y[7]].date+"")&&Ze(h,c),x&2){b=Ne(Object.keys(y[1][y[7]]).filter(Zs));let T;for(T=0;T<b.length;T+=1){const S=Ns(y,b,T);_[T]?_[T].p(S,x):(_[T]=zs(S),_[T].c(),_[T].m(e,p))}for(;T<_.length;T+=1)_[T].d(1);_.length=b.length}},d(y){y&&f(e),st(_,y)}}}function Io(s){let e,t,l,r,i,n,c,h,v,g='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',m,p,b,_="Release Notes",y,x,T,S,L,N,O,z,B,j,V,E,M,R,W,H='<span class="relative">Okay, Let&#39;s Go!</span>',k,D,q;c=new Co({props:{x:[-1,-.25],y:[0,.5]}});let A=s[1]&&js(s);return{c(){e=u("div"),t=u("div"),l=u("div"),r=Me("What’s New in "),i=Me(s[2]),n=C(),Xe(c.$$.fragment),h=C(),v=u("button"),v.innerHTML=g,m=C(),p=u("div"),b=u("div"),b.textContent=_,y=C(),x=u("div"),T=C(),S=u("div"),L=Me("v"),N=Me(Lt),O=C(),z=u("hr"),B=C(),j=u("div"),V=u("div"),E=u("div"),A&&A.c(),M=C(),R=u("div"),W=u("button"),W.innerHTML=H,this.h()},l(F){e=d(F,"DIV",{class:!0});var X=w(e);t=d(X,"DIV",{class:!0});var Z=w(t);l=d(Z,"DIV",{class:!0});var K=w(l);r=Ve(K,"What’s New in "),i=Ve(K,s[2]),n=I(K),Qe(c.$$.fragment,K),K.forEach(f),h=I(Z),v=d(Z,"BUTTON",{class:!0,"data-svelte-h":!0}),P(v)!=="svelte-745w2y"&&(v.innerHTML=g),Z.forEach(f),m=I(X),p=d(X,"DIV",{class:!0});var G=w(p);b=d(G,"DIV",{class:!0,"data-svelte-h":!0}),P(b)!=="svelte-jop83j"&&(b.textContent=_),y=I(G),x=d(G,"DIV",{class:!0}),w(x).forEach(f),T=I(G),S=d(G,"DIV",{class:!0});var $=w(S);L=Ve($,"v"),N=Ve($,Lt),$.forEach(f),G.forEach(f),X.forEach(f),O=I(F),z=d(F,"HR",{class:!0}),B=I(F),j=d(F,"DIV",{class:!0});var Q=w(j);V=d(Q,"DIV",{class:!0});var Y=w(V);E=d(Y,"DIV",{class:!0});var le=w(E);A&&A.l(le),le.forEach(f),Y.forEach(f),M=I(Q),R=d(Q,"DIV",{class:!0});var te=w(R);W=d(te,"BUTTON",{class:!0,"data-svelte-h":!0}),P(W)!=="svelte-d24sb8"&&(W.innerHTML=H),te.forEach(f),Q.forEach(f),this.h()},h(){o(l,"class","text-xl font-bold"),o(v,"class","self-center"),o(t,"class","flex justify-between items-start"),o(b,"class","text-sm dark:text-gray-200"),o(x,"class","flex self-center w-[1px] h-6 mx-2.5 bg-gray-200 dark:bg-gray-700"),o(S,"class","text-sm dark:text-gray-200"),o(p,"class","flex items-center mt-1"),o(e,"class","px-5 py-4 dark:text-gray-300"),o(z,"class","dark:border-gray-800"),o(E,"class","mb-3"),o(V,"class","overflow-y-scroll max-h-80"),o(W,"class","px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded"),o(R,"class","flex justify-end pt-3 text-sm font-medium"),o(j,"class","w-full p-4 px-5")},m(F,X){U(F,e,X),a(e,t),a(t,l),a(l,r),a(l,i),a(l,n),$e(c,l,null),a(t,h),a(t,v),a(e,m),a(e,p),a(p,b),a(p,y),a(p,x),a(p,T),a(p,S),a(S,L),a(S,N),U(F,O,X),U(F,z,X),U(F,B,X),U(F,j,X),a(j,V),a(V,E),A&&A.m(E,null),a(j,M),a(j,R),a(R,W),k=!0,D||(q=[J(v,"click",s[4]),J(W,"click",s[5])],D=!0)},p(F,X){(!k||X&4)&&Ze(i,F[2]),F[1]?A?A.p(F,X):(A=js(F),A.c(),A.m(E,null)):A&&(A.d(1),A=null)},i(F){k||(Ue(c.$$.fragment,F),k=!0)},o(F){Ge(c.$$.fragment,F),k=!1},d(F){F&&(f(e),f(O),f(z),f(B),f(j)),et(c),A&&A.d(),D=!1,ze(q)}}}function To(s){let e,t,l;function r(n){s[6](n)}let i={$$slots:{default:[Io]},$$scope:{ctx:s}};return s[0]!==void 0&&(i.show=s[0]),e=new dl({props:i}),vt.push(()=>Dt(e,"show",r)),{c(){Xe(e.$$.fragment)},l(n){Qe(e.$$.fragment,n)},m(n,c){$e(e,n,c),l=!0},p(n,[c]){const h={};c&65551&&(h.$$scope={dirty:c,ctx:n}),!t&&c&1&&(t=!0,h.show=n[0],Et(()=>t=!1)),e.$set(h)},i(n){l||(Ue(e.$$.fragment,n),l=!0)},o(n){Ge(e.$$.fragment,n),l=!1},d(n){et(e,n)}}}const Zs=s=>s!=="date";function Eo(s,e,t){let l,r;Ye(s,ul,g=>t(2,l=g)),Ye(s,Ot,g=>t(3,r=g));let{show:i=!1}=e,n=null;ut(async()=>{const g=await Yr();t(1,n=g)});const c=()=>{t(0,i=!1)},h=()=>{localStorage.version=r.version,t(0,i=!1)};function v(g){i=g,t(0,i)}return s.$$set=g=>{"show"in g&&t(0,i=g.show)},[i,n,l,r,c,h,v]}class Do extends at{constructor(e){super(),ot(this,e,Eo,To,nt,{show:0})}}function qs(s){let e,t,l,r,i,n,c,h,v,g,m,p,b,_,y,x,T,S,L;t=new Ys({props:{content:"help",placement:"left",$$slots:{default:[Mo]},$$scope:{ctx:s}}});function N(k){s[12](k)}let O={};s[4]!==void 0&&(O.show=s[4]),r=new yo({props:O}),vt.push(()=>Dt(r,"show",N));function z(k,D){if(D&32&&(h=null),h==null&&(h=!["user","admin"].includes(k[5].role)),h)return Lo;if(k[3].length>0)return Vo}let B=z(s,-1),j=B&&B(s);m=new go({});function V(k){s[17](k)}let E={};s[6]!==void 0&&(E.show=s[6]),b=new oo({props:E}),vt.push(()=>Dt(b,"show",V));function M(k){s[18](k)}let R={};s[7]!==void 0&&(R.show=s[7]),x=new Do({props:R}),vt.push(()=>Dt(x,"show",M));const W=s[9].default,H=rr(W,s,s[19],null);return{c(){e=u("div"),Xe(t.$$.fragment),l=C(),Xe(r.$$.fragment),n=C(),c=u("div"),j&&j.c(),v=C(),g=u("div"),Xe(m.$$.fragment),p=C(),Xe(b.$$.fragment),y=C(),Xe(x.$$.fragment),S=C(),H&&H.c(),this.h()},l(k){e=d(k,"DIV",{class:!0});var D=w(e);Qe(t.$$.fragment,D),D.forEach(f),l=I(k),Qe(r.$$.fragment,k),n=I(k),c=d(k,"DIV",{class:!0});var q=w(c);j&&j.l(q),v=I(q),g=d(q,"DIV",{class:!0});var A=w(g);Qe(m.$$.fragment,A),p=I(A),Qe(b.$$.fragment,A),y=I(A),Qe(x.$$.fragment,A),S=I(A),H&&H.l(A),A.forEach(f),q.forEach(f),this.h()},h(){o(e,"class","hidden lg:flex fixed bottom-0 right-0 px-3 py-3 z-10"),o(g,"class","text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-900 min-h-screen overflow-auto flex flex-row"),o(c,"class","app relative")},m(k,D){U(k,e,D),$e(t,e,null),U(k,l,D),$e(r,k,D),U(k,n,D),U(k,c,D),j&&j.m(c,null),a(c,v),a(c,g),$e(m,g,null),a(g,p),$e(b,g,null),a(g,y),$e(x,g,null),a(g,S),H&&H.m(g,null),L=!0},p(k,D){const q={};D&524306&&(q.$$scope={dirty:D,ctx:k}),t.$set(q);const A={};!i&&D&16&&(i=!0,A.show=k[4],Et(()=>i=!1)),r.$set(A),B===(B=z(k,D))&&j?j.p(k,D):(j&&j.d(1),j=B&&B(k),j&&(j.c(),j.m(c,v)));const F={};!_&&D&64&&(_=!0,F.show=k[6],Et(()=>_=!1)),b.$set(F);const X={};!T&&D&128&&(T=!0,X.show=k[7],Et(()=>T=!1)),x.$set(X),H&&H.p&&(!L||D&524288)&&nr(H,W,k,k[19],L?or(W,k[19],D,null):ar(k[19]),null)},i(k){L||(Ue(t.$$.fragment,k),Ue(r.$$.fragment,k),Ue(m.$$.fragment,k),Ue(b.$$.fragment,k),Ue(x.$$.fragment,k),Ue(H,k),L=!0)},o(k){Ge(t.$$.fragment,k),Ge(r.$$.fragment,k),Ge(m.$$.fragment,k),Ge(b.$$.fragment,k),Ge(x.$$.fragment,k),Ge(H,k),L=!1},d(k){k&&(f(e),f(l),f(n),f(c)),et(t),et(r,k),j&&j.d(),et(m),et(b),et(x),H&&H.d(k)}}}function Mo(s){let e,t="?",l,r;return{c(){e=u("button"),e.textContent=t,this.h()},l(i){e=d(i,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1hfyx97"&&(e.textContent=t),this.h()},h(){o(e,"id","show-shortcuts-button"),o(e,"class","text-gray-600 dark:text-gray-300 bg-gray-300/20 w-6 h-6 flex items-center justify-center text-xs rounded-full")},m(i,n){U(i,e,n),s[10](e),l||(r=J(e,"click",s[11]),l=!0)},p:Ae,d(i){i&&f(e),s[10](null),l=!1,r()}}}function Vo(s){let e,t,l,r,i,n="Important Update<br/> Action Required for Chat Log Storage",c,h,v=`Saving chat logs directly to your browser&#39;s storage is no longer supported. Please
								take a moment to download and delete your chat logs by clicking the button below.
								Don&#39;t worry, you can easily re-import your chat logs to the backend through <span class="font-semibold dark:text-white">Settings &gt; Chats &gt; Import Chats</span>. This ensures that your valuable conversations are securely saved to your backend
								database. Thank you!`,g,m,p,b="Download & Delete",_,y,x="Close",T,S;return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.innerHTML=n,c=C(),h=u("div"),h.innerHTML=v,g=C(),m=u("div"),p=u("button"),p.textContent=b,_=C(),y=u("button"),y.textContent=x,this.h()},l(L){e=d(L,"DIV",{class:!0});var N=w(e);t=d(N,"DIV",{class:!0});var O=w(t);l=d(O,"DIV",{class:!0});var z=w(l);r=d(z,"DIV",{class:!0});var B=w(r);i=d(B,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-7mhb6e"&&(i.innerHTML=n),c=I(B),h=d(B,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1uwjxvd"&&(h.innerHTML=v),g=I(B),m=d(B,"DIV",{class:!0});var j=w(m);p=d(j,"BUTTON",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-1rvuhik"&&(p.textContent=b),_=I(j),y=d(j,"BUTTON",{class:!0,"data-svelte-h":!0}),P(y)!=="svelte-16xtti5"&&(y.textContent=x),j.forEach(f),B.forEach(f),z.forEach(f),O.forEach(f),N.forEach(f),this.h()},h(){o(i,"class","text-center dark:text-white text-2xl font-medium z-50"),o(h,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(p,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(y,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(m,"class","mt-6 mx-auto relative group w-fit"),o(r,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(L,N){U(L,e,N),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),a(r,g),a(r,m),a(m,p),a(m,_),a(m,y),T||(S=[J(p,"click",s[15]),J(y,"click",s[16])],T=!0)},p:Ae,d(L){L&&f(e),T=!1,ze(S)}}}function Lo(s){let e,t,l,r,i,n="Account Activation Pending<br/> Contact Admin for WebUI Access",c,h,v=`Your account status is currently pending activation. To access the WebUI, please
								reach out to the administrator. Admins can manage user statuses from the Admin
								Panel.`,g,m,p,b="Check Again",_,y,x="Sign Out",T,S;return{c(){e=u("div"),t=u("div"),l=u("div"),r=u("div"),i=u("div"),i.innerHTML=n,c=C(),h=u("div"),h.textContent=v,g=C(),m=u("div"),p=u("button"),p.textContent=b,_=C(),y=u("button"),y.textContent=x,this.h()},l(L){e=d(L,"DIV",{class:!0});var N=w(e);t=d(N,"DIV",{class:!0});var O=w(t);l=d(O,"DIV",{class:!0});var z=w(l);r=d(z,"DIV",{class:!0});var B=w(r);i=d(B,"DIV",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-1g11t2m"&&(i.innerHTML=n),c=I(B),h=d(B,"DIV",{class:!0,"data-svelte-h":!0}),P(h)!=="svelte-1jln5qd"&&(h.textContent=v),g=I(B),m=d(B,"DIV",{class:!0});var j=w(m);p=d(j,"BUTTON",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-gsehe4"&&(p.textContent=b),_=I(j),y=d(j,"BUTTON",{class:!0,"data-svelte-h":!0}),P(y)!=="svelte-9mmxir"&&(y.textContent=x),j.forEach(f),B.forEach(f),z.forEach(f),O.forEach(f),N.forEach(f),this.h()},h(){o(i,"class","text-center dark:text-white text-2xl font-medium z-50"),o(h,"class","mt-4 text-center text-sm dark:text-gray-200 w-full"),o(p,"class","relative z-20 flex px-5 py-2 rounded-full bg-white border border-gray-100 dark:border-none hover:bg-gray-100 transition font-medium text-sm"),o(y,"class","text-xs text-center w-full mt-2 text-gray-400 underline"),o(m,"class","mt-6 mx-auto relative group w-fit"),o(r,"class","max-w-md"),o(l,"class","m-auto pb-44 flex flex-col justify-center"),o(t,"class","absolute w-full h-full backdrop-blur-md bg-white/20 dark:bg-gray-900/50 flex justify-center"),o(e,"class","fixed w-full h-full flex z-50")},m(L,N){U(L,e,N),a(e,t),a(t,l),a(l,r),a(r,i),a(r,c),a(r,h),a(r,g),a(r,m),a(m,p),a(m,_),a(m,y),T||(S=[J(p,"click",s[13]),J(y,"click",s[14])],T=!0)},p:Ae,d(L){L&&f(e),T=!1,ze(S)}}}function Ao(s){let e,t,l=s[0]&&qs(s);return{c(){l&&l.c(),e=lt()},l(r){l&&l.l(r),e=lt()},m(r,i){l&&l.m(r,i),U(r,e,i),t=!0},p(r,[i]){r[0]?l?(l.p(r,i),i&1&&Ue(l,1)):(l=qs(r),l.c(),Ue(l,1),l.m(e.parentNode,e)):l&&(ol(),Ge(l,1,1,()=>{l=null}),il())},i(r){t||(Ue(l),t=!0)},o(r){Ge(l),t=!1},d(r){r&&f(e),l&&l.d(r)}}}function So(s,e,t){let l,r,i,n;Ye(s,Ot,V=>t(21,l=V)),Ye(s,wt,V=>t(5,r=V)),Ye(s,$t,V=>t(6,i=V)),Ye(s,Rt,V=>t(7,n=V));let{$$slots:c={},$$scope:h}=e;const{saveAs:v}=Gs;let g=!1,m,p=null,b=[],_=!1;const y=async()=>{let V=await Promise.all([await Fs(localStorage.token).catch(E=>(console.log(E),null)),await Js(localStorage.token).catch(E=>(console.log(E),null)),await tr(localStorage.token).catch(E=>(console.log(E),null))]);return V=V.filter(E=>E).reduce((E,M,R,W)=>E.concat(M,...R<W.length-1?[{name:"hr"}]:[]),[]),V};ut(async()=>{if(r===void 0)await Tt("/auth");else if(["user","admin"].includes(r.role)){try{if(t(2,p=await cn("Chats",1)),p){const V=await p.getAllFromIndex("chats","timestamp");t(3,b=V.map((E,M)=>V[V.length-1-M])),b.length===0&&await Il("Chats")}console.log(p)}catch{}console.log(),await ht.set(await y()),await _l(),await Ht.set(JSON.parse(localStorage.getItem("settings")??"{}")),await wl.set(await hr(localStorage.token)),await wr.set(await vr(localStorage.token)),await yr.set(await xr(localStorage.token)),await Qt.set(await Xs(localStorage.token)),wl.subscribe(async()=>{await ht.set(await y())}),document.addEventListener("keydown",function(V){var R,W,H,k,D;const E=V.ctrlKey||V.metaKey,M=V.shiftKey;if(E&&M&&V.key.toLowerCase()==="o"&&(V.preventDefault(),console.log("newChat"),(R=document.getElementById("sidebar-new-chat-button"))==null||R.click()),M&&V.key==="Escape"&&(V.preventDefault(),console.log("focusInput"),(W=document.getElementById("chat-textarea"))==null||W.focus()),E&&M&&V.key===";"){V.preventDefault(),console.log("copyLastCodeBlock");const q=[...document.getElementsByClassName("copy-code-button")].at(-1);q==null||q.click()}if(E&&M&&V.key.toLowerCase()==="c"){V.preventDefault(),console.log("copyLastResponse");const q=[...document.getElementsByClassName("copy-response-button")].at(-1);console.log(q),q==null||q.click()}E&&M&&V.key.toLowerCase()==="s"&&(V.preventDefault(),console.log("toggleSidebar"),(H=document.getElementById("sidebar-toggle-button"))==null||H.click()),E&&M&&V.key==="Backspace"&&(V.preventDefault(),console.log("deleteChat"),(k=document.getElementById("delete-chat-button"))==null||k.click()),E&&V.key==="."&&(V.preventDefault(),console.log("openSettings"),(D=document.getElementById("open-settings-button"))==null||D.click()),E&&V.key==="/"&&(V.preventDefault(),console.log("showShortcuts"),m.click())}),r.role==="admin"&&Rt.set(localStorage.version!==l.version),await _l()}t(0,g=!0)});function x(V){vt[V?"unshift":"push"](()=>{m=V,t(1,m)})}const T=()=>{t(4,_=!_)};function S(V){_=V,t(4,_)}const L=async()=>{location.href="/"},N=async()=>{localStorage.removeItem("token"),location.href="/auth"},O=async()=>{let V=new Blob([JSON.stringify(b)],{type:"application/json"});v(V,`chat-export-${Date.now()}.json`);const E=p.transaction("chats","readwrite");await Promise.all([E.store.clear(),E.done]),await Il("Chats"),t(3,b=[])},z=async()=>{t(3,b=[])};function B(V){i=V,$t.set(i)}function j(V){n=V,Rt.set(n)}return s.$$set=V=>{"$$scope"in V&&t(19,h=V.$$scope)},[g,m,p,b,_,r,i,n,v,c,x,T,S,L,N,O,z,B,j,h]}class li extends at{constructor(e){super(),ot(this,e,So,Ao,nt,{})}}export{li as component};
