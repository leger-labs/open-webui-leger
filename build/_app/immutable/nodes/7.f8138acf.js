import{s as ye,a as V,f as o,M as Me,d as m,c as S,g as n,h as T,N as z,j as e,i as se,r as t,u as G,C as ue,K as Le,v as ie,w as he,o as Ie,l as ae,z as me,m as re,A as ge,Q as pe,n as ne,p as Te}from"../chunks/scheduler.67abc04a.js";import{e as we}from"../chunks/each.a99ffc78.js";import{S as He,i as Ce}from"../chunks/index.89481181.js";import{a as oe}from"../chunks/Toaster.svelte_svelte_type_style_lang.9328e92b.js";import{f as Ee}from"../chunks/FileSaver.min.898eb36f.js";import{j as ee,W as Ve}from"../chunks/index.4add80fc.js";import{d as Se}from"../chunks/index.fc4f5c22.js";import{d as De,g as le,c as _e}from"../chunks/index.ad139da8.js";import{g as Ne}from"../chunks/navigation.569133cb.js";function xe(s,i,a){const f=s.slice();return f[20]=i[a],f}function ke(s){let i,a,f,p,r,v,_,u,b,j=s[20].title+"",y,D,N,H=s[20].desc+"",C,h,M,c,U,x,J,q,l,g,A='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"></path></svg>',O,E,$='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.933-2.185 2.25 2.25 0 0 0-3.933 2.185Z"></path></svg>',Q,Z,W='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"></path></svg>',k,L,d;function R(){return s[8](s[20])}function w(){return s[9](s[20])}function X(){return s[10](s[20])}return{c(){i=o("div"),a=o("a"),f=o("div"),p=o("div"),r=o("img"),_=V(),u=o("div"),b=o("div"),y=ae(j),D=V(),N=o("div"),C=ae(H),M=V(),c=o("div"),U=o("a"),x=me("svg"),J=me("path"),l=V(),g=o("button"),g.innerHTML=A,O=V(),E=o("button"),E.innerHTML=$,Q=V(),Z=o("button"),Z.innerHTML=W,k=V(),this.h()},l(I){i=n(I,"DIV",{class:!0});var B=T(i);a=n(B,"A",{class:!0,href:!0});var F=T(a);f=n(F,"DIV",{class:!0});var P=T(f);p=n(P,"DIV",{class:!0});var Y=T(p);r=n(Y,"IMG",{src:!0,alt:!0,class:!0}),Y.forEach(m),P.forEach(m),_=S(F),u=n(F,"DIV",{class:!0});var te=T(u);b=n(te,"DIV",{class:!0});var ce=T(b);y=re(ce,j),ce.forEach(m),D=S(te),N=n(te,"DIV",{class:!0});var de=T(N);C=re(de,H),de.forEach(m),te.forEach(m),F.forEach(m),M=S(B),c=n(B,"DIV",{class:!0});var K=T(c);U=n(K,"A",{class:!0,type:!0,href:!0});var fe=T(U);x=ge(fe,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var ve=T(x);J=ge(ve,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),T(J).forEach(m),ve.forEach(m),fe.forEach(m),l=S(K),g=n(K,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),z(g)!=="svelte-pkad6t"&&(g.innerHTML=A),O=S(K),E=n(K,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),z(E)!=="svelte-1rseo2u"&&(E.innerHTML=$),Q=S(K),Z=n(K,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),z(Z)!=="svelte-1td0slu"&&(Z.innerHTML=W),K.forEach(m),k=S(B),B.forEach(m),this.h()},h(){pe(r.src,v=s[20].imageUrl??"/user.png")||e(r,"src",v),e(r,"alt","modelfile profile"),e(r,"class","rounded-full w-full h-auto object-cover"),e(p,"class","rounded-full bg-stone-700"),e(f,"class","self-center w-10"),e(b,"class","font-bold capitalize"),e(N,"class","text-sm overflow-hidden text-ellipsis line-clamp-1"),e(u,"class","flex-1 self-center"),e(a,"class","flex flex-1 space-x-4 cursor-pointer w-full"),e(a,"href",h=`/?models=${encodeURIComponent(s[20].tagName)}`),e(J,"stroke-linecap","round"),e(J,"stroke-linejoin","round"),e(J,"d","m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"),e(x,"xmlns","http://www.w3.org/2000/svg"),e(x,"fill","none"),e(x,"viewBox","0 0 24 24"),e(x,"stroke-width","1.5"),e(x,"stroke","currentColor"),e(x,"class","w-4 h-4"),e(U,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),e(U,"type","button"),e(U,"href",q=`/modelfiles/edit?tag=${encodeURIComponent(s[20].tagName)}`),e(g,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),e(g,"type","button"),e(E,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),e(E,"type","button"),e(Z,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),e(Z,"type","button"),e(c,"class","flex flex-row space-x-1 self-center"),e(i,"class","flex space-x-4 cursor-pointer w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(I,B){se(I,i,B),t(i,a),t(a,f),t(f,p),t(p,r),t(a,_),t(a,u),t(u,b),t(b,y),t(u,D),t(u,N),t(N,C),t(i,M),t(i,c),t(c,U),t(U,x),t(x,J),t(c,l),t(c,g),t(c,O),t(c,E),t(c,Q),t(c,Z),t(i,k),L||(d=[G(g,"click",R),G(E,"click",w),G(Z,"click",X)],L=!0)},p(I,B){s=I,B&16&&!pe(r.src,v=s[20].imageUrl??"/user.png")&&e(r,"src",v),B&16&&j!==(j=s[20].title+"")&&ne(y,j),B&16&&H!==(H=s[20].desc+"")&&ne(C,H),B&16&&h!==(h=`/?models=${encodeURIComponent(s[20].tagName)}`)&&e(a,"href",h),B&16&&q!==(q=`/modelfiles/edit?tag=${encodeURIComponent(s[20].tagName)}`)&&e(U,"href",q)},d(I){I&&m(i),L=!1,ie(d)}}}function be(s){let i,a,f=s[0].length+"",p,r,v,_,u,b='<div class="self-center mr-2 font-medium">Sync All</div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M13.836 2.477a.75.75 0 0 1 .75.75v3.182a.75.75 0 0 1-.75.75h-3.182a.75.75 0 0 1 0-1.5h1.37l-.84-.841a4.5 4.5 0 0 0-7.08.932.75.75 0 0 1-1.3-.75 6 6 0 0 1 9.44-1.242l.842.84V3.227a.75.75 0 0 1 .75-.75Zm-.911 7.5A.75.75 0 0 1 13.199 11a6 6 0 0 1-9.44 1.241l-.84-.84v1.371a.75.75 0 0 1-1.5 0V9.591a.75.75 0 0 1 .75-.75H5.35a.75.75 0 0 1 0 1.5H3.98l.841.841a4.5 4.5 0 0 0 7.08-.932.75.75 0 0 1 1.025-.273Z" clip-rule="evenodd"></path></svg></div>',j,y,D='<div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg></div>',N,H;return{c(){i=o("div"),a=o("div"),p=ae(f),r=ae(" Local Modelfiles Detected"),v=V(),_=o("div"),u=o("button"),u.innerHTML=b,j=V(),y=o("button"),y.innerHTML=D,this.h()},l(C){i=n(C,"DIV",{class:!0});var h=T(i);a=n(h,"DIV",{class:!0});var M=T(a);p=re(M,f),r=re(M," Local Modelfiles Detected"),M.forEach(m),v=S(h),_=n(h,"DIV",{class:!0});var c=T(_);u=n(c,"BUTTON",{class:!0,"data-svelte-h":!0}),z(u)!=="svelte-7dllhm"&&(u.innerHTML=b),j=S(c),y=n(c,"BUTTON",{class:!0,"data-svelte-h":!0}),z(y)!=="svelte-176wxo6"&&(y.innerHTML=D),c.forEach(m),h.forEach(m),this.h()},h(){e(a,"class","self-center text-sm font-medium mr-4"),e(u,"class","self-center w-fit text-sm px-3 py-1 border dark:border-gray-600 rounded-xl flex"),e(y,"class","self-center w-fit text-sm p-1.5 border dark:border-gray-600 rounded-xl flex"),e(_,"class","flex space-x-1"),e(i,"class","flex")},m(C,h){se(C,i,h),t(i,a),t(a,p),t(a,r),t(i,v),t(i,_),t(_,u),t(_,j),t(_,y),N||(H=[G(u,"click",s[16]),G(y,"click",s[17])],N=!0)},p(C,h){h&1&&f!==(f=C[0].length+"")&&ne(p,f)},d(C){C&&m(i),N=!1,ie(H)}}}function Be(s){let i,a,f,p,r,v,_="My Legerfiles",u,b,j='<div class="self-center w-10"><div class="w-full h-10 flex justify-center rounded-full bg-transparent dark:bg-gray-700 border border-dashed border-gray-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6"><path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg></div></div> <div class="self-center"><div class="font-bold">Create a Legerfile</div> <div class="text-sm">Customize AI models for a specific purpose</div></div>',y,D,N,H,C,h,M,c,U,x,J='<div class="self-center mr-2 font-medium">Import Legerfiles</div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg></div>',q,l,g='<div class="self-center mr-2 font-medium">Export Legerfiles</div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-3.5 h-3.5"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg></div>',A,O,E,$='<a class="flex space-x-4 cursor-pointer w-full mb-2 px-3 py-2" href="https://legerlabs.com" target="_blank"><div class="self-center w-10"><div class="w-full h-10 flex justify-center rounded-full bg-transparent dark:bg-gray-700 border border-dashed border-gray-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6"><path fill-rule="evenodd" d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z" clip-rule="evenodd"></path></svg></div></div> <div class="self-center"><div class="font-bold">Discover a Legerfile</div> <div class="text-sm">Discover, download, and explore model presets</div></div></a>',Q,Z;document.title=i=`
		Modelfiles | ${s[3]}
	`;let W=we(s[4]),k=[];for(let d=0;d<W.length;d+=1)k[d]=ke(xe(s,W,d));let L=s[0].length>0&&be(s);return{c(){a=V(),f=o("div"),p=o("div"),r=o("div"),v=o("div"),v.textContent=_,u=V(),b=o("a"),b.innerHTML=j,y=V(),D=o("hr"),N=V(),H=o("div");for(let d=0;d<k.length;d+=1)k[d].c();C=V(),h=o("div"),M=o("div"),c=o("input"),U=V(),x=o("button"),x.innerHTML=J,q=V(),l=o("button"),l.innerHTML=g,A=V(),L&&L.c(),O=V(),E=o("div"),E.innerHTML=$,this.h()},l(d){Me("svelte-1kq4swv",document.head).forEach(m),a=S(d),f=n(d,"DIV",{class:!0});var w=T(f);p=n(w,"DIV",{class:!0});var X=T(p);r=n(X,"DIV",{class:!0});var I=T(r);v=n(I,"DIV",{class:!0,"data-svelte-h":!0}),z(v)!=="svelte-131rfgl"&&(v.textContent=_),u=S(I),b=n(I,"A",{class:!0,href:!0,"data-svelte-h":!0}),z(b)!=="svelte-1lhpo78"&&(b.innerHTML=j),y=S(I),D=n(I,"HR",{class:!0}),N=S(I),H=n(I,"DIV",{class:!0});var B=T(H);for(let Y=0;Y<k.length;Y+=1)k[Y].l(B);B.forEach(m),C=S(I),h=n(I,"DIV",{class:!0});var F=T(h);M=n(F,"DIV",{class:!0});var P=T(M);c=n(P,"INPUT",{id:!0,type:!0,accept:!0}),U=S(P),x=n(P,"BUTTON",{class:!0,"data-svelte-h":!0}),z(x)!=="svelte-xkwyu3"&&(x.innerHTML=J),q=S(P),l=n(P,"BUTTON",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-5wvbbr"&&(l.innerHTML=g),P.forEach(m),A=S(F),L&&L.l(F),F.forEach(m),O=S(I),E=n(I,"DIV",{class:!0,"data-svelte-h":!0}),z(E)!=="svelte-1uniajy"&&(E.innerHTML=$),I.forEach(m),X.forEach(m),w.forEach(m),this.h()},h(){e(v,"class","text-2xl font-semibold mb-3"),e(b,"class","flex space-x-4 cursor-pointer w-full mb-2 px-3 py-2"),e(b,"href","/modelfiles/create"),e(D,"class","dark:border-gray-700"),e(H,"class","my-2 mb-5"),e(c,"id","modelfiles-import-input"),e(c,"type","file"),e(c,"accept",".json"),c.hidden=!0,e(x,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),e(l,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),e(M,"class","flex space-x-1"),e(h,"class","flex justify-end w-full mb-3"),e(E,"class","my-16"),e(r,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),e(p,"class","flex flex-col justify-between w-full overflow-y-auto"),e(f,"class","min-h-screen max-h-[100dvh] w-full flex justify-center dark:text-white")},m(d,R){se(d,a,R),se(d,f,R),t(f,p),t(p,r),t(r,v),t(r,u),t(r,b),t(r,y),t(r,D),t(r,N),t(r,H);for(let w=0;w<k.length;w+=1)k[w]&&k[w].m(H,null);t(r,C),t(r,h),t(h,M),t(M,c),s[11](c),t(M,U),t(M,x),t(M,q),t(M,l),t(h,A),L&&L.m(h,null),t(r,O),t(r,E),Q||(Z=[G(c,"change",s[12]),G(c,"change",s[13]),G(x,"click",s[14]),G(l,"click",s[15])],Q=!0)},p(d,[R]){if(R&8&&i!==(i=`
		Modelfiles | ${d[3]}
	`)&&(document.title=i),R&112){W=we(d[4]);let w;for(w=0;w<W.length;w+=1){const X=xe(d,W,w);k[w]?k[w].p(X,R):(k[w]=ke(X),k[w].c(),k[w].m(H,null))}for(;w<k.length;w+=1)k[w].d(1);k.length=W.length}d[0].length>0?L?L.p(d,R):(L=be(d),L.c(),L.m(h,null)):L&&(L.d(1),L=null)},i:ue,o:ue,d(d){d&&(m(a),m(f)),Le(k,d),s[11](null),L&&L.d(),Q=!1,ie(Z)}}}function je(s,i,a){let f,p;he(s,Ve,l=>a(3,f=l)),he(s,ee,l=>a(4,p=l));const{saveAs:r}=Ee;let v=[],_,u;const b=async l=>{let g=null;return g=await Se(localStorage.token,l).catch(A=>(oe.error(A),null)),g&&oe.success(`Deleted ${l}`),g},j=async l=>{await b(l),await De(localStorage.token,l),await ee.set(await le(localStorage.token))},y=async l=>{oe.success("Redirecting you to LegerUI Community");const g="https://openwebui.com",A=await window.open(`${g}/modelfiles/create`,"_blank");window.addEventListener("message",O=>{O.origin===g&&O.data==="loaded"&&A.postMessage(JSON.stringify(l),"*")},!1)},D=async l=>{let g=new Blob([JSON.stringify(l)],{type:"application/json"});r(g,`modelfiles-export-${Date.now()}.json`)};Ie(()=>{a(0,v=JSON.parse(localStorage.getItem("modelfiles")??"[]")),v&&console.log(v)});const N=l=>{sessionStorage.modelfile=JSON.stringify(l),Ne("/modelfiles/create")},H=l=>{y(l)},C=l=>{j(l.tagName)};function h(l){Te[l?"unshift":"push"](()=>{u=l,a(2,u)})}function M(){_=this.files,a(1,_)}return[v,_,u,f,p,j,y,D,N,H,C,h,M,()=>{console.log(_);let l=new FileReader;l.onload=async g=>{let A=JSON.parse(g.target.result);console.log(A);for(const O of A)await _e(localStorage.token,O).catch(E=>null);await ee.set(await le(localStorage.token))},l.readAsText(_[0])},()=>{u.click()},async()=>{D(p)},async()=>{for(const l of v)await _e(localStorage.token,l).catch(g=>null);D(v),localStorage.removeItem("modelfiles"),a(0,v=JSON.parse(localStorage.getItem("modelfiles")??"[]")),await ee.set(await le(localStorage.token))},async()=>{D(v),localStorage.removeItem("modelfiles"),a(0,v=JSON.parse(localStorage.getItem("modelfiles")??"[]")),await ee.set(await le(localStorage.token))}]}class Fe extends He{constructor(i){super(),Ce(this,i,je,Be,ye,{})}}export{Fe as component};
