import{s as Rt,f as d,g as u,h as _,d as h,j as n,i as rt,r,u as st,C as $t,U as Oe,z as Ct,A as Vt,p as Pt,V as Yt,o as oe,a as E,N as G,c as I,P as yt,O as ue,v as Kt,Z as Qt,l as Dt,m as Et,n as Xt,M as Pe,K as He,w as me,e as ge}from"../chunks/scheduler.db7150c1.js";import{S as Wt,i as te,f as Jt,b as Mt,d as Lt,m as Ht,a as it,t as ft,e as St,g as ne,c as ae}from"../chunks/index.b1cd4f75.js";import{g as ze}from"../chunks/globals.7f7f1b26.js";import{e as re}from"../chunks/each.53f911cf.js";import{a as Nt}from"../chunks/Toaster.svelte_svelte_type_style_lang.447a0fc4.js";import{f as qe}from"../chunks/FileSaver.min.898eb36f.js";import{k as Tt,S as Se,l as Be,W as Fe}from"../chunks/index.b30409fa.js";import{u as $e,g as Ut,t as pe,c as de,d as _e}from"../chunks/index.2ac9bee2.js";import{c as Re,d as Ze,s as Ge,e as Qe,f as Xe,u as Ne}from"../chunks/index.cf5e6540.js";import{t as Ae}from"../chunks/index.496e36ff.js";import"../chunks/dayjs.min.1e504c00.js";import{M as fe}from"../chunks/Modal.5f424d00.js";import{T as je,A as Ye}from"../chunks/Tags.bb18b253.js";function Je(s){let t,e;return{c(){t=Ct("svg"),e=Ct("path"),this.h()},l(l){t=Vt(l,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var o=_(t);e=Vt(o,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(e).forEach(h),o.forEach(h),this.h()},h(){n(e,"stroke","currentColor"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"stroke-width","3"),n(e,"d","M5 12h14"),n(t,"class","w-3 h-3.5 text-gray-800 dark:text-white"),n(t,"aria-hidden","true"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"fill","none"),n(t,"viewBox","0 0 24 24")},m(l,o){rt(l,t,o),r(t,e)},d(l){l&&h(t)}}}function Ke(s){let t,e;return{c(){t=Ct("svg"),e=Ct("path"),this.h()},l(l){t=Vt(l,"svg",{class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var o=_(t);e=Vt(o,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(e).forEach(h),o.forEach(h),this.h()},h(){n(e,"stroke","currentColor"),n(e,"stroke-linecap","round"),n(e,"stroke-linejoin","round"),n(e,"stroke-width","3"),n(e,"d","m5 12 4.7 4.5 9.3-9"),n(t,"class","w-3.5 h-3.5"),n(t,"aria-hidden","true"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"fill","none"),n(t,"viewBox","0 0 24 24")},m(l,o){rt(l,t,o),r(t,e)},d(l){l&&h(t)}}}function We(s){let t,e,l,o,f;function a(v,g){if(v[2]==="checked")return Ke;if(v[1])return Je}let i=a(s),c=i&&i(s);return{c(){t=d("button"),e=d("div"),c&&c.c(),this.h()},l(v){t=u(v,"BUTTON",{class:!0});var g=_(t);e=u(g,"DIV",{class:!0});var m=_(e);c&&c.l(m),m.forEach(h),g.forEach(h),this.h()},h(){n(e,"class","top-0 left-0 absolute w-full flex justify-center"),n(t,"class",l="outline -outline-offset-1 outline-[1.5px] outline-gray-200 dark:outline-gray-600 "+(s[0]!=="unchecked"?"bg-black outline-black ":"hover:outline-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800")+" text-white transition-all rounded inline-block w-3.5 h-3.5 relative")},m(v,g){rt(v,t,g),r(t,e),c&&c.m(e,null),o||(f=st(t,"click",s[4]),o=!0)},p(v,[g]){i!==(i=a(v))&&(c&&c.d(1),c=i&&i(v),c&&(c.c(),c.m(e,null))),g&1&&l!==(l="outline -outline-offset-1 outline-[1.5px] outline-gray-200 dark:outline-gray-600 "+(v[0]!=="unchecked"?"bg-black outline-black ":"hover:outline-gray-500 hover:bg-gray-50 dark:hover:bg-gray-800")+" text-white transition-all rounded inline-block w-3.5 h-3.5 relative")&&n(t,"class",l)},i:$t,o:$t,d(v){v&&h(t),c&&c.d(),o=!1,f()}}}function tl(s,t,e){const l=Oe();let{state:o="unchecked"}=t,{indeterminate:f=!1}=t,a="unchecked";const i=()=>{a==="unchecked"?(e(2,a="checked"),l("change",a)):a==="checked"?(e(2,a="unchecked"),f||l("change",a)):f&&(e(2,a="checked"),l("change",a))};return s.$$set=c=>{"state"in c&&e(0,o=c.state),"indeterminate"in c&&e(1,f=c.indeterminate)},s.$$.update=()=>{s.$$.dirty&1&&e(2,a=o)},[o,f,a,l,i]}class Ue extends Wt{constructor(t){super(),te(this,t,tl,We,Rt,{state:0,indeterminate:1})}}function el(s){let t,e,l,o="Edit Doc",f,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,v,g,m,w,D,k,x,T,P="Name Tag",V,y,L,R="#",ct,U,N,M,F,O="Title",J,z,K,lt,$,tt,Q="Tags",A,X,mt,p,H='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',C,B,Y;return X=new je({props:{tags:s[1],addTag:s[4],deleteTag:s[5]}}),{c(){t=d("div"),e=d("div"),l=d("div"),l.textContent=o,f=E(),a=d("button"),a.innerHTML=i,c=E(),v=d("hr"),g=E(),m=d("div"),w=d("div"),D=d("form"),k=d("div"),x=d("div"),T=d("div"),T.textContent=P,V=E(),y=d("div"),L=d("div"),L.textContent=R,ct=E(),U=d("input"),N=E(),M=d("div"),F=d("div"),F.textContent=O,J=E(),z=d("div"),K=d("input"),lt=E(),$=d("div"),tt=d("div"),tt.textContent=Q,A=E(),Mt(X.$$.fragment),mt=E(),p=d("div"),p.innerHTML=H,this.h()},l(S){t=u(S,"DIV",{});var Z=_(t);e=u(Z,"DIV",{class:!0});var at=_(e);l=u(at,"DIV",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-1ril91t"&&(l.textContent=o),f=I(at),a=u(at,"BUTTON",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-745w2y"&&(a.innerHTML=i),at.forEach(h),c=I(Z),v=u(Z,"HR",{class:!0}),g=I(Z),m=u(Z,"DIV",{class:!0});var dt=_(m);w=u(dt,"DIV",{class:!0});var j=_(w);D=u(j,"FORM",{class:!0});var pt=_(D);k=u(pt,"DIV",{class:!0});var ut=_(k);x=u(ut,"DIV",{class:!0});var ht=_(x);T=u(ht,"DIV",{class:!0,"data-svelte-h":!0}),G(T)!=="svelte-11m42gz"&&(T.textContent=P),V=I(ht),y=u(ht,"DIV",{class:!0});var At=_(y);L=u(At,"DIV",{class:!0,"data-svelte-h":!0}),G(L)!=="svelte-9ujxug"&&(L.textContent=R),ct=I(At),U=u(At,"INPUT",{class:!0,type:!0,autocomplete:!0}),At.forEach(h),ht.forEach(h),N=I(ut),M=u(ut,"DIV",{class:!0});var bt=_(M);F=u(bt,"DIV",{class:!0,"data-svelte-h":!0}),G(F)!=="svelte-bs5oh2"&&(F.textContent=O),J=I(bt),z=u(bt,"DIV",{class:!0});var _t=_(z);K=u(_t,"INPUT",{class:!0,type:!0,autocomplete:!0}),_t.forEach(h),bt.forEach(h),lt=I(ut),$=u(ut,"DIV",{class:!0});var Bt=_($);tt=u(Bt,"DIV",{class:!0,"data-svelte-h":!0}),G(tt)!=="svelte-1tnbnwm"&&(tt.textContent=Q),A=I(Bt),Lt(X.$$.fragment,Bt),Bt.forEach(h),ut.forEach(h),mt=I(pt),p=u(pt,"DIV",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-1g42ope"&&(p.innerHTML=H),pt.forEach(h),j.forEach(h),dt.forEach(h),Z.forEach(h),this.h()},h(){n(l,"class","text-lg font-medium self-center"),n(a,"class","self-center"),n(e,"class","flex justify-between dark:text-gray-300 px-5 py-4"),n(v,"class","dark:border-gray-800"),n(T,"class","mb-1 text-xs text-gray-500"),n(L,"class","bg-gray-200 dark:bg-gray-600 font-bold px-3 py-1 border border-r-0 dark:border-gray-600 rounded-l-lg flex items-center"),n(U,"class","w-full rounded-r-lg py-2.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 disabled:text-gray-500 dark:disabled:text-gray-500 outline-none svelte-1vx7r9s"),n(U,"type","text"),n(U,"autocomplete","off"),U.required=!0,n(y,"class","flex flex-1"),n(x,"class","flex flex-col w-full"),n(F,"class","mb-1 text-xs text-gray-500"),n(K,"class","w-full rounded-lg py-2.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none svelte-1vx7r9s"),n(K,"type","text"),n(K,"autocomplete","off"),K.required=!0,n(z,"class","flex-1"),n(M,"class","flex flex-col w-full"),n(tt,"class","mb-1.5 text-xs text-gray-500"),n($,"class","flex flex-col w-full"),n(k,"class","flex flex-col space-y-1.5"),n(p,"class","flex justify-end pt-5 text-sm font-medium"),n(D,"class","flex flex-col w-full"),n(w,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),n(m,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(S,Z){rt(S,t,Z),r(t,e),r(e,l),r(e,f),r(e,a),r(t,c),r(t,v),r(t,g),r(t,m),r(m,w),r(w,D),r(D,k),r(k,x),r(x,T),r(x,V),r(x,y),r(y,L),r(y,ct),r(y,U),yt(U,s[2].name),r(k,N),r(k,M),r(M,F),r(M,J),r(M,z),r(z,K),yt(K,s[2].title),r(k,lt),r(k,$),r($,tt),r($,A),Ht(X,$,null),r(D,mt),r(D,p),C=!0,B||(Y=[st(a,"click",s[7]),st(U,"input",s[8]),st(K,"input",s[9]),st(D,"submit",ue(s[10]))],B=!0)},p(S,Z){Z&4&&U.value!==S[2].name&&yt(U,S[2].name),Z&4&&K.value!==S[2].title&&yt(K,S[2].title);const at={};Z&2&&(at.tags=S[1]),X.$set(at)},i(S){C||(it(X.$$.fragment,S),C=!0)},o(S){ft(X.$$.fragment,S),C=!1},d(S){S&&h(t),St(X),B=!1,Kt(Y)}}}function ll(s){let t,e,l;function o(a){s[11](a)}let f={size:"sm",$$slots:{default:[el]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),t=new fe({props:f}),Pt.push(()=>Jt(t,"show",o)),{c(){Mt(t.$$.fragment)},l(a){Lt(t.$$.fragment,a)},m(a,i){Ht(t,a,i),l=!0},p(a,[i]){const c={};i&4103&&(c.$$scope={dirty:i,ctx:a}),!e&&i&1&&(e=!0,c.show=a[0],Yt(()=>e=!1)),t.$set(c)},i(a){l||(it(t.$$.fragment,a),l=!0)},o(a){ft(t.$$.fragment,a),l=!1},d(a){St(t,a)}}}function sl(s,t,e){let{show:l=!1}=t,{selectedDoc:o}=t,f=[],a={name:"",title:"",content:null};const i=async()=>{await $e(localStorage.token,o.name,{title:a.title,name:a.name}).catch(T=>{Nt.error(T)})&&(e(0,l=!1),Tt.set(await Ut(localStorage.token)))},c=async x=>{!f.find(T=>T.name===x)&&x!==""?(e(1,f=[...f,{name:x}]),await pe(localStorage.token,a.name,{name:a.name,tags:f}),Tt.set(await Ut(localStorage.token))):console.log("tag already exists")},v=async x=>{e(1,f=f.filter(T=>T.name!==x)),await pe(localStorage.token,a.name,{name:a.name,tags:f}),Tt.set(await Ut(localStorage.token))};oe(()=>{var x;o&&(e(2,a=JSON.parse(JSON.stringify(o))),e(1,f=((x=a==null?void 0:a.content)==null?void 0:x.tags)??[]))});const g=()=>{e(0,l=!1)};function m(){a.name=this.value,e(2,a)}function w(){a.title=this.value,e(2,a)}const D=()=>{i()};function k(x){l=x,e(0,l)}return s.$$set=x=>{"show"in x&&e(0,l=x.show),"selectedDoc"in x&&e(6,o=x.selectedDoc)},[l,f,a,i,c,v,o,g,m,w,D,k]}class nl extends Wt{constructor(t){super(),te(this,t,sl,ll,Rt,{show:0,selectedDoc:6})}}function we(s){let t,e=`<svg class="w-3 h-3" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg"><style>.spinner_ajPY {
										transform-origin: center;
										animation: spinner_AtaB 0.75s infinite linear;
									}
									@keyframes spinner_AtaB {
										100% {
											transform: rotate(360deg);
										}
									}
								</style><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"></path><path d="M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z" class="spinner_ajPY"></path></svg>`;return{c(){t=d("div"),t.innerHTML=e,this.h()},l(l){t=u(l,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1q5d1z1"&&(t.innerHTML=e),this.h()},h(){n(t,"class","ml-3 self-center")},m(l,o){rt(l,t,o)},d(l){l&&h(t)}}}function al(s){let t,e,l,o,f="General Settings",a,i,c,v="Scan for documents from '/data/docs'",g,m,w,D="Scan",k,x,T,P,V,y,L,R="Chunk Params",ct,U,N,M,F="Chunk Size",O,J,z,K,lt,$,tt="Chunk Overlap",Q,A,X,mt,p,H="Query Params",C,B,Y,S,Z="Top K",at,dt,j,pt,ut,ht,At="RAG Template",bt,_t,Bt,ot,wt='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',ee,le,gt=s[1]&&we();return{c(){t=d("form"),e=d("div"),l=d("div"),o=d("div"),o.textContent=f,a=E(),i=d("div"),c=d("div"),c.textContent=v,g=E(),m=d("button"),w=d("div"),w.textContent=D,k=E(),gt&&gt.c(),T=E(),P=d("hr"),V=E(),y=d("div"),L=d("div"),L.textContent=R,ct=E(),U=d("div"),N=d("div"),M=d("div"),M.textContent=F,O=E(),J=d("div"),z=d("input"),K=E(),lt=d("div"),$=d("div"),$.textContent=tt,Q=E(),A=d("div"),X=d("input"),mt=E(),p=d("div"),p.textContent=H,C=E(),B=d("div"),Y=d("div"),S=d("div"),S.textContent=Z,at=E(),dt=d("div"),j=d("input"),pt=E(),ut=d("div"),ht=d("div"),ht.textContent=At,bt=E(),_t=d("textarea"),Bt=E(),ot=d("div"),ot.innerHTML=wt,this.h()},l(vt){t=u(vt,"FORM",{class:!0});var W=_(t);e=u(W,"DIV",{class:!0});var kt=_(e);l=u(kt,"DIV",{});var nt=_(l);o=u(nt,"DIV",{class:!0,"data-svelte-h":!0}),G(o)!=="svelte-cof781"&&(o.textContent=f),a=I(nt),i=u(nt,"DIV",{class:!0});var Zt=_(i);c=u(Zt,"DIV",{class:!0,"data-svelte-h":!0}),G(c)!=="svelte-kbeq7u"&&(c.textContent=v),g=I(Zt),m=u(Zt,"BUTTON",{class:!0,type:!0});var b=_(m);w=u(b,"DIV",{class:!0,"data-svelte-h":!0}),G(w)!=="svelte-brpk47"&&(w.textContent=D),k=I(b),gt&&gt.l(b),b.forEach(h),Zt.forEach(h),nt.forEach(h),T=I(kt),P=u(kt,"HR",{class:!0}),V=I(kt),y=u(kt,"DIV",{class:!0});var q=_(y);L=u(q,"DIV",{class:!0,"data-svelte-h":!0}),G(L)!=="svelte-bs6nw7"&&(L.textContent=R),ct=I(q),U=u(q,"DIV",{class:!0});var xt=_(U);N=u(xt,"DIV",{class:!0});var jt=_(N);M=u(jt,"DIV",{class:!0,"data-svelte-h":!0}),G(M)!=="svelte-zhubqx"&&(M.textContent=F),O=I(jt),J=u(jt,"DIV",{class:!0});var et=_(J);z=u(et,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),et.forEach(h),jt.forEach(h),K=I(xt),lt=u(xt,"DIV",{class:!0});var It=_(lt);$=u(It,"DIV",{class:!0,"data-svelte-h":!0}),G($)!=="svelte-dln3z5"&&($.textContent=tt),Q=I(It),A=u(It,"DIV",{class:!0});var zt=_(A);X=u(zt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),zt.forEach(h),It.forEach(h),xt.forEach(h),mt=I(q),p=u(q,"DIV",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-1b76pt8"&&(p.textContent=H),C=I(q),B=u(q,"DIV",{class:!0});var se=_(B);Y=u(se,"DIV",{class:!0});var Ot=_(Y);S=u(Ot,"DIV",{class:!0,"data-svelte-h":!0}),G(S)!=="svelte-1dvxwaa"&&(S.textContent=Z),at=I(Ot),dt=u(Ot,"DIV",{class:!0});var qt=_(dt);j=u(qt,"INPUT",{class:!0,type:!0,placeholder:!0,autocomplete:!0,min:!0}),qt.forEach(h),Ot.forEach(h),se.forEach(h),pt=I(q),ut=u(q,"DIV",{});var Ft=_(ut);ht=u(Ft,"DIV",{class:!0,"data-svelte-h":!0}),G(ht)!=="svelte-ho3jbh"&&(ht.textContent=At),bt=I(Ft),_t=u(Ft,"TEXTAREA",{class:!0,rows:!0}),_(_t).forEach(h),Ft.forEach(h),q.forEach(h),kt.forEach(h),Bt=I(W),ot=u(W,"DIV",{class:!0,"data-svelte-h":!0}),G(ot)!=="svelte-1w4736w"&&(ot.innerHTML=wt),W.forEach(h),this.h()},h(){n(o,"class","mb-2 text-sm font-medium"),n(c,"class","self-center text-xs font-medium"),n(w,"class","self-center font-medium"),n(m,"class",x="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded flex flex-row space-x-1 items-center "+(s[1]?" cursor-not-allowed":"")),n(m,"type","button"),m.disabled=s[1],n(i,"class","flex w-full justify-between"),n(P,"class","dark:border-gray-700"),n(L,"class","text-sm font-medium"),n(M,"class","self-center text-xs font-medium min-w-fit"),n(z,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),n(z,"type","number"),n(z,"placeholder","Enter Chunk Size"),n(z,"autocomplete","off"),n(z,"min","0"),n(J,"class","self-center p-3"),n(N,"class","flex w-full justify-between"),n($,"class","self-center text-xs font-medium min-w-fit"),n(X,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),n(X,"type","number"),n(X,"placeholder","Enter Chunk Overlap"),n(X,"autocomplete","off"),n(X,"min","0"),n(A,"class","self-center p-3"),n(lt,"class","flex w-full"),n(U,"class","flex"),n(p,"class","text-sm font-medium"),n(S,"class","self-center text-xs font-medium flex-1"),n(j,"class","w-full rounded py-1.5 px-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none border border-gray-100 dark:border-gray-600"),n(j,"type","number"),n(j,"placeholder","Enter Top K"),n(j,"autocomplete","off"),n(j,"min","0"),n(dt,"class","self-center p-3"),n(Y,"class","flex w-full justify-between"),n(B,"class","flex"),n(ht,"class","mb-2.5 text-sm font-medium"),n(_t,"class","w-full rounded p-4 text-sm dark:text-gray-300 dark:bg-gray-800 outline-none resize-none"),n(_t,"rows","4"),n(y,"class",""),n(e,"class","space-y-3 pr-1.5 overflow-y-scroll max-h-80"),n(ot,"class","flex justify-end pt-3 text-sm font-medium"),n(t,"class","flex flex-col h-full justify-between space-y-3 text-sm")},m(vt,W){rt(vt,t,W),r(t,e),r(e,l),r(l,o),r(l,a),r(l,i),r(i,c),r(i,g),r(i,m),r(m,w),r(m,k),gt&&gt.m(m,null),r(e,T),r(e,P),r(e,V),r(e,y),r(y,L),r(y,ct),r(y,U),r(U,N),r(N,M),r(N,O),r(N,J),r(J,z),yt(z,s[2]),r(U,K),r(U,lt),r(lt,$),r(lt,Q),r(lt,A),r(A,X),yt(X,s[3]),r(y,mt),r(y,p),r(y,C),r(y,B),r(B,Y),r(Y,S),r(Y,at),r(Y,dt),r(dt,j),yt(j,s[4].k),r(y,pt),r(y,ut),r(ut,ht),r(ut,bt),r(ut,_t),yt(_t,s[4].template),r(t,Bt),r(t,ot),ee||(le=[st(m,"click",s[7]),st(z,"input",s[8]),st(X,"input",s[9]),st(j,"input",s[10]),st(_t,"input",s[11]),st(t,"submit",ue(s[12]))],ee=!0)},p(vt,[W]){vt[1]?gt||(gt=we(),gt.c(),gt.m(m,null)):gt&&(gt.d(1),gt=null),W&2&&x!==(x="self-center text-xs p-1 px-3 bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 rounded flex flex-row space-x-1 items-center "+(vt[1]?" cursor-not-allowed":""))&&n(m,"class",x),W&2&&(m.disabled=vt[1]),W&4&&Qt(z.value)!==vt[2]&&yt(z,vt[2]),W&8&&Qt(X.value)!==vt[3]&&yt(X,vt[3]),W&16&&Qt(j.value)!==vt[4].k&&yt(j,vt[4].k),W&16&&yt(_t,vt[4].template)},i:$t,o:$t,d(vt){vt&&h(t),gt&&gt.d(),ee=!1,Kt(le)}}}function rl(s,t,e){let{saveHandler:l}=t,o=!1,f=0,a=0,i={template:"",k:4};const c=async()=>{e(1,o=!0);const T=await Ge(localStorage.token);e(1,o=!1),T&&(await Tt.set(await Ut(localStorage.token)),Nt.success("Scan complete!"))},v=async()=>{await Qe(localStorage.token,f,a),e(4,i=await Xe(localStorage.token,i))};oe(async()=>{const T=await Re(localStorage.token);T&&(e(2,f=T.chunk_size),e(3,a=T.chunk_overlap)),e(4,i=await Ze(localStorage.token))});const g=()=>{c(),console.log("check")};function m(){f=Qt(this.value),e(2,f)}function w(){a=Qt(this.value),e(3,a)}function D(){i.k=Qt(this.value),e(4,i)}function k(){i.template=this.value,e(4,i)}const x=()=>{v(),l()};return s.$$set=T=>{"saveHandler"in T&&e(0,l=T.saveHandler)},[l,o,f,a,i,c,v,g,m,w,D,k,x]}class ol extends Wt{constructor(t){super(),te(this,t,rl,al,Rt,{saveHandler:0})}}function xe(s){let t,e;return t=new ol({props:{saveHandler:s[4]}}),{c(){Mt(t.$$.fragment)},l(l){Lt(t.$$.fragment,l)},m(l,o){Ht(t,l,o),e=!0},p(l,o){const f={};o&1&&(f.saveHandler=l[4]),t.$set(f)},i(l){e||(it(t.$$.fragment,l),e=!0)},o(l){ft(t.$$.fragment,l),e=!1},d(l){St(t,l)}}}function il(s){let t,e,l,o="Document Settings",f,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,v,g,m,w,D,k,x='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg>',T,P,V="General",y,L,R,ct,U,N,M=s[1]==="general"&&xe(s);return{c(){t=d("div"),e=d("div"),l=d("div"),l.textContent=o,f=E(),a=d("button"),a.innerHTML=i,c=E(),v=d("hr"),g=E(),m=d("div"),w=d("div"),D=d("button"),k=d("div"),k.innerHTML=x,T=E(),P=d("div"),P.textContent=V,L=E(),R=d("div"),M&&M.c(),this.h()},l(F){t=u(F,"DIV",{});var O=_(t);e=u(O,"DIV",{class:!0});var J=_(e);l=u(J,"DIV",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-a7e8yf"&&(l.textContent=o),f=I(J),a=u(J,"BUTTON",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-745w2y"&&(a.innerHTML=i),J.forEach(h),c=I(O),v=u(O,"HR",{class:!0}),g=I(O),m=u(O,"DIV",{class:!0});var z=_(m);w=u(z,"DIV",{class:!0});var K=_(w);D=u(K,"BUTTON",{class:!0});var lt=_(D);k=u(lt,"DIV",{class:!0,"data-svelte-h":!0}),G(k)!=="svelte-1k1ieum"&&(k.innerHTML=x),T=I(lt),P=u(lt,"DIV",{class:!0,"data-svelte-h":!0}),G(P)!=="svelte-115rgpl"&&(P.textContent=V),lt.forEach(h),K.forEach(h),L=I(z),R=u(z,"DIV",{class:!0});var $=_(R);M&&M.l($),$.forEach(h),z.forEach(h),O.forEach(h),this.h()},h(){n(l,"class","text-lg font-medium self-center"),n(a,"class","self-center"),n(e,"class","flex justify-between dark:text-gray-300 px-5 py-4"),n(v,"class","dark:border-gray-800"),n(k,"class","self-center mr-2"),n(P,"class","self-center"),n(D,"class",y="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(s[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")),n(w,"class","tabs flex flex-row overflow-x-auto space-x-1 md:space-x-0 md:space-y-1 md:flex-col flex-1 md:flex-none md:w-40 dark:text-gray-200 text-xs text-left mb-3 md:mb-0"),n(R,"class","flex-1 md:min-h-[380px]"),n(m,"class","flex flex-col md:flex-row w-full p-4 md:space-x-4")},m(F,O){rt(F,t,O),r(t,e),r(e,l),r(e,f),r(e,a),r(t,c),r(t,v),r(t,g),r(t,m),r(m,w),r(w,D),r(D,k),r(D,T),r(D,P),r(m,L),r(m,R),M&&M.m(R,null),ct=!0,U||(N=[st(a,"click",s[2]),st(D,"click",s[3])],U=!0)},p(F,O){(!ct||O&2&&y!==(y="px-2.5 py-2.5 min-w-fit rounded-lg flex-1 md:flex-none flex text-right transition "+(F[1]==="general"?"bg-gray-200 dark:bg-gray-700":" hover:bg-gray-300 dark:hover:bg-gray-800")))&&n(D,"class",y),F[1]==="general"?M?(M.p(F,O),O&2&&it(M,1)):(M=xe(F),M.c(),it(M,1),M.m(R,null)):M&&(ne(),ft(M,1,1,()=>{M=null}),ae())},i(F){ct||(it(M),ct=!0)},o(F){ft(M),ct=!1},d(F){F&&h(t),M&&M.d(),U=!1,Kt(N)}}}function cl(s){let t,e,l;function o(a){s[5](a)}let f={$$slots:{default:[il]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),t=new fe({props:f}),Pt.push(()=>Jt(t,"show",o)),{c(){Mt(t.$$.fragment)},l(a){Lt(t.$$.fragment,a)},m(a,i){Ht(t,a,i),l=!0},p(a,[i]){const c={};i&67&&(c.$$scope={dirty:i,ctx:a}),!e&&i&1&&(e=!0,c.show=a[0],Yt(()=>e=!1)),t.$set(c)},i(a){l||(it(t.$$.fragment,a),l=!0)},o(a){ft(t.$$.fragment,a),l=!1},d(a){St(t,a)}}}function dl(s,t,e){let{show:l=!1}=t,o="general";const f=()=>{e(0,l=!1)},a=()=>{e(1,o="general")},i=()=>{e(0,l=!1)};function c(v){l=v,e(0,l)}return s.$$set=v=>{"show"in v&&e(0,l=v.show)},[l,o,f,a,i,c]}class ul extends Wt{constructor(t){super(),te(this,t,dl,cl,Rt,{show:0})}}function fl(s){let t;return{c(){t=Dt("Click here to select documents.")},l(e){t=Et(e,"Click here to select documents.")},m(e,l){rt(e,t,l)},p:$t,d(e){e&&h(t)}}}function hl(s){let t=s[2].length>0?`${s[2].length}`:"",e,l;return{c(){e=Dt(t),l=Dt(" document(s) selected.")},l(o){e=Et(o,t),l=Et(o," document(s) selected.")},m(o,f){rt(o,e,f),rt(o,l,f)},p(o,f){f&4&&t!==(t=o[2].length>0?`${o[2].length}`:"")&&Xt(e,t)},d(o){o&&(h(e),h(l))}}}function vl(s){let t,e,l,o="Add Docs",f,a,i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-5 h-5"><path d="M6.28 5.22a.75.75 0 00-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 101.06 1.06L10 11.06l3.72 3.72a.75.75 0 101.06-1.06L11.06 10l3.72-3.72a.75.75 0 00-1.06-1.06L10 8.94 6.28 5.22z"></path></svg>',c,v,g,m,w,D,k,x,T,P,V,y,L,R,ct="Tags",U,N,M,F,O='<button class="px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-gray-100 transition rounded" type="submit">Save</button>',J,z,K;function lt(Q,A){return Q[2]?hl:fl}let $=lt(s),tt=$(s);return N=new je({props:{tags:s[3],addTag:s[5],deleteTag:s[6]}}),{c(){t=d("div"),e=d("div"),l=d("div"),l.textContent=o,f=E(),a=d("button"),a.innerHTML=i,c=E(),v=d("hr"),g=E(),m=d("div"),w=d("div"),D=d("form"),k=d("div"),x=d("input"),T=E(),P=d("button"),tt.c(),V=E(),y=d("div"),L=d("div"),R=d("div"),R.textContent=ct,U=E(),Mt(N.$$.fragment),M=E(),F=d("div"),F.innerHTML=O,this.h()},l(Q){t=u(Q,"DIV",{});var A=_(t);e=u(A,"DIV",{class:!0});var X=_(e);l=u(X,"DIV",{class:!0,"data-svelte-h":!0}),G(l)!=="svelte-k9q435"&&(l.textContent=o),f=I(X),a=u(X,"BUTTON",{class:!0,"data-svelte-h":!0}),G(a)!=="svelte-745w2y"&&(a.innerHTML=i),X.forEach(h),c=I(A),v=u(A,"HR",{class:!0}),g=I(A),m=u(A,"DIV",{class:!0});var mt=_(m);w=u(mt,"DIV",{class:!0});var p=_(w);D=u(p,"FORM",{class:!0});var H=_(D);k=u(H,"DIV",{class:!0});var C=_(k);x=u(C,"INPUT",{id:!0,type:!0,class:!0}),T=I(C),P=u(C,"BUTTON",{class:!0,type:!0});var B=_(P);tt.l(B),B.forEach(h),C.forEach(h),V=I(H),y=u(H,"DIV",{class:!0});var Y=_(y);L=u(Y,"DIV",{class:!0});var S=_(L);R=u(S,"DIV",{class:!0,"data-svelte-h":!0}),G(R)!=="svelte-1tnbnwm"&&(R.textContent=ct),U=I(S),Lt(N.$$.fragment,S),S.forEach(h),Y.forEach(h),M=I(H),F=u(H,"DIV",{class:!0,"data-svelte-h":!0}),G(F)!=="svelte-1g42ope"&&(F.innerHTML=O),H.forEach(h),p.forEach(h),mt.forEach(h),A.forEach(h),this.h()},h(){n(l,"class","text-lg font-medium self-center"),n(a,"class","self-center"),n(e,"class","flex justify-between dark:text-gray-300 px-5 py-4"),n(v,"class","dark:border-gray-800"),n(x,"id","upload-doc-input"),x.hidden=!0,n(x,"type","file"),x.multiple=!0,n(x,"class","svelte-1vx7r9s"),n(P,"class","w-full text-sm font-medium py-3 bg-gray-850 hover:bg-gray-800 text-center rounded-xl"),n(P,"type","button"),n(k,"class","mb-3 w-full"),n(R,"class","mb-1.5 text-xs text-gray-500"),n(L,"class","flex flex-col w-full"),n(y,"class","flex flex-col space-y-1.5"),n(F,"class","flex justify-end pt-5 text-sm font-medium"),n(D,"class","flex flex-col w-full"),n(w,"class","flex flex-col w-full sm:flex-row sm:justify-center sm:space-x-6"),n(m,"class","flex flex-col md:flex-row w-full px-5 py-4 md:space-x-4 dark:text-gray-200")},m(Q,A){rt(Q,t,A),r(t,e),r(e,l),r(e,f),r(e,a),r(t,c),r(t,v),r(t,g),r(t,m),r(m,w),r(w,D),r(D,k),r(k,x),s[9](x),r(k,T),r(k,P),tt.m(P,null),r(D,V),r(D,y),r(y,L),r(L,R),r(L,U),Ht(N,L,null),r(D,M),r(D,F),J=!0,z||(K=[st(a,"click",s[8]),st(x,"change",s[10]),st(P,"click",s[11]),st(D,"submit",ue(s[12]))],z=!0)},p(Q,A){$===($=lt(Q))&&tt?tt.p(Q,A):(tt.d(1),tt=$(Q),tt&&(tt.c(),tt.m(P,null)));const X={};A&8&&(X.tags=Q[3]),N.$set(X)},i(Q){J||(it(N.$$.fragment,Q),J=!0)},o(Q){ft(N.$$.fragment,Q),J=!1},d(Q){Q&&h(t),s[9](null),tt.d(),St(N),z=!1,Kt(K)}}}function ml(s){let t,e,l;function o(a){s[13](a)}let f={size:"sm",$$slots:{default:[vl]},$$scope:{ctx:s}};return s[0]!==void 0&&(f.show=s[0]),t=new fe({props:f}),Pt.push(()=>Jt(t,"show",o)),{c(){Mt(t.$$.fragment)},l(a){Lt(t.$$.fragment,a)},m(a,i){Ht(t,a,i),l=!0},p(a,[i]){const c={};i&65551&&(c.$$scope={dirty:i,ctx:a}),!e&&i&1&&(e=!0,c.show=a[0],Yt(()=>e=!1)),t.$set(c)},i(a){l||(it(t.$$.fragment,a),l=!0)},o(a){ft(t.$$.fragment,a),l=!1},d(a){St(t,a)}}}function gl(s,t,e){let{show:l=!1}=t,{selectedDoc:o}=t,f,a,i=[];const c=async V=>{const y=await Ne(localStorage.token,"",V).catch(L=>(Nt.error(L),null));y&&(await de(localStorage.token,y.collection_name,y.filename,Ae(y.filename),y.filename,i.length>0?{tags:i}:null).catch(L=>(Nt.error(L),null)),await Tt.set(await Ut(localStorage.token)))},v=async()=>{if(a&&a.length>0){for(const V of a)console.log(V,V.name.split(".").at(-1)),Se.includes(V.type)||Be.includes(V.name.split(".").at(-1))||Nt.error(`Unknown File Type '${V.type}', but accepting and treating as plain text`),c(V);e(2,a=null),e(1,f.value="",f)}else Nt.error("File not found.");e(0,l=!1),Tt.set(await Ut(localStorage.token))},g=async V=>{!i.find(y=>y.name===V)&&V!==""?e(3,i=[...i,{name:V}]):console.log("tag already exists")},m=async V=>{e(3,i=i.filter(y=>y.name!==V))};oe(()=>{});const w=()=>{e(0,l=!1)};function D(V){Pt[V?"unshift":"push"](()=>{f=V,e(1,f)})}function k(){a=this.files,e(2,a)}const x=()=>{f.click()},T=()=>{v()};function P(V){l=V,e(0,l)}return s.$$set=V=>{"show"in V&&e(0,l=V.show),"selectedDoc"in V&&e(7,o=V.selectedDoc)},[l,f,a,i,v,g,m,o,w,D,k,x,T,P]}class pl extends Wt{constructor(t){super(),te(this,t,gl,ml,Rt,{show:0,selectedDoc:7})}}const{document:ce}=ze;function be(s,t,e){const l=s.slice();return l[35]=t[e],l[36]=t,l[37]=e,l}function ke(s,t,e){const l=s.slice();return l[38]=t[e],l}function ye(s){let t,e,l,o,f,a;return f=new Ye({props:{$$slots:{default:[_l]},$$scope:{ctx:s}}}),{c(){t=d("div"),e=d("div"),l=d("div"),o=d("div"),Mt(f.$$.fragment),this.h()},l(i){t=u(i,"DIV",{class:!0,id:!0,role:!0,"aria-label":!0});var c=_(t);e=u(c,"DIV",{class:!0});var v=_(e);l=u(v,"DIV",{class:!0});var g=_(l);o=u(g,"DIV",{class:!0});var m=_(o);Lt(f.$$.fragment,m),m.forEach(h),g.forEach(h),v.forEach(h),c.forEach(h),this.h()},h(){n(o,"class","max-w-md"),n(l,"class","m-auto pt-64 flex flex-col justify-center"),n(e,"class","absolute rounded-xl w-full h-full backdrop-blur bg-gray-800/40 flex justify-center"),n(t,"class","fixed w-full h-full flex z-50 touch-none pointer-events-none"),n(t,"id","dropzone"),n(t,"role","region"),n(t,"aria-label","Drag and Drop Container")},m(i,c){rt(i,t,c),r(t,e),r(e,l),r(l,o),Ht(f,o,null),a=!0},i(i){a||(it(f.$$.fragment,i),a=!0)},o(i){ft(f.$$.fragment,i),a=!1},d(i){i&&h(t),St(f)}}}function _l(s){let t,e="Drop any files here to add to my documents";return{c(){t=d("div"),t.textContent=e,this.h()},l(l){t=u(l,"DIV",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-19eg75t"&&(t.textContent=e),this.h()},h(){n(t,"class","mt-2 text-center text-sm dark:text-gray-200 w-full")},m(l,o){rt(l,t,o)},p:$t,d(l){l&&h(t)}}}function De(s){let t,e,l;function o(a){s[16](a)}let f={selectedDoc:s[9]};return s[8]!==void 0&&(f.show=s[8]),t=new nl({props:f}),Pt.push(()=>Jt(t,"show",o)),{c(){Mt(t.$$.fragment)},l(a){Lt(t.$$.fragment,a)},m(a,i){Ht(t,a,i),l=!0},p(a,i){const c={};i[0]&512&&(c.selectedDoc=a[9]),!e&&i[0]&256&&(e=!0,c.show=a[8],Yt(()=>e=!1)),t.$set(c)},i(a){l||(it(t.$$.fragment,a),l=!0)},o(a){ft(t.$$.fragment,a),l=!1},d(a){St(t,a)}}}function Ee(s){let t,e,l,o,f,a;l=new Ue({props:{state:s[11].filter(Ce).length===s[11].length?"checked":"unchecked",indeterminate:s[11].filter(Ve).length>0&&s[11].filter(Me).length!==s[11].length}}),l.$on("change",s[22]);function i(g,m){return m[0]&2048&&(f=null),f==null&&(f=g[11].filter(Dl).length===0),f?xl:wl}let c=i(s,[-1,-1]),v=c(s);return{c(){t=d("div"),e=d("div"),Mt(l.$$.fragment),o=E(),v.c(),this.h()},l(g){t=u(g,"DIV",{class:!0});var m=_(t);e=u(m,"DIV",{class:!0});var w=_(e);Lt(l.$$.fragment,w),w.forEach(h),o=I(m),v.l(m),m.forEach(h),this.h()},h(){n(e,"class","ml-0.5 pr-3 my-auto flex items-center"),n(t,"class","px-2.5 pt-1 flex gap-1 flex-wrap")},m(g,m){rt(g,t,m),r(t,e),Ht(l,e,null),r(t,o),v.m(t,null),a=!0},p(g,m){const w={};m[0]&2048&&(w.state=g[11].filter(Ce).length===g[11].length?"checked":"unchecked"),m[0]&2048&&(w.indeterminate=g[11].filter(Ve).length>0&&g[11].filter(Me).length!==g[11].length),l.$set(w),c===(c=i(g,m))&&v?v.p(g,m):(v.d(1),v=c(g),v&&(v.c(),v.m(t,null)))},i(g){a||(it(l.$$.fragment,g),a=!0)},o(g){ft(l.$$.fragment,g),a=!1},d(g){g&&h(t),St(l),v.d()}}}function wl(s){let t,e,l=s[11].filter(Le).length+"",o,f,a,i,c,v='<div class="text-xs font-medium self-center line-clamp-1">delete</div>',g,m;return{c(){t=d("div"),e=d("div"),o=Dt(l),f=Dt(" Selected"),a=E(),i=d("div"),c=d("button"),c.innerHTML=v,this.h()},l(w){t=u(w,"DIV",{class:!0});var D=_(t);e=u(D,"DIV",{class:!0});var k=_(e);o=Et(k,l),f=Et(k," Selected"),k.forEach(h),a=I(D),i=u(D,"DIV",{class:!0});var x=_(i);c=u(x,"BUTTON",{class:!0,"data-svelte-h":!0}),G(c)!=="svelte-xmow8f"&&(c.innerHTML=v),x.forEach(h),D.forEach(h),this.h()},h(){n(e,"class","text-xs font-medium py-0.5 self-center mr-1"),n(c,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white"),n(i,"class","flex gap-1"),n(t,"class","flex-1 flex w-full justify-between items-center")},m(w,D){rt(w,t,D),r(t,e),r(e,o),r(e,f),r(t,a),r(t,i),r(i,c),g||(m=st(c,"click",s[25]),g=!0)},p(w,D){D[0]&2048&&l!==(l=w[11].filter(Le).length+"")&&Xt(o,l)},d(w){w&&h(t),g=!1,m()}}}function xl(s){let t,e='<div class="text-xs font-medium self-center line-clamp-1">all</div>',l,o,f,a,i=re(s[5]),c=[];for(let v=0;v<i.length;v+=1)c[v]=Ie(ke(s,i,v));return{c(){t=d("button"),t.innerHTML=e,l=E();for(let v=0;v<c.length;v+=1)c[v].c();o=ge(),this.h()},l(v){t=u(v,"BUTTON",{class:!0,"data-svelte-h":!0}),G(t)!=="svelte-1tfinx6"&&(t.innerHTML=e),l=I(v);for(let g=0;g<c.length;g+=1)c[g].l(v);o=ge(),this.h()},h(){n(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(v,g){rt(v,t,g),rt(v,l,g);for(let m=0;m<c.length;m+=1)c[m]&&c[m].m(v,g);rt(v,o,g),f||(a=st(t,"click",s[23]),f=!0)},p(v,g){if(g[0]&34){i=re(v[5]);let m;for(m=0;m<i.length;m+=1){const w=ke(v,i,m);c[m]?c[m].p(w,g):(c[m]=Ie(w),c[m].c(),c[m].m(o.parentNode,o))}for(;m<c.length;m+=1)c[m].d(1);c.length=i.length}},d(v){v&&(h(t),h(l),h(o)),He(c,v),f=!1,a()}}}function Ie(s){let t,e,l,o=s[38]+"",f,a,i,c;function v(){return s[24](s[38])}return{c(){t=d("button"),e=d("div"),l=Dt("#"),f=Dt(o),a=E(),this.h()},l(g){t=u(g,"BUTTON",{class:!0});var m=_(t);e=u(m,"DIV",{class:!0});var w=_(e);l=Et(w,"#"),f=Et(w,o),w.forEach(h),a=I(m),m.forEach(h),this.h()},h(){n(e,"class","text-xs font-medium self-center line-clamp-1"),n(t,"class","px-2 py-0.5 space-x-1 flex h-fit items-center rounded-full transition bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:text-white")},m(g,m){rt(g,t,m),r(t,e),r(e,l),r(e,f),r(t,a),i||(c=st(t,"click",v),i=!0)},p(g,m){s=g,m[0]&32&&o!==(o=s[38]+"")&&Xt(f,o)},d(g){g&&h(t),i=!1,c()}}}function bl(s){let t,e,l,o,f,a;return{c(){t=Ct("svg"),e=Ct("style"),l=Dt(`.spinner_qM83 {
													animation: spinner_8HQG 1.05s infinite;
												}
												.spinner_oXPr {
													animation-delay: 0.1s;
												}
												.spinner_ZTLf {
													animation-delay: 0.2s;
												}
												@keyframes spinner_8HQG {
													0%,
													57.14% {
														animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
														transform: translate(0);
													}
													28.57% {
														animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
														transform: translateY(-6px);
													}
													100% {
														transform: translate(0);
													}
												}
											`),o=Ct("circle"),f=Ct("circle"),a=Ct("circle"),this.h()},l(i){t=Vt(i,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var c=_(t);e=Vt(c,"style",{});var v=_(e);l=Et(v,`.spinner_qM83 {
													animation: spinner_8HQG 1.05s infinite;
												}
												.spinner_oXPr {
													animation-delay: 0.1s;
												}
												.spinner_ZTLf {
													animation-delay: 0.2s;
												}
												@keyframes spinner_8HQG {
													0%,
													57.14% {
														animation-timing-function: cubic-bezier(0.33, 0.66, 0.66, 1);
														transform: translate(0);
													}
													28.57% {
														animation-timing-function: cubic-bezier(0.33, 0, 0.66, 0.33);
														transform: translateY(-6px);
													}
													100% {
														transform: translate(0);
													}
												}
											`),v.forEach(h),o=Vt(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),_(o).forEach(h),f=Vt(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),_(f).forEach(h),a=Vt(c,"circle",{class:!0,cx:!0,cy:!0,r:!0}),_(a).forEach(h),c.forEach(h),this.h()},h(){n(o,"class","spinner_qM83"),n(o,"cx","4"),n(o,"cy","12"),n(o,"r","2.5"),n(f,"class","spinner_qM83 spinner_oXPr"),n(f,"cx","12"),n(f,"cy","12"),n(f,"r","2.5"),n(a,"class","spinner_qM83 spinner_ZTLf"),n(a,"cx","20"),n(a,"cy","12"),n(a,"r","2.5"),n(t,"class","w-6 h-6 translate-y-[0.5px]"),n(t,"fill","currentColor"),n(t,"viewBox","0 0 24 24"),n(t,"xmlns","http://www.w3.org/2000/svg")},m(i,c){rt(i,t,c),r(t,e),r(e,l),r(t,o),r(t,f),r(t,a)},d(i){i&&h(t)}}}function kl(s){let t,e,l;return{c(){t=Ct("svg"),e=Ct("path"),l=Ct("path"),this.h()},l(o){t=Vt(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,class:!0});var f=_(t);e=Vt(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),_(e).forEach(h),l=Vt(f,"path",{d:!0}),_(l).forEach(h),f.forEach(h),this.h()},h(){n(e,"fill-rule","evenodd"),n(e,"d","M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z"),n(e,"clip-rule","evenodd"),n(l,"d","M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"),n(t,"xmlns","http://www.w3.org/2000/svg"),n(t,"viewBox","0 0 24 24"),n(t,"fill","currentColor"),n(t,"class","w-6 h-6")},m(o,f){rt(o,t,f),r(t,e),r(t,l)},d(o){o&&h(t)}}}function Te(s){var H;let t,e,l,o,f,a,i,c,v,g,m,w=s[35].name+"",D,k,x=s[35].filename+"",T,P,V,y,L=s[35].title+"",R,ct,U,N,M='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"></path></svg>',F,O,J='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4"><path stroke-linecap="round" stroke-linejoin="round" d="M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"></path></svg>',z,K,lt,$;l=new Ue({props:{state:((H=s[35])==null?void 0:H.selected)??"unchecked"}});function tt(C,B){return C[35]?kl:bl}let Q=tt(s),A=Q(s);function X(...C){return s[26](s[35],...C)}function mt(...C){return s[27](s[35],...C)}function p(){return s[28](s[35],s[36],s[37])}return{c(){t=d("button"),e=d("div"),Mt(l.$$.fragment),o=E(),f=d("div"),a=d("div"),i=d("div"),A.c(),c=E(),v=d("div"),g=d("div"),m=Dt("#"),D=Dt(w),k=Dt(" ("),T=Dt(x),P=Dt(")"),V=E(),y=d("div"),R=Dt(L),ct=E(),U=d("div"),N=d("button"),N.innerHTML=M,F=E(),O=d("button"),O.innerHTML=J,z=E(),this.h()},l(C){t=u(C,"BUTTON",{class:!0});var B=_(t);e=u(B,"DIV",{class:!0});var Y=_(e);Lt(l.$$.fragment,Y),Y.forEach(h),o=I(B),f=u(B,"DIV",{class:!0});var S=_(f);a=u(S,"DIV",{class:!0});var Z=_(a);i=u(Z,"DIV",{class:!0});var at=_(i);A.l(at),at.forEach(h),c=I(Z),v=u(Z,"DIV",{class:!0});var dt=_(v);g=u(dt,"DIV",{class:!0});var j=_(g);m=Et(j,"#"),D=Et(j,w),k=Et(j," ("),T=Et(j,x),P=Et(j,")"),j.forEach(h),V=I(dt),y=u(dt,"DIV",{class:!0});var pt=_(y);R=Et(pt,L),pt.forEach(h),dt.forEach(h),Z.forEach(h),S.forEach(h),ct=I(B),U=u(B,"DIV",{class:!0});var ut=_(U);N=u(ut,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),G(N)!=="svelte-mdhrvt"&&(N.innerHTML=M),F=I(ut),O=u(ut,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),G(O)!=="svelte-smh81r"&&(O.innerHTML=J),ut.forEach(h),z=I(B),B.forEach(h),this.h()},h(){n(e,"class","my-auto flex items-center"),n(i,"class","p-2.5 bg-red-400 text-white rounded-lg"),n(g,"class","font-bold line-clamp-1"),n(y,"class","text-xs overflow-hidden text-ellipsis line-clamp-1"),n(v,"class","self-center flex-1"),n(a,"class","flex items-center space-x-3"),n(f,"class","flex flex-1 space-x-4 cursor-pointer w-full"),n(N,"class","self-center w-fit text-sm z-20 px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),n(N,"type","button"),n(O,"class","self-center w-fit text-sm px-2 py-2 dark:text-gray-300 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl"),n(O,"type","button"),n(U,"class","flex flex-row space-x-1 self-center"),n(t,"class","flex space-x-4 cursor-pointer text-left w-full px-3 py-2 dark:hover:bg-white/5 hover:bg-black/5 rounded-xl")},m(C,B){rt(C,t,B),r(t,e),Ht(l,e,null),r(t,o),r(t,f),r(f,a),r(a,i),A.m(i,null),r(a,c),r(a,v),r(v,g),r(g,m),r(g,D),r(g,k),r(g,T),r(g,P),r(v,V),r(v,y),r(y,R),r(t,ct),r(t,U),r(U,N),r(U,F),r(U,O),r(t,z),K=!0,lt||($=[st(N,"click",X),st(O,"click",mt),st(t,"click",p)],lt=!0)},p(C,B){var S;s=C;const Y={};B[0]&2048&&(Y.state=((S=s[35])==null?void 0:S.selected)??"unchecked"),l.$set(Y),Q!==(Q=tt(s))&&(A.d(1),A=Q(s),A&&(A.c(),A.m(i,null))),(!K||B[0]&2048)&&w!==(w=s[35].name+"")&&Xt(D,w),(!K||B[0]&2048)&&x!==(x=s[35].filename+"")&&Xt(T,x),(!K||B[0]&2048)&&L!==(L=s[35].title+"")&&Xt(R,L)},i(C){K||(it(l.$$.fragment,C),K=!0)},o(C){ft(l.$$.fragment,C),K=!1},d(C){C&&h(t),St(l),A.d(),lt=!1,Kt($)}}}function yl(s){let t,e,l,o=s[9],f,a,i,c,v,g,m,w,D,k,x,T,P,V="My Documents",y,L,R,ct='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M6.955 1.45A.5.5 0 0 1 7.452 1h1.096a.5.5 0 0 1 .497.45l.17 1.699c.484.12.94.312 1.356.562l1.321-1.081a.5.5 0 0 1 .67.033l.774.775a.5.5 0 0 1 .034.67l-1.08 1.32c.25.417.44.873.561 1.357l1.699.17a.5.5 0 0 1 .45.497v1.096a.5.5 0 0 1-.45.497l-1.699.17c-.12.484-.312.94-.562 1.356l1.082 1.322a.5.5 0 0 1-.034.67l-.774.774a.5.5 0 0 1-.67.033l-1.322-1.08c-.416.25-.872.44-1.356.561l-.17 1.699a.5.5 0 0 1-.497.45H7.452a.5.5 0 0 1-.497-.45l-.17-1.699a4.973 4.973 0 0 1-1.356-.562L4.108 13.37a.5.5 0 0 1-.67-.033l-.774-.775a.5.5 0 0 1-.034-.67l1.08-1.32a4.971 4.971 0 0 1-.561-1.357l-1.699-.17A.5.5 0 0 1 1 8.548V7.452a.5.5 0 0 1 .45-.497l1.699-.17c.12-.484.312-.94.562-1.356L2.629 4.107a.5.5 0 0 1 .034-.67l.774-.774a.5.5 0 0 1 .67-.033L5.43 3.71a4.97 4.97 0 0 1 1.356-.561l.17-1.699ZM6 8c0 .538.212 1.026.558 1.385l.057.057a2 2 0 0 0 2.828-2.828l-.058-.056A2 2 0 0 0 6 8Z" clip-rule="evenodd"></path></svg> <div class="text-xs">Document Settings</div>',U,N,M="ⓘ Use '#' in the prompt input to load and select your documents.",F,O,J,z,K='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"></path></svg>',lt,$,tt,Q,A,X='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path d="M8.75 3.75a.75.75 0 0 0-1.5 0v3.5h-3.5a.75.75 0 0 0 0 1.5h3.5v3.5a.75.75 0 0 0 1.5 0v-3.5h3.5a.75.75 0 0 0 0-1.5h-3.5v-3.5Z"></path></svg>',mt,p,H,C,B,Y,S,Z,at,dt,j,pt='<div class="self-center mr-2 font-medium">Import Documents Mapping</div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 9.5a.75.75 0 0 1-.75-.75V8.06l-.72.72a.75.75 0 0 1-1.06-1.06l2-2a.75.75 0 0 1 1.06 0l2 2a.75.75 0 1 1-1.06 1.06l-.72-.72v2.69a.75.75 0 0 1-.75.75Z" clip-rule="evenodd"></path></svg></div>',ut,ht,At='<div class="self-center mr-2 font-medium">Export Documents Mapping</div> <div class="self-center"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4"><path fill-rule="evenodd" d="M4 2a1.5 1.5 0 0 0-1.5 1.5v9A1.5 1.5 0 0 0 4 14h8a1.5 1.5 0 0 0 1.5-1.5V6.621a1.5 1.5 0 0 0-.44-1.06L9.94 2.439A1.5 1.5 0 0 0 8.878 2H4Zm4 3.5a.75.75 0 0 1 .75.75v2.69l.72-.72a.75.75 0 1 1 1.06 1.06l-2 2a.75.75 0 0 1-1.06 0l-2-2a.75.75 0 0 1 1.06-1.06l.72.72V6.25A.75.75 0 0 1 8 5.5Z" clip-rule="evenodd"></path></svg></div>',bt,_t,Bt;ce.title=t=`
		Documents | ${s[12]}
	`;let ot=s[10]&&ye(s),wt=De(s);function ee(b){s[17](b)}let le={};s[7]!==void 0&&(le.show=s[7]),a=new pl({props:le}),Pt.push(()=>Jt(a,"show",ee));function gt(b){s[18](b)}let vt={};s[6]!==void 0&&(vt.show=s[6]),v=new ul({props:vt}),Pt.push(()=>Jt(v,"show",gt));let W=s[5].length>0&&Ee(s),kt=re(s[11]),nt=[];for(let b=0;b<kt.length;b+=1)nt[b]=Te(be(s,kt,b));const Zt=b=>ft(nt[b],1,1,()=>{nt[b]=null});return{c(){e=E(),ot&&ot.c(),l=E(),wt.c(),f=E(),Mt(a.$$.fragment),c=E(),Mt(v.$$.fragment),m=E(),w=d("div"),D=d("div"),k=d("div"),x=d("div"),T=d("div"),P=d("div"),P.textContent=V,y=E(),L=d("div"),R=d("button"),R.innerHTML=ct,U=E(),N=d("div"),N.textContent=M,F=E(),O=d("div"),J=d("div"),z=d("div"),z.innerHTML=K,lt=E(),$=d("input"),tt=E(),Q=d("div"),A=d("button"),A.innerHTML=X,mt=E(),p=d("hr"),H=E(),W&&W.c(),C=E(),B=d("div");for(let b=0;b<nt.length;b+=1)nt[b].c();Y=E(),S=d("div"),Z=d("div"),at=d("input"),dt=E(),j=d("button"),j.innerHTML=pt,ut=E(),ht=d("button"),ht.innerHTML=At,this.h()},l(b){Pe("svelte-1jyvne9",ce.head).forEach(h),e=I(b),ot&&ot.l(b),l=I(b),wt.l(b),f=I(b),Lt(a.$$.fragment,b),c=I(b),Lt(v.$$.fragment,b),m=I(b),w=u(b,"DIV",{class:!0});var xt=_(w);D=u(xt,"DIV",{class:!0});var jt=_(D);k=u(jt,"DIV",{class:!0});var et=_(k);x=u(et,"DIV",{class:!0});var It=_(x);T=u(It,"DIV",{class:!0});var zt=_(T);P=u(zt,"DIV",{class:!0,"data-svelte-h":!0}),G(P)!=="svelte-z8eqhm"&&(P.textContent=V),y=I(zt),L=u(zt,"DIV",{});var se=_(L);R=u(se,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),G(R)!=="svelte-1kwaowx"&&(R.innerHTML=ct),se.forEach(h),zt.forEach(h),U=I(It),N=u(It,"DIV",{class:!0,"data-svelte-h":!0}),G(N)!=="svelte-41li7w"&&(N.textContent=M),It.forEach(h),F=I(et),O=u(et,"DIV",{class:!0});var Ot=_(O);J=u(Ot,"DIV",{class:!0});var qt=_(J);z=u(qt,"DIV",{class:!0,"data-svelte-h":!0}),G(z)!=="svelte-kinl2y"&&(z.innerHTML=K),lt=I(qt),$=u(qt,"INPUT",{class:!0,placeholder:!0}),qt.forEach(h),tt=I(Ot),Q=u(Ot,"DIV",{});var Ft=_(Q);A=u(Ft,"BUTTON",{class:!0,"data-svelte-h":!0}),G(A)!=="svelte-1mfes9a"&&(A.innerHTML=X),Ft.forEach(h),Ot.forEach(h),mt=I(et),p=u(et,"HR",{class:!0}),H=I(et),W&&W.l(et),C=I(et),B=u(et,"DIV",{class:!0});var he=_(B);for(let ie=0;ie<nt.length;ie+=1)nt[ie].l(he);he.forEach(h),Y=I(et),S=u(et,"DIV",{class:!0});var ve=_(S);Z=u(ve,"DIV",{class:!0});var Gt=_(Z);at=u(Gt,"INPUT",{id:!0,type:!0,accept:!0}),dt=I(Gt),j=u(Gt,"BUTTON",{class:!0,"data-svelte-h":!0}),G(j)!=="svelte-g8msjz"&&(j.innerHTML=pt),ut=I(Gt),ht=u(Gt,"BUTTON",{class:!0,"data-svelte-h":!0}),G(ht)!=="svelte-1gdyd1"&&(ht.innerHTML=At),Gt.forEach(h),ve.forEach(h),et.forEach(h),jt.forEach(h),xt.forEach(h),this.h()},h(){n(P,"class","text-2xl font-semibold self-center"),n(R,"class","flex items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition"),n(R,"type","button"),n(T,"class","flex justify-between items-center"),n(N,"class","text-gray-500 text-xs mt-1"),n(x,"class","mb-6"),n(z,"class","self-center ml-1 mr-3"),n($,"class","w-full text-sm pr-4 py-1 rounded-r-xl outline-none bg-transparent"),n($,"placeholder","Search Document"),n(J,"class","flex flex-1"),n(A,"class","px-2 py-2 rounded-xl border border-gray-200 dark:border-gray-600 dark:border-0 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 transition font-medium text-sm flex items-center space-x-1"),n(O,"class","flex w-full space-x-2"),n(p,"class","dark:border-gray-700 my-2.5"),n(B,"class","my-3 mb-5"),n(at,"id","documents-import-input"),n(at,"type","file"),n(at,"accept",".json"),at.hidden=!0,n(j,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),n(ht,"class","flex text-xs items-center space-x-1 px-3 py-1.5 rounded-xl bg-gray-50 hover:bg-gray-100 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 transition"),n(Z,"class","flex space-x-2"),n(S,"class","flex justify-end w-full mb-2"),n(k,"class","max-w-2xl mx-auto w-full px-3 md:px-0 my-10"),n(D,"class","flex flex-col justify-between w-full overflow-y-auto"),n(w,"class","min-h-screen max-h-[100dvh] w-full flex justify-center dark:text-white")},m(b,q){rt(b,e,q),ot&&ot.m(b,q),rt(b,l,q),wt.m(b,q),rt(b,f,q),Ht(a,b,q),rt(b,c,q),Ht(v,b,q),rt(b,m,q),rt(b,w,q),r(w,D),r(D,k),r(k,x),r(x,T),r(T,P),r(T,y),r(T,L),r(L,R),r(x,U),r(x,N),r(k,F),r(k,O),r(O,J),r(J,z),r(J,lt),r(J,$),yt($,s[0]),r(O,tt),r(O,Q),r(Q,A),r(k,mt),r(k,p),r(k,H),W&&W.m(k,null),r(k,C),r(k,B);for(let xt=0;xt<nt.length;xt+=1)nt[xt]&&nt[xt].m(B,null);r(k,Y),r(k,S),r(S,Z),r(Z,at),s[29](at),r(Z,dt),r(Z,j),r(Z,ut),r(Z,ht),bt=!0,_t||(Bt=[st(R,"click",s[19]),st($,"input",s[20]),st(A,"click",s[21]),st(at,"change",s[30]),st(at,"change",s[31]),st(j,"click",s[32]),st(ht,"click",s[33])],_t=!0)},p(b,q){(!bt||q[0]&4096)&&t!==(t=`
		Documents | ${b[12]}
	`)&&(ce.title=t),b[10]?ot?q[0]&1024&&it(ot,1):(ot=ye(b),ot.c(),it(ot,1),ot.m(l.parentNode,l)):ot&&(ne(),ft(ot,1,1,()=>{ot=null}),ae()),q[0]&512&&Rt(o,o=b[9])?(ne(),ft(wt,1,1,$t),ae(),wt=De(b),wt.c(),it(wt,1),wt.m(f.parentNode,f)):wt.p(b,q);const xt={};!i&&q[0]&128&&(i=!0,xt.show=b[7],Yt(()=>i=!1)),a.$set(xt);const jt={};if(!g&&q[0]&64&&(g=!0,jt.show=b[6],Yt(()=>g=!1)),v.$set(jt),q[0]&1&&$.value!==b[0]&&yt($,b[0]),b[5].length>0?W?(W.p(b,q),q[0]&32&&it(W,1)):(W=Ee(b),W.c(),it(W,1),W.m(k,C)):W&&(ne(),ft(W,1,1,()=>{W=null}),ae()),q[0]&19200){kt=re(b[11]);let et;for(et=0;et<kt.length;et+=1){const It=be(b,kt,et);nt[et]?(nt[et].p(It,q),it(nt[et],1)):(nt[et]=Te(It),nt[et].c(),it(nt[et],1),nt[et].m(B,null))}for(ne(),et=kt.length;et<nt.length;et+=1)Zt(et);ae()}},i(b){if(!bt){it(ot),it(wt),it(a.$$.fragment,b),it(v.$$.fragment,b),it(W);for(let q=0;q<kt.length;q+=1)it(nt[q]);bt=!0}},o(b){ft(ot),ft(wt),ft(a.$$.fragment,b),ft(v.$$.fragment,b),ft(W),nt=nt.filter(Boolean);for(let q=0;q<nt.length;q+=1)ft(nt[q]);bt=!1},d(b){b&&(h(e),h(l),h(f),h(c),h(m),h(w)),ot&&ot.d(b),wt.d(b),St(a,b),St(v,b),W&&W.d(),He(nt,b),s[29](null),_t=!1,Kt(Bt)}}}const Dl=s=>(s==null?void 0:s.selected)==="checked",Ce=s=>(s==null?void 0:s.selected)==="checked",Ve=s=>(s==null?void 0:s.selected)==="checked",Me=s=>(s==null?void 0:s.selected)==="checked",Le=s=>(s==null?void 0:s.selected)==="checked";function El(s,t,e){let l,o;me(s,Tt,p=>e(2,l=p)),me(s,Fe,p=>e(12,o=p));const{saveAs:f}=qe;let a="",i="",c,v=[],g=!1,m=!1,w=!1,D,k="",x=!1;const T=async p=>{await _e(localStorage.token,p),await Tt.set(await Ut(localStorage.token))},P=async p=>{await Promise.all(p.map(async H=>await _e(localStorage.token,H.name))),await Tt.set(await Ut(localStorage.token))},V=async p=>{const H=await Ne(localStorage.token,"",p).catch(C=>(Nt.error(C),null));H&&(await de(localStorage.token,H.collection_name,H.filename,Ae(H.filename),H.filename).catch(C=>(Nt.error(C),null)),await Tt.set(await Ut(localStorage.token)))};oe(()=>{Tt.subscribe(Y=>{e(5,v=Y.reduce((S,Z,at,dt)=>{var j;return[...new Set([...S,...(((j=Z==null?void 0:Z.content)==null?void 0:j.tags)??[]).map(pt=>pt.name)])]},[]))});const p=document.querySelector("body"),H=Y=>{Y.preventDefault(),e(10,x=!0)},C=()=>{e(10,x=!1)},B=async Y=>{var S,Z;if(Y.preventDefault(),console.log(Y),(S=Y.dataTransfer)!=null&&S.files){let at=new FileReader;at.onload=j=>{files=[...files,{type:"image",url:`${j.target.result}`}]};const dt=(Z=Y.dataTransfer)==null?void 0:Z.files;if(dt&&dt.length>0)for(const j of dt)console.log(j,j.name.split(".").at(-1)),Se.includes(j.type)||Be.includes(j.name.split(".").at(-1))||Nt.error(`Unknown File Type '${j.type}', but accepting and treating as plain text`),V(j);else Nt.error("File not found.")}e(10,x=!1)};return p==null||p.addEventListener("dragover",H),p==null||p.addEventListener("drop",B),p==null||p.addEventListener("dragleave",C),()=>{p==null||p.removeEventListener("dragover",H),p==null||p.removeEventListener("drop",B),p==null||p.removeEventListener("dragleave",C)}});let y;function L(p){w=p,e(8,w)}function R(p){m=p,e(7,m)}function ct(p){g=p,e(6,g)}const U=()=>{e(6,g=!g)};function N(){i=this.value,e(0,i)}const M=()=>{e(7,m=!0)},F=p=>{p.detail==="checked"?e(11,y=y.map(H=>({...H,selected:"checked"}))):p.detail==="unchecked"&&e(11,y=y.map(H=>({...H,selected:"unchecked"})))},O=async()=>{e(1,k="")},J=async p=>{e(1,k=p)},z=async()=>{P(y.filter(p=>p.selected==="checked"))},K=async(p,H)=>{H.stopPropagation(),e(8,w=!w),e(9,D=p)},lt=(p,H)=>{H.stopPropagation(),T(p.name)},$=(p,H,C)=>{(p==null?void 0:p.selected)==="checked"?e(11,H[C].selected="unchecked",y):e(11,H[C].selected="checked",y)};function tt(p){Pt[p?"unshift":"push"](()=>{c=p,e(4,c)})}function Q(){a=this.files,e(3,a)}const A=()=>{console.log(a);const p=new FileReader;p.onload=async H=>{const C=JSON.parse(H.target.result);console.log(C);for(const B of C)await de(localStorage.token,B.collection_name,B.filename,B.name,B.title).catch(Y=>(Nt.error(Y),null));await Tt.set(await Ut(localStorage.token))},p.readAsText(a[0])},X=()=>{c.click()},mt=async()=>{let p=new Blob([JSON.stringify(l)],{type:"application/json"});f(p,`documents-mapping-export-${Date.now()}.json`)};return s.$$.update=()=>{s.$$.dirty[0]&7&&e(11,y=l.filter(p=>{var H;return(k===""||(((H=p==null?void 0:p.content)==null?void 0:H.tags)??[]).map(C=>C.name).includes(k))&&(i===""||p.name.includes(i))}))},[i,k,l,a,c,v,g,m,w,D,x,y,o,f,T,P,L,R,ct,U,N,M,F,O,J,z,K,lt,$,tt,Q,A,X,mt]}class Ol extends Wt{constructor(t){super(),te(this,t,El,yl,Rt,{},null,[-1,-1])}}export{Ol as component};
